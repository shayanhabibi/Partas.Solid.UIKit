import{g as I,a as g,e as b,j,c as R,s as D,m as M,u as N,t as U,l as F,n as H}from"./iframe-CSkHCzVC.js";import{u as G}from"./LR7LBJN3-DTrf9afT.js";import{P as O}from"./FLVHQV4A-Dza2M8WJ.js";import{m as _,e as Z}from"./index-BtT_u8Hx.js";import{a as q,o as J,f as X,s as Y,b as K,h as Q,c as tt,d as et,p as rt}from"./floating-ui.dom-BNE0r0Ci.js";import{m as L}from"./index-Bs2ALodi.js";import{c as T}from"./combineProps-DXHHMuGc.js";var ot=U('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),$=I();function E(){const o=N($);if(o===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return o}var v=30,S=v/2,nt={top:180,right:-90,bottom:0,left:90};function st(o){const t=E(),n=_({size:v},o),[r,i]=D(n,["ref","style","size"]),c=()=>t.currentPlacement().split("-")[0],u=it(t.contentRef),y=()=>u()?.getPropertyValue("background-color")||"none",m=()=>u()?.getPropertyValue(`border-${c()}-color`)||"none",h=()=>u()?.getPropertyValue(`border-${c()}-width`)||"0px",P=()=>Number.parseInt(h())*2*(v/r.size),w=()=>`rotate(${nt[c()]} ${S} ${S}) translate(0 2)`;return R(O,M({as:"div",ref(s){var e=L(t.setArrowRef,r.ref);typeof e=="function"&&e(s)},"aria-hidden":"true",get style(){return T({position:"absolute","font-size":`${r.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:y(),stroke:m(),"stroke-width":P()},r.style)}},i,{get children(){var s=ot(),e=s.firstChild,l=e.firstChild;return l.nextSibling,F(()=>H(e,"transform",w())),s}}))}function it(o){const[t,n]=g();return b(()=>{const r=o();r&&n(Z(r).getComputedStyle(r))}),t}function at(o){const t=E(),[n,r]=D(o,["ref","style"]);return R(O,M({as:"div",ref(i){var c=L(t.setPositionerRef,n.ref);typeof c=="function"&&c(i)},"data-popper-positioner":"",get style(){return T({position:"absolute",top:0,left:0,"min-width":"max-content"},n.style)}},r))}function z(o){const{x:t=0,y:n=0,width:r=0,height:i=0}=o??{};if(typeof DOMRect=="function")return new DOMRect(t,n,r,i);const c={x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:n+i,left:t};return{...c,toJSON:()=>c}}function ct(o,t){return{contextElement:o,getBoundingClientRect:()=>{const r=t(o);return r?z(r):o?o.getBoundingClientRect():z()}}}function lt(o){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(o)}var pt={top:"bottom",right:"left",bottom:"top",left:"right"};function ft(o,t){const[n,r]=o.split("-"),i=pt[n];return r?n==="left"||n==="right"?`${i} ${r==="start"?"top":"bottom"}`:r==="start"?`${i} ${t==="rtl"?"right":"left"}`:`${i} ${t==="rtl"?"left":"right"}`:`${i} center`}function dt(o){const t=_({getAnchorRect:s=>s?.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},o),[n,r]=g(),[i,c]=g(),[u,y]=g(t.placement),m=()=>ct(t.anchorRef?.(),t.getAnchorRect),{direction:h}=G();async function P(){const s=m(),e=n(),l=i();if(!s||!e)return;const A=(l?.clientHeight||0)/2,V=typeof t.gutter=="number"?t.gutter+A:t.gutter??A;e.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),s.getBoundingClientRect();const d=[J(({placement:a})=>{const f=!!a.split("-")[1];return{mainAxis:V,crossAxis:f?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const a=typeof t.flip=="string"?t.flip.split(" "):void 0;if(a!==void 0&&!a.every(lt))throw new Error("`flip` expects a spaced-delimited list of placements");d.push(X({padding:t.overflowPadding,fallbackPlacements:a}))}(t.slide||t.overlap)&&d.push(Y({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),d.push(K({padding:t.overflowPadding,apply({availableWidth:a,availableHeight:f,rects:x}){const k=Math.round(x.reference.width);a=Math.floor(a),f=Math.floor(f),e.style.setProperty("--kb-popper-anchor-width",`${k}px`),e.style.setProperty("--kb-popper-content-available-width",`${a}px`),e.style.setProperty("--kb-popper-content-available-height",`${f}px`),t.sameWidth&&(e.style.width=`${k}px`),t.fitViewport&&(e.style.maxWidth=`${a}px`,e.style.maxHeight=`${f}px`)}})),t.hideWhenDetached&&d.push(Q({padding:t.detachedPadding})),l&&d.push(tt({element:l,padding:t.arrowPadding}));const p=await et(s,e,{placement:t.placement,strategy:"absolute",middleware:d,platform:{...rt,isRTL:()=>h()==="rtl"}});if(y(p.placement),t.onCurrentPlacementChange?.(p.placement),!e)return;e.style.setProperty("--kb-popper-content-transform-origin",ft(p.placement,h()));const W=Math.round(p.x),B=Math.round(p.y);let C;if(t.hideWhenDetached&&(C=p.middlewareData.hide?.referenceHidden?"hidden":"visible"),Object.assign(e.style,{top:"0",left:"0",transform:`translate3d(${W}px, ${B}px, 0)`,visibility:C}),l&&p.middlewareData.arrow){const{x:a,y:f}=p.middlewareData.arrow,x=p.placement.split("-")[0];Object.assign(l.style,{left:a!=null?`${a}px`:"",top:f!=null?`${f}px`:"",[x]:"100%"})}}b(()=>{const s=m(),e=n();if(!s||!e)return;const l=q(s,e,P,{elementResize:typeof ResizeObserver=="function"});j(l)}),b(()=>{const s=n(),e=t.contentRef?.();!s||!e||queueMicrotask(()=>{s.style.zIndex=getComputedStyle(e).zIndex})});const w={currentPlacement:u,contentRef:()=>t.contentRef?.(),setPositionerRef:r,setArrowRef:c};return R($.Provider,{value:w,get children(){return t.children}})}var xt=Object.assign(dt,{Arrow:st,Context:$,usePopperContext:E,Positioner:at});export{xt as P,st as a};
