import{s as I,d as R,e as N,f as q,c as n,m as d,S as G,a as Y,g as Z,u as J,h as Q,y as X,b as U,t as ee,i as y}from"./iframe-CQhh2Qu5.js";import{c as te}from"./VI7QYH27-BXj65VY7.js";import{F as re,c as oe}from"./NGHEENNE-dvvJAkSQ.js";import{u as L,F as ne,c as ae,a as se,b as ce,f as le,e as ie,d as de}from"./ZZYKR3VO-TYWTtIT_.js";import{P as D}from"./FLVHQV4A-C8oehw7Q.js";import{_ as ue}from"./5WXHJDCZ-DghNgBBa.js";import{m as E,v as me,c as pe,a as C,E as fe,w as be}from"./index-sxjzjzXW.js";import{s as he}from"./index-BeAt9i6J.js";import{m as F}from"./index-DFznmYTA.js";import{a as K}from"./index-DW9tDSAV.js";import{c as ge}from"./combineProps-BDGDEaHG.js";import{I as Ce}from"./Icon-BiJbdnQ6.js";import{c as ye}from"./check-BIsC9o7Y.js";import{L as ke}from"./Utils-CX15CBuI.js";import{L as O}from"./Label-C46agDJe.js";var ve={};ue(ve,{Checkbox:()=>_e,Control:()=>w,Description:()=>j,ErrorMessage:()=>H,Indicator:()=>T,Input:()=>A,Label:()=>V,Root:()=>M,useCheckboxContext:()=>b});var z=Z();function b(){const r=J(z);if(r===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return r}function w(r){const e=L(),t=b(),o=E({id:t.generateId("control")},r),[a,c]=I(o,["onClick","onKeyDown"]);return n(D,d({as:"div",onClick:l=>{C(l,a.onClick),t.toggle(),t.inputRef()?.focus()},onKeyDown:l=>{C(l,a.onKeyDown),l.key===fe.Space&&(t.toggle(),t.inputRef()?.focus())}},()=>e.dataset(),()=>t.dataset(),c))}function j(r){const e=b();return n(le,d(()=>e.dataset(),r))}function H(r){const e=b();return n(ie,d(()=>e.dataset(),r))}function T(r){const e=L(),t=b(),[o,a]=R(),c=E({id:t.generateId("indicator")},r),[m,h]=I(c,["ref","forceMount"]),{present:l}=he({show:()=>m.forceMount||t.indeterminate()||t.checked(),element:()=>o()??null});return n(G,{get when(){return l()},get children(){return n(D,d({as:"div",ref(k){var p=F(a,m.ref);typeof p=="function"&&p(k)}},()=>e.dataset(),()=>t.dataset(),h))}})}function A(r){let e;const t=L(),o=b(),a=E({id:o.generateId("input")},r),[c,m,h]=I(a,["ref","style","onChange","onFocus","onBlur"],re),{fieldProps:l}=oe(m),[k,p]=R(!1),g=s=>{if(C(s,c.onChange),s.stopPropagation(),!k()){const u=s.target;o.setIsChecked(u.checked),u.checked=o.checked()}p(!1)},f=s=>{C(s,c.onFocus),o.setIsFocused(!0)},P=s=>{C(s,c.onBlur),o.setIsFocused(!1)};return N(q([()=>o.checked(),()=>o.value()],()=>{p(!0),e?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),e?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),N(q([()=>e,()=>o.indeterminate(),()=>o.checked()],([s,u])=>{s&&(s.indeterminate=u)})),n(D,d({as:"input",ref(s){var u=F(i=>{o.setInputRef(i),e=i},c.ref);typeof u=="function"&&u(s)},type:"checkbox",get id(){return l.id()},get name(){return t.name()},get value(){return o.value()},get checked(){return o.checked()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return ge(me,c.style)},get"aria-label"(){return l.ariaLabel()},get"aria-labelledby"(){return l.ariaLabelledBy()},get"aria-describedby"(){return l.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()},get"aria-disabled"(){return t.isDisabled()},get"aria-readonly"(){return t.isReadOnly()},onChange:g,onFocus:f,onBlur:P},()=>t.dataset(),()=>o.dataset(),h))}function V(r){const e=b();return n(de,d(()=>e.dataset(),r))}function M(r){let e;const t=`checkbox-${Q()}`,o=E({value:"on",id:t},r),[a,c,m]=I(o,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],ne),[h,l]=R(),[k,p]=R(!1),{formControlContext:g}=ae(c),f=te({isSelected:()=>a.checked,defaultIsSelected:()=>a.defaultChecked,onSelectedChange:i=>a.onChange?.(i),isDisabled:()=>g.isDisabled(),isReadOnly:()=>g.isReadOnly()});se(()=>e,()=>f.setIsSelected(a.defaultChecked??!1));const P=i=>{C(i,a.onPointerDown),k()&&i.preventDefault()},s=Y(()=>({"data-checked":f.isSelected()?"":void 0,"data-indeterminate":a.indeterminate?"":void 0})),u={value:()=>a.value,dataset:s,checked:()=>f.isSelected(),indeterminate:()=>a.indeterminate??!1,inputRef:h,generateId:pe(()=>K(c.id)),toggle:()=>f.toggle(),setIsChecked:i=>f.setIsSelected(i),setIsFocused:p,setInputRef:l};return n(ce.Provider,{value:g,get children(){return n(z.Provider,{value:u,get children(){return n(D,d({as:"div",ref(i){var B=F(W=>e=W,a.ref);typeof B=="function"&&B(i)},role:"group",get id(){return K(c.id)},onPointerDown:P},()=>g.dataset(),s,m,{get children(){return n(xe,{state:u,get children(){return a.children}})}}))}})}})}function xe(r){const e=X(()=>{const t=r.children;return be(t)?t(r.state):t});return U(e)}var _e=Object.assign(M,{Control:w,Description:j,ErrorMessage:H,Indicator:T,Input:A,Label:V}),Re=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ie=r=>n(Ce,d(r,{iconNode:Re,name:"minus"})),Se=Ie;function S(r){const[e,t]=I(r,["indeterminate","class"]);return n(M,d({get indeterminate(){return e.indeterminate},get class(){return ke(["items-top group relative flex space-x-2",e.class])}},t,{"bool:n$":!1,children:o=>[n(A,{class:"peer"}),n(w,{class:`size-4 shrink-0 rounded-sm border border-primary\r
                data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50\r
                peer-focus-visible:focus-ring-offset data-[checked]:border-none\r
                data-[indeterminate]:border-none data-[checked]:bg-primary\r
                data-[indeterminate]:bg-primary data-[checked]:text-primary-foreground\r
                data-[indeterminate]:text-primary-foreground`,get children(){return n(T,{get children(){return U(()=>!!e.indeterminate)()?n(Se,{class:"size-4",strokeWidth:2}):n(ye,{class:"size-4",strokeWidth:2})}})}})]}))}var $=ee('<div class="flex flex-row place-items-center gap-2">');const{fn:De}=__STORYBOOK_MODULE_TEST__,Ee={args:{onChange:De()},argTypes:{checked:{control:{type:"boolean"},table:{type:{summary:"bool"}}},defaultChecked:{control:{type:"boolean"},table:{type:{summary:"bool"}}},onChange:{control:{type:!1},table:{type:{summary:"function"}}},indeterminate:{control:{type:"boolean"},table:{type:{summary:"bool"}}},name:{control:{type:"text"},table:{type:{summary:"string"}}},value:{control:{type:"text"},table:{type:{summary:"string"}}},validationState:{control:{type:"radio"},options:["invalid","valid"],table:{type:{summary:"[<StringEnum>]"}}},required:{control:{type:"boolean"},table:{type:{summary:"bool"}}},disabled:{control:{type:"boolean"},table:{type:{summary:"bool"}}},readOnly:{control:{type:"boolean"},table:{type:{summary:"bool"}}},children:{control:{type:!1},table:{type:{summary:"function"}}}},render:r=>(()=>{var e=$();return y(e,n(S,d(r,{"bool:n$":!1})),null),y(e,n(O,{children:"Checkbox Text"}),null),e})(),component:S},v={args:{}},x={render:r=>(()=>{var e=$();return y(e,n(S,d({id:"checkbox1"},r,{"bool:n$":!1})),null),y(e,n(O,{for:"checkbox1-input",children:"Click me!"}),null),e})()},_={render:r=>{const e=R(!1),t=e[0];return(()=>{var o=$();return y(o,n(S,{id:"checkbox2",onChange:a=>{e[1](a)},get checked(){return t()},get validationState(){return t()?"invalid":"valid"}}),null),y(o,n(O,{for:"checkbox2-input",children:"Don't want to be checked!"}),null),o})()}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...v.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  render: PARTAS_RENDER_BUILDER => <div class="flex flex-row place-items-center gap-2">\r
            <Checkbox id="checkbox1" {...PARTAS_RENDER_BUILDER} bool:n$={false} />\r
            <Label for="checkbox1-input">\r
                Click me!\r
            </Label>\r
        </div>
}`,...x.parameters?.docs?.source}}};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:`{
  render: PARTAS_RENDER_BUILDER_2 => {
    const patternInput = createSignal(false);
    const value_2 = patternInput[0];
    return <div class="flex flex-row place-items-center gap-2">\r
                <Checkbox id="checkbox2" onChange={value_3 => {
        patternInput[1](value_3);
      }} checked={value_2()} validationState={value_2() ? "invalid" : "valid"} />\r
                <Label for="checkbox2-input">\r
                    Don't want to be checked!\r
                </Label>\r
            </div>;
  }
}`,..._.parameters?.docs?.source}}};const Pe=["Default","ConnectedLabel","Validation"],He=Object.freeze(Object.defineProperty({__proto__:null,ConnectedLabel:x,Default:v,Validation:_,__namedExportsOrder:Pe,default:Ee},Symbol.toStringTag,{value:"Module"}));export{He as C,v as D,_ as V,x as a};
