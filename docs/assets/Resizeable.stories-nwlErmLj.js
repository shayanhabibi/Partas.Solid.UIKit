import{m as L,s as Y,a as _,f as Q,b as U,j as Ge,c as R,k as G,g as We,e as Ye,S as ce,t as ze,v as T,l as we,u as fe,d as ge,h as Ae,x as be,i as Xe}from"./iframe-BM9GGKTp.js";import{c as qe,s as Ze,D as Se,d as ie,u as he,a as me,o as ke,i as Me}from"./size-3n9qgNTe.js";import{b as ve,d as K,s as Je}from"./GZJAOTUE-C8veUlZR.js";import{m as Pe,s as Qe}from"./U42ECMND-BDjyePcW.js";import{L as He}from"./Utils-D0o1erub.js";import{I as et}from"./Icon-BM3j_ew-.js";import"./preload-helper-PPVm8Dsz.js";var tt=ze('<div data-corvu-resizable-handle-start-intersection style="aspect-ratio:1 / 1;z-index:1">'),nt=ze('<div data-corvu-resizable-handle-end-intersection style="aspect-ratio:1 / 1;z-index:1">'),Te=ge(),it=e=>e===void 0?Te:me(`resizable-${e}`),at=e=>{if(e===void 0){const t=fe(Te);if(!t)throw new Error("[corvu]: Resizable context not found. Make sure to wrap Resizable components in <Resizable.Root>");return t}const n=he(`resizable-${e}`);if(!n)throw new Error(`[corvu]: Resizable context with id "${e}" not found. Make sure to wrap Resizable components in <Resizable.Root contextId="${e}">`);return n},_e=ge(),rt=e=>e===void 0?_e:me(`resizable-internal-${e}`),Oe=e=>{if(e===void 0){const t=fe(_e);if(!t)throw new Error("[corvu]: Resizable context not found. Make sure to wrap Resizable components in <Resizable.Root>");return t}const n=he(`resizable-internal-${e}`);if(!n)throw new Error(`[corvu]: Resizable context with id "${e}" not found. Make sure to wrap Resizable components in <Resizable.Root contextId="${e}">`);return n},h=(e,n)=>{if(typeof e=="number")return e;if(!e.endsWith("px"))throw new Error(`[corvu] Sizes must be a number or a string ending with 'px'. Got ${e}`);return k(parseFloat(e)/n)},ee=e=>{const n=e.panels.filter(i=>!!(e.focusedElement.compareDocumentPosition(i.data.element)&Node.DOCUMENT_POSITION_PRECEDING)),t=e.panels.filter(i=>!!(e.focusedElement.compareDocumentPosition(i.data.element)&Node.DOCUMENT_POSITION_FOLLOWING));return[n,t]},lt=6,k=e=>parseFloat(e.toFixed(lt)),de=null,F=null,A=0,ot={1:"e-resize",2:"w-resize",3:"ew-resize",4:"s-resize",8:"n-resize",12:"ns-resize",5:"se-resize",9:"ne-resize",6:"sw-resize",10:"nw-resize"},oe=null,ye=()=>{if(!de){F&&(oe=null,F.remove(),F=null);return}let e=ot[A]??null;if(e===null)switch(de){case"horizontal":e="col-resize";break;case"vertical":e="row-resize";break;case"both":e="move";break}e!==oe&&(oe=e,F||(F=document.createElement("style"),document.head.appendChild(F)),F.innerHTML=`*{cursor: ${e}!important;}`)},De=(e,n)=>{switch(e){case"horizontal":n===1?(A|=1,A&=-3):n===2?(A|=2,A&=-2):n===3?A|=3:A&=-4;break;case"vertical":n===1?(A|=4,A&=-9):n===2?(A|=8,A&=-5):n===3?A|=12:A&=-13;break}ye()},st=()=>{A=0,ye()},ue=e=>{de=e,ye()},Ie=e=>{if(k(e.distributablePercentage)!==k(e.desiredPercentage)){let n=null;e.betweenCollapse===!0?n=3:e.desiredPercentage<e.distributablePercentage&&e.revertConstraints!==!0||e.desiredPercentage>e.distributablePercentage&&e.revertConstraints===!0?n=1:n=2,De(e.orientation,n)}else De(e.orientation,0)},N=[],j=null,Le=null,ct=1,te=(e,n)=>Math.abs(e-n)<=ct,dt=e=>{N.push(e);for(const n of N)for(const t of N){if(n.orientation===t.orientation||n.element===t.element)continue;const i=n.element.getBoundingClientRect(),a=t.element.getBoundingClientRect();if(n.orientation==="horizontal"&&(i.left>a.right||i.right<a.left)||n.orientation==="vertical"&&(i.top>a.bottom||i.bottom<a.top))continue;const l=n.orientation==="horizontal"?te(i.top,a.bottom):te(i.left,a.right),m=n.orientation==="horizontal"?te(i.bottom,a.top):te(i.right,a.left);l&&n.startIntersection.setHandle(t),m&&n.endIntersection.setHandle(t)}return{onDragStart:(n,t)=>zt(e,n,t),onHoveredChange:n=>{Le=n;const t=!!j;let i=null;be(()=>{switch(n){case"handle":{const a=e.startIntersection.handle(),l=e.endIntersection.handle();t||(e.setActive(!0),a?.setActive(!1),l?.setActive(!1)),a?.setHoveredAsIntersection(!1),l?.setHoveredAsIntersection(!1),i=e.orientation;break}case"startIntersection":{const a=e.startIntersection.handle();t||a?.setActive(!0),a?.setHoveredAsIntersection(!0),i="both";break}case"endIntersection":{const a=e.endIntersection.handle();t||a?.setActive(!0),a?.setHoveredAsIntersection(!0),i="both";break}case null:{const a=e.startIntersection.handle(),l=e.endIntersection.handle();!t&&!e.focused()&&(e.setActive(!1),a?.setActive(!1),l?.setActive(!1)),a?.setHoveredAsIntersection(!1),l?.setHoveredAsIntersection(!1),i=null;break}}!t&&e.handleCursorStyle()&&ue(i)})}}},ut=e=>{N.splice(N.indexOf(e),1)},zt=(e,n,t)=>{j={x:n.clientX,y:n.clientY},be(()=>{e.setDragging(!0),t==="startIntersection"&&e.startIntersection.handle()?.setDragging(!0),t==="endIntersection"&&e.endIntersection.handle()?.setDragging(!0)}),window.addEventListener("pointermove",Ne),window.addEventListener("touchmove",Ke),window.addEventListener("pointerup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W)},Ne=e=>$e(e.clientX,e.clientY,e.altKey),Ke=e=>{e.touches[0]&&$e(e.touches[0].clientX,e.touches[0].clientY,e.altKey)},Ce=!1,$e=(e,n,t)=>{if(j){N.some(i=>i.dragging()&&i.altKey==="only")&&(t=!0),N.some(i=>i.dragging()&&i.altKey===!1)&&(t=!1),Ce!==t&&(j={x:e,y:n},Ce=t);for(const i of N)i.dragging()&&i.onDrag(i.orientation==="horizontal"?e-j.x:n-j.y,t)}},W=e=>{be(()=>{for(const n of N)n.dragging()?(n.setDragging(!1),n.onDragEnd(e),!n.hovered()&&!n.hoveredAsIntersection()&&n.setActive(!1),!Le&&n.handleCursorStyle()&&ue(null)):Qe(n.hovered,n.focused,n.hoveredAsIntersection)&&(n.setActive(!0),n.handleCursorStyle()&&ue(n.orientation))}),st(),j=null,window.removeEventListener("pointermove",Ne),window.removeEventListener("touchmove",Ke),window.removeEventListener("pointerup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W)},ft=e=>{const n=L({startIntersection:!0,endIntersection:!0,altKey:!0},e),[t,i]=Y(n,["startIntersection","endIntersection","altKey","onHandleDragStart","onHandleDrag","onHandleDragEnd","contextId","ref","style","disabled","children","onMouseEnter","onMouseLeave","onKeyDown","onKeyUp","onFocus","onBlur","onPointerDown"]),[a,l]=_(null),[m,w]=_(!1),[o,d]=_(null),[I,x]=_(!1),[p,S]=_(!1),[C,E]=_(!1),[O,M]=_(null),[b,D]=_(null),g=U(()=>Oe(t.contextId)),V=U(()=>{const r=a();if(!r)return;const s=g().panels(),[c,v]=ee({panels:s,focusedElement:r}),P=c[c.length-1]?.data.id,X=v.reduce((Z,J)=>Z-h(J.data.minSize,g().rootSize()),1),$=c.reduce((Z,J)=>Z+h(J.data.minSize,g().rootSize()),0),q=c.reduce((Z,J)=>Z+h(J.size(),g().rootSize()),0);return{ariaControls:P,ariaValueMax:k(X),ariaValueMin:k($),ariaValueNow:k(q)}});let B=null;return Q(()=>{if(t.disabled===!0)return;const r=a();if(!r)return;const s={element:r,orientation:g().orientation(),handleCursorStyle:g().handleCursorStyle,altKey:t.altKey,startIntersection:{handle:O,setHandle:c=>{t.startIntersection===!0&&M(c)}},endIntersection:{handle:b,setHandle:c=>{t.endIntersection===!0&&D(c)}},hovered:o,focused:I,hoveredAsIntersection:m,setHoveredAsIntersection:w,active:p,setActive:S,dragging:C,setDragging:E,onDrag:(c,v)=>{if(t.onHandleDrag!==void 0){const P=new CustomEvent("drag",{cancelable:!0});if(t.onHandleDrag(P),P.defaultPrevented)return}g().onDrag(r,c,v)},onDragEnd:c=>{t.onHandleDragEnd?.(c),g().onDragEnd()}};B=dt(s),Ae(()=>{ut(s),B=null})}),Q(We(o,()=>{B?.onHoveredChange(o())})),R(Se,L({as:"button",ref(r){var s=Pe(l,t.ref);typeof s=="function"&&s(r)},get style(){return ve({position:"relative",cursor:g().handleCursorStyle()?"inherit":void 0,"touch-action":"none","flex-shrink":0},t.style)},get disabled(){return t.disabled},onBlur:r=>{K(t.onBlur,r)||(x(!1),!o()&&S(!1))},onFocus:r=>{K(t.onFocus,r)||o()||(x(!0),S(!0))},onKeyDown:r=>{if(K(t.onKeyDown,r)||C())return;const s=a();if(!s)return;const c=t.altKey==="only"||t.altKey!==!1&&r.altKey;g().onKeyDown(s,r,c)},onKeyUp:r=>{K(t.onKeyUp,r)||r.key!=="Tab"||x(!0)},onMouseEnter:r=>{K(t.onMouseEnter,r)||t.disabled===!0||d("handle")},onMouseLeave:r=>{K(t.onMouseLeave,r)||d(null)},onPointerDown:r=>{if(K(t.onPointerDown,r)||K(t.onHandleDragStart,r))return;const s=r.target;s.setPointerCapture(r.pointerId);let c="handle";s.hasAttribute("data-corvu-resizable-handle-start-intersection")&&(c="startIntersection"),s.hasAttribute("data-corvu-resizable-handle-end-intersection")&&(c="endIntersection"),B?.onDragStart(r,c)},role:"separator",get"aria-controls"(){return V()?.ariaControls},get"aria-orientation"(){return g().orientation()},get"aria-valuemax"(){return V()?.ariaValueMax},get"aria-valuemin"(){return V()?.ariaValueMin},get"aria-valuenow"(){return V()?.ariaValueNow},get"data-active"(){return ie(p())},get"data-dragging"(){return ie(C())},get"data-orientation"(){return g().orientation()},"data-corvu-resizable-handle":""},i,{get children(){return[R(ce,{get when(){return O()},get children(){var r=tt();return r.addEventListener("mouseleave",s=>{a()?.contains(s.relatedTarget)===!0?d("handle"):d(null)}),r.addEventListener("mouseenter",()=>d("startIntersection")),T(r,"position","absolute"),T(r,"top","0"),T(r,"left","0"),we(s=>{var c=g().orientation()==="horizontal"?void 0:"100%",v=g().orientation()==="horizontal"?"100%":void 0,P=g().orientation()==="horizontal"?"translate3d(0, -100%, 0)":"translate3d(-100%, 0, 0)";return c!==s.e&&T(r,"height",s.e=c),v!==s.t&&T(r,"width",s.t=v),P!==s.a&&T(r,"transform",s.a=P),s},{e:void 0,t:void 0,a:void 0}),r}}),Ye(()=>t.children),R(ce,{get when(){return b()},get children(){var r=nt();return r.addEventListener("mouseleave",s=>{a()?.contains(s.relatedTarget)===!0?d("handle"):d(null)}),r.addEventListener("mouseenter",()=>d("endIntersection")),T(r,"position","absolute"),T(r,"bottom","0"),T(r,"right","0"),we(s=>{var c=g().orientation()==="horizontal"?void 0:"100%",v=g().orientation()==="horizontal"?"100%":void 0,P=g().orientation()==="horizontal"?"translate3d(0, 100%, 0)":"translate3d(100%, 0, 0)";return c!==s.e&&T(r,"height",s.e=c),v!==s.t&&T(r,"width",s.t=v),P!==s.a&&T(r,"transform",s.a=P),s},{e:void 0,t:void 0,a:void 0}),r}})]}}))},Fe=ft,je=ge(),gt=e=>e===void 0?je:me(`resizable-panel-${e}`),bt=e=>{if(e===void 0){const t=fe(je);if(!t)throw new Error("[corvu]: Resizable panel context not found. Make sure to call usePanelContext under <Resizable.Panel>");return t}const n=he(`resizable-panel-${e}`);if(!n)throw new Error(`[corvu]: Resizable context with id "${e}" not found. Make sure to call usePanelContext under <Resizable.Panel contextId="${e}">`);return n},St=e=>{const n=L({initialSize:null,minSize:0,maxSize:1,collapsible:!1,collapsedSize:0,collapseThreshold:.05,panelId:Ge()},e),[t,i]=Y(n,["initialSize","minSize","maxSize","collapsible","collapsedSize","collapseThreshold","onResize","onCollapse","onExpand","contextId","panelId","ref","style","children"]),[a,l]=_(null),m=U(()=>Oe(t.contextId)),[w,o]=_(null);Q(()=>{const b=a();if(!b)return;const D=m(),g=G(()=>D.registerPanel({id:t.panelId,element:b,initialSize:t.initialSize,minSize:t.minSize,maxSize:t.maxSize,collapsible:t.collapsible,collapsedSize:t.collapsedSize,collapseThreshold:t.collapseThreshold,onResize:t.onResize}));o(g),Ae(()=>{D.unregisterPanel(g.data.id)})});const d=()=>{const b=w();return b?b.size():typeof t.initialSize=="number"?t.initialSize:1},I=U(b=>{const D=w();if(t.collapsible!==!0)return!1;const g=D?D.size()===h(t.collapsedSize,m().rootSize()):!1;return D&&b!==g&&(g&&t.onCollapse!==void 0?t.onCollapse(D.size()):!g&&t.onExpand!==void 0&&t.onExpand(D.size())),g}),x=(b,D)=>{const g=w();g&&g.resize(b,D??"both")},p=b=>{const D=w();D&&D.collapse(b??"both")},S=b=>{const D=w();D&&D.expand(b??"both")},C={get size(){return d()},get minSize(){return t.minSize},get maxSize(){return t.maxSize},get collapsible(){return t.collapsible},get collapsedSize(){return t.collapsedSize},get collapseThreshold(){return t.collapseThreshold},get collapsed(){return I()},resize:x,collapse:p,expand:S,get panelId(){return t.panelId}},E=ke(()=>t.children),O=()=>{const b=E()();return Me(b)?b(C):b};return U(()=>{const b=gt(t.contextId);return R(b.Provider,{value:{size:d,minSize:()=>t.minSize,maxSize:()=>t.maxSize,collapsible:()=>t.collapsible,collapsedSize:()=>t.collapsedSize,collapseThreshold:()=>t.collapseThreshold,collapsed:I,resize:x,collapse:p,expand:S,panelId:()=>t.panelId},get children(){return R(Se,L({as:"div",ref(D){var g=Pe(l,t.ref);typeof g=="function"&&g(D)},get style(){return ve({"flex-basis":d()*100+"%"},t.style)},get id(){return t.panelId},get"data-collapsed"(){return ie(I())},get"data-expanded"(){return ie(t.collapsible===!0&&!I())},get"data-orientation"(){return m().orientation()},"data-corvu-resizable-panel":""},i,{get children(){return G(()=>O())}}))}})})},Ue=St,ae=e=>{let n=e.desiredPercentage>=0?1/0:-1/0,t=e.initialSizes;for(const i of e.resizeActions){const a=i.negate!==!0?e.desiredPercentage:-e.desiredPercentage;let[l,m,w]=re({desiredPercentage:a,side:"preceding",panels:i.precedingPanels,initialSizes:t,initialSizesStartIndex:0,collapsible:e.collapsible,rootSize:e.resizableData.rootSize}),[o,d,I]=re({desiredPercentage:a,side:"following",panels:i.followingPanels,initialSizes:t,initialSizesStartIndex:i.precedingPanels.length,collapsible:e.collapsible,rootSize:e.resizableData.rootSize});i.negate===!0&&(l=-l,o=-o),w&&(o=l),I&&(l=o),e.desiredPercentage>=0?n=Math.min(n,Math.min(l,o)):n=Math.max(n,Math.max(l,o)),t=[...m,...d]}return n},re=e=>{e.desiredPercentage=k(e.desiredPercentage);const n=ht({side:e.side,desiredPercentage:e.desiredPercentage});let t=0;const i=e.initialSizes.slice(e.initialSizesStartIndex,e.initialSizesStartIndex+e.panels.length);for(let S=e.side==="preceding"?e.panels.length-1:0;e.side==="preceding"?S>=0:S<e.panels.length;e.side==="preceding"?S--:S++){const C=e.panels[S],E=e.initialSizes[S+e.initialSizesStartIndex],O=h(C.data.collapsedSize??0,e.rootSize);if(C.data.collapsible&&E===O)continue;const M=k(e.desiredPercentage-t);if(M===0)break;switch(n){case"precedingDecreasing":{const b=h(C.data.minSize,e.rootSize);i[S]=Math.max(b,E+M),t+=i[S]-E;break}case"followingDecreasing":{const b=h(C.data.minSize,e.rootSize);i[S]=Math.max(b,E-M),t-=i[S]-E;break}case"precedingIncreasing":{const b=h(C.data.maxSize,e.rootSize);i[S]=Math.min(b,E+M),t+=i[S]-E;break}case"followingIncreasing":{const b=h(C.data.maxSize,e.rootSize);i[S]=Math.min(b,E-M),t-=i[S]-E;break}}}if(t=k(t),!e.collapsible||t===e.desiredPercentage)return[t,i,!1];const a=e.side==="preceding"?e.panels.length-1:0,l=e.panels[a];if(!l.data.collapsible)return[t,i,!1];const m=k(e.desiredPercentage-t);let w=!1;const o=e.initialSizes[a+e.initialSizesStartIndex],d=h(l.data.minSize,e.rootSize),I=h(l.data.collapsedSize??0,e.rootSize),x=Math.min(h(l.data.collapseThreshold??0,e.rootSize),d-I),p=o===I;if(n==="precedingDecreasing"&&!p&&Math.abs(m)>=x)t-=i[a]-o,i[a]=I,t+=i[a]-o,w=!0;else if(n==="precedingIncreasing"&&p&&Math.abs(m)>=x){const S=h(l.data.minSize,e.rootSize);if(i[a]=S,Math.abs(m)>=S-I){const C=h(l.data.maxSize,e.rootSize);i[a]=Math.min(C,o+m)}else w=!0;t+=i[a]-o}else if(n==="followingDecreasing"&&!p&&Math.abs(m)>=x)t+=i[a]-o,i[a]=I,t-=i[a]-o,w=!0;else if(n==="followingIncreasing"&&p&&Math.abs(m)>=x){const S=h(l.data.minSize,e.rootSize);if(i[a]=S,Math.abs(m)>=S-I){const C=h(l.data.maxSize,e.rootSize);i[a]=Math.min(C,o-m)}else w=!0;t-=i[a]-o}return[t,i,w]},ht=e=>{switch(e.side){case"preceding":return e.desiredPercentage>=0?"precedingIncreasing":"precedingDecreasing";case"following":return e.desiredPercentage>=0?"followingDecreasing":"followingIncreasing"}},le=e=>{let n=e.initialSizes;for(const i of e.resizeActions){const[,a]=re({desiredPercentage:i.deltaPercentage,side:"preceding",panels:i.precedingPanels,initialSizes:n,initialSizesStartIndex:0,collapsible:e.collapsible,rootSize:e.resizableData.rootSize}),[,l]=re({desiredPercentage:i.deltaPercentage,side:"following",panels:i.followingPanels,initialSizes:n,initialSizesStartIndex:i.precedingPanels.length,collapsible:e.collapsible,rootSize:e.resizableData.rootSize});n=[...a,...l]}n=n.map(k);const t=n.reduce((i,a)=>i+a,0);if(t!==1){const a=(t-1)/n.length;n=n.map(l=>l-a)}e.resizableData.setSizes(n.map(k))},se=e=>{let[n,t]=ee({panels:e.panels,focusedElement:e.panel.data.element});const i=e.panels.indexOf(e.panel);if(i===0?e.strategy="following":i===e.panels.length-1&&(e.strategy="preceding"),e.strategy==="both"){const a=[...n,e.panel],l=[e.panel,...t],m=ae({desiredPercentage:e.deltaPercentage/2,initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:a,followingPanels:t},{precedingPanels:n,followingPanels:l,negate:!0}],resizableData:{rootSize:e.resizableData.rootSize}});le({initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:a,followingPanels:t,deltaPercentage:m},{precedingPanels:n,followingPanels:l,deltaPercentage:-m}],resizableData:e.resizableData})}else{n=e.strategy==="preceding"?n:[...n,e.panel],t=e.strategy==="following"?t:[e.panel,...t],e.strategy==="preceding"&&(e.deltaPercentage=-e.deltaPercentage);const a=ae({desiredPercentage:e.deltaPercentage,initialSizes:e.initialSizes,collapsible:e.collapsible,resizeActions:[{precedingPanels:n,followingPanels:t}],resizableData:{rootSize:e.resizableData.rootSize}});le({initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:n,followingPanels:t,deltaPercentage:a}],resizableData:e.resizableData})}},Ee=e=>{if(e.altKey&&e.panels.length>2){let n=e.panels.filter(S=>!!(e.handle.compareDocumentPosition(S.data.element)&Node.DOCUMENT_POSITION_PRECEDING)).length-1;const t=n===0;t&&(n++,e.deltaPercentage=-e.deltaPercentage);const i=e.panels[n],a=e.initialSizes[n],l=h(i.data.minSize,e.resizableData.rootSize)-a,m=h(i.data.maxSize,e.resizableData.rootSize)-a,w=Math.max(l,Math.min(e.deltaPercentage*2,m))/2,[o,d]=ee({panels:e.panels,focusedElement:i.data.element}),I=[...o,i],x=[i,...d],p=ae({desiredPercentage:w,initialSizes:e.initialSizes,collapsible:!1,resizeActions:[{precedingPanels:I,followingPanels:d},{precedingPanels:o,followingPanels:x,negate:!0}],resizableData:{rootSize:e.resizableData.rootSize}});e.resizableData.handleCursorStyle===!0&&Ie({orientation:e.resizableData.orientation,desiredPercentage:e.deltaPercentage,distributablePercentage:p,revertConstraints:t}),le({initialSizes:e.initialSizes,collapsible:!1,resizeActions:[{precedingPanels:I,followingPanels:d,deltaPercentage:p},{precedingPanels:o,followingPanels:x,deltaPercentage:-p}],resizableData:e.resizableData})}else{const[n,t]=ee({panels:e.panels,focusedElement:e.handle}),i=ae({desiredPercentage:e.deltaPercentage,initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:n,followingPanels:t}],resizableData:{rootSize:e.resizableData.rootSize}});if(le({initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:n,followingPanels:t,deltaPercentage:i}],resizableData:e.resizableData}),e.resizableData.handleCursorStyle){const a=k(e.deltaPercentage),l=k(i);let m=!1;const w=n[n.length-1];if(w.data.collapsible){const d=h(w.data.collapsedSize??0,e.resizableData.rootSize);(w.size()===d&&a>l||w.size()!==d&&a<l)&&(m=!0)}const o=t[0];if(o.data.collapsible){const d=h(o.data.collapsedSize??0,e.resizableData.rootSize);(o.size()===d&&a<l||o.size()!==d&&a>l)&&(m=!0)}Ie({orientation:e.resizableData.orientation,desiredPercentage:e.deltaPercentage,distributablePercentage:i,betweenCollapse:m})}}},mt=e=>{const n=L({orientation:"horizontal",initialSizes:[],keyboardDelta:.1,handleCursorStyle:!0},e),[t,i]=Y(n,["orientation","sizes","onSizesChange","initialSizes","keyboardDelta","handleCursorStyle","contextId","ref","style","children"]),[a,l]=qe({value:()=>t.sizes,initialValue:[],onChange:t.onSizesChange}),[m,w]=_(null),o=Ze({element:m,dimension:()=>t.orientation==="horizontal"?"width":"height"}),[d,I]=_([]),x=[],p=z=>{const f=d().filter(v=>!!(z.element.compareDocumentPosition(v.data.element)&Node.DOCUMENT_POSITION_PRECEDING)).length,u=x[f]===void 0||x[f]===z.id,H=a()[f]!==void 0;let r=null;z.initialSize!==null?r=h(z.initialSize,o()):t.initialSizes[f]!==void 0&&u&&(r=h(t.initialSizes[f],o())),r=r??.5,l(v=>{let P=[...v];const X=P.reduce(($,q)=>$+q,0);if((u&&!H||!u)&&X===1){const $=r/P.length;P=P.map(q=>q-$)}return u?(H||(P[f]=r),x[f]=z.id):(P.splice(f,0,r),x.splice(f,0,z.id)),P});const s=U(()=>{const v=x.indexOf(z.id);return a()[v]});Q(()=>z.onResize?.(s()));const c={data:z,size:s,resize:(v,P)=>C(x.indexOf(z.id),v,P),collapse:v=>E(x.indexOf(z.id),v),expand:v=>O(x.indexOf(z.id),v)};return I(v=>{const P=[...v];return P.push(c),P.sort((X,$)=>Je(X.data.element,$.data.element)),P}),c},S=z=>{I(f=>f.filter(u=>u.data.id!==z));const y=x.indexOf(z);x.splice(y,1),l(f=>{let u=[...f];u.splice(y,1);const s=(u.reduce((c,v)=>c+v,0)-1)/u.length;return u=u.map(c=>c+s),u})};Q(()=>{t.onSizesChange!==void 0&&t.onSizesChange(a())});const C=(z,y,f)=>{G(()=>{const u=d()[z];if(!u)return;const H=h(u.data.minSize,o()),r=h(u.data.maxSize,o()),s=h(y,o()),v=Math.max(H,Math.min(s,r))-a()[z];se({deltaPercentage:v,strategy:f??"both",panel:u,panels:d(),initialSizes:d().map(P=>P.size()),collapsible:!1,resizableData:{rootSize:o(),orientation:t.orientation,setSizes:l}})})},E=(z,y)=>{G(()=>{const f=d()[z];if(!f)return;const u=a()[z],H=h(f.data.collapsedSize??0,o());if(!f.data.collapsible||u===H)return;const r=H-u;se({deltaPercentage:r,strategy:y??"both",panel:f,panels:d(),initialSizes:d().map(s=>s.size()),collapsible:!0,resizableData:{rootSize:o(),orientation:t.orientation,setSizes:l}})})},O=(z,y)=>{G(()=>{const f=d()[z];if(!f)return;const u=a()[z],H=h(f.data.collapsedSize??0,o());if(!f.data.collapsible||u!==H)return;const s=h(f.data.minSize,o())-u;se({deltaPercentage:s,strategy:y??"both",panel:f,panels:d(),initialSizes:d().map(c=>c.size()),collapsible:!0,resizableData:{rootSize:o(),orientation:t.orientation,setSizes:l}})})};let M=null,b=!1;const D=(z,y,f)=>{(M===null||b!==f)&&(M=d().map(u=>u.size()),b=f),Ee({deltaPercentage:y/o(),altKey:f,handle:z,panels:d(),initialSizes:M,resizableData:{rootSize:o(),handleCursorStyle:t.handleCursorStyle,orientation:t.orientation,setSizes:l}})},g=(z,y,f)=>{if(y.key==="Enter"){const[r,s]=ee({panels:d(),focusedElement:z});let c=r[r.length-1];if((!c||!c.data.collapsible)&&(c=s[0],!c||!c.data.collapsible))return;const v=c.size(),P=h(c.data.collapsedSize??0,o());v===P?c.expand("following"):c.collapse("following");return}let u=null;if(t.orientation==="horizontal"&&y.key==="ArrowLeft"||t.orientation==="vertical"&&y.key==="ArrowUp"||y.key==="Home"?y.shiftKey||y.key==="Home"?u=-1:u=-h(t.keyboardDelta,o()):(t.orientation==="horizontal"&&y.key==="ArrowRight"||t.orientation==="vertical"&&y.key==="ArrowDown"||y.key==="End")&&(y.shiftKey||y.key==="End"?u=1:u=h(t.keyboardDelta,o())),u===null)return;y.preventDefault();const H=d().map(r=>r.size());Ee({deltaPercentage:u,altKey:f,handle:z,panels:d(),initialSizes:H,resizableData:{rootSize:o(),handleCursorStyle:!1,orientation:t.orientation,setSizes:l}})},V={get sizes(){return a()},setSizes:l,get orientation(){return t.orientation},get keyboardDelta(){return t.keyboardDelta},get handleCursorStyle(){return t.handleCursorStyle},resize:C,collapse:E,expand:O},B=ke(()=>t.children),xe=()=>{const z=B()();return Me(z)?z(V):z};return U(()=>{const z=it(t.contextId),y=rt(t.contextId);return R(z.Provider,{value:{sizes:a,setSizes:l,orientation:()=>t.orientation,keyboardDelta:()=>t.keyboardDelta,handleCursorStyle:()=>t.handleCursorStyle,resize:C,collapse:E,expand:O},get children(){return R(y.Provider,{value:{sizes:a,setSizes:l,orientation:()=>t.orientation,keyboardDelta:()=>t.keyboardDelta,handleCursorStyle:()=>t.handleCursorStyle,rootSize:o,panels:d,registerPanel:p,unregisterPanel:S,onDrag:D,onDragEnd:()=>M=null,onKeyDown:g,resize:C,collapse:E,expand:O},get children(){return R(Se,L({as:"div",ref(f){var u=Pe(w,t.ref);typeof u=="function"&&u(f)},get style(){return ve({display:"flex","flex-direction":t.orientation==="horizontal"?"row":"column"},t.style)},get"data-orientation"(){return t.orientation},"data-corvu-resizable-root":""},i,{get children(){return G(()=>xe())}}))}})}})})},Ve=mt;Object.assign(Ve,{Panel:Ue,Handle:Fe,useContext:at,usePanelContext:bt});var vt=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Pt=e=>R(et,L(e,{iconNode:vt,name:"grip-vertical"})),yt=Pt,xt=ze('<div class="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">');function Re(e){const[n,t]=Y(e,["class"]);return R(Ve,L({get class(){return He(["flex size-full data-[orientation=vertical]:flex-col",n.class])}},t,{"bool:n$":!1}))}function pe(e){const[n,t]=Y(e,[]);return R(Ue,L(t,{"bool:n$":!1}))}function wt(e){const[n,t]=Y(e,["class","withHandle"]);return R(Fe,L({get class(){return He([`relative flex w-px shrink-0 items-center justify-center\r
            bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1\r
            after:-translate-x-1/2 focus-visible:outline-none\r
            focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1\r
            data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full\r
            data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1\r
            data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2\r
            data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90`,n.class])}},t,{"bool:n$":!1,get children(){return R(ce,{get when(){return n.withHandle},get children(){var i=xt();return Xe(i,R(yt,{class:"size-2.5",strokeWidth:2})),i}})}}))}const{fn:Dt}=__STORYBOOK_MODULE_TEST__,Mt={args:{onSizesChange:Dt()},argTypes:{orientation:{control:{type:"radio"},options:["horizontal","vertical"],table:{type:{summary:"[<StringEnum>]"}}},sizes:{control:{type:"object"},table:{type:{summary:"Array of Number (Float64, Empty)"}}},onSizesChange:{control:{type:!1},table:{type:{summary:"function"}}},initialSizes:{control:{type:"object"},table:{type:{summary:"Array of Number (Float64, Empty)"}}},keyboardDelta:{control:{type:"number"},table:{type:{summary:"float64"}}},handleCursorStyle:{control:{type:"boolean"},table:{type:{summary:"bool"}}},as:{control:{type:"object"},table:{type:{summary:"Element"}}},contextId:{control:{type:"text"},table:{type:{summary:"string"}}}},render:e=>R(Re,L(e,{"bool:n$":!1,get children(){return[R(pe,{children:"One"}),R(wt,{}),R(pe,{children:"Two"})]}})),component:Re},ne={args:{orientation:"horizontal"}};ne.parameters={...ne.parameters,docs:{...ne.parameters?.docs,source:{originalSource:`{
  args: {
    orientation: "horizontal"
  }
}`,...ne.parameters?.docs?.source}}};const Ht=["Default"];export{ne as Default,Ht as __namedExportsOrder,Mt as default};
