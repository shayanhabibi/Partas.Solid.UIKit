import{g as f,b as d,t as w}from"./Util-CLBO94nE.js";import{F as I,t as x,a as F}from"./List-7I-sXcIP.js";import{v as i,s as h}from"./Option-C1D3-SyF.js";import{c as N}from"./String-DLdTzCOk.js";import{d as v}from"./Array-ClWTAlF8.js";function A(e,t){if(t==null)throw new Error(N("Value cannot be null. (Parameter '",e,..."')"));return t}const G="Enumeration already finished.",$="Enumeration has not started. Call MoveNext.",M="Reset is not supported on this enumerator.";function O(){throw new Error(M)}function p(){throw new Error($)}function _(){throw new Error(G)}class R{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const o=f(t);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+F(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{d(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return w(f(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function q(e){return new R(e)}class b{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){O()}Dispose(){this.dispose()}}function C(e,t,n){return new b(e,t,n)}function V(e){let t,n,r=!1,o=!1,u;const m=()=>{if(o=!0,n!=null){const s=i(n);try{d(s)}finally{n=void 0}}if(t!=null){const s=i(t);try{d(s)}finally{t=void 0}}};return C(()=>(r?o&&_():p(),u!=null?i(u):_()),()=>{if(r||(r=!0),o)return!1;{let s;for(;s==null;){let l;const a=t,y=n;if(a!=null)if(y!=null){const c=i(y);if(c["System.Collections.IEnumerator.MoveNext"]())u=h(c["System.Collections.Generic.IEnumerator`1.get_Current"]()),s=!0;else try{d(c)}finally{n=void 0}}else{const c=i(a);c["System.Collections.IEnumerator.MoveNext"]()?n=(l=c["System.Collections.Generic.IEnumerator`1.get_Current"](),f(l)):(m(),s=!1)}else t=f(e)}return i(s)}},()=>{o||m()})}function k(e,t,n){let r=!1,o,u=h(e());const m=()=>{if(u!=null){const l=i(u);try{n(l)}finally{u=void 0}}},s=()=>{try{m()}finally{o=void 0}};return C(()=>(r||p(),o!=null?i(o):_()),()=>{if(r||(r=!0),u!=null){const l=i(u);let a;try{a=t(l)}catch(y){throw s(),y}return a!=null?(o=a,!0):(s(),!1)}else return!1},m)}function E(e){return q(e)}function D(e){return f(A("source",e))}function S(e){return E(()=>f(e()))}function g(e){return E(()=>V(e))}function K(){return S(()=>new Array(0))}function Q(e){return S(()=>v(e))}function T(e){return e instanceof I?x(e):Array.from(e)}function L(e,t,n){return E(()=>k(e,t,n))}function U(e,t){return g([e,t])}function P(e,t){return L(()=>D(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?h(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{d(n)})}function X(e,t){return S(()=>g(P(e,t)))}export{U as a,X as c,S as d,K as e,Q as s,T as t};
