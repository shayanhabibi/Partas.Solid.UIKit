import{g as f,h as m,t as x}from"./Util-DXwscfZV.js";import{t as w}from"./Types-CqbaJdUC.js";import{s as E,v as s}from"./Option-DlNMNgAB.js";import{O as N}from"./FSharp.Core-D1Pte0FF.js";import{s as v}from"./Array-C0Iq9Aiw.js";import{F,t as G}from"./List-CXqaB21e.js";const A="Enumeration already finished.",M="Enumeration has not started. Call MoveNext.",O="Reset is not supported on this enumerator.";function R(){throw new Error(O)}function S(){throw new Error(M)}function h(){throw new Error(A)}class ${constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const o=m(t);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+w(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{f(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return x(m(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function q(e){return new $(e)}class V{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){R()}Dispose(){this.dispose()}}function p(e,t,n){return new V(e,t,n)}function b(e){let t,n,r=!1,o=!1,i;const d=()=>{if(o=!0,n!=null){const u=s(n);try{f(u)}finally{n=void 0}}if(t!=null){const u=s(t);try{f(u)}finally{t=void 0}}};return p(()=>(r?o&&h():S(),i!=null?s(i):h()),()=>{if(r||(r=!0),o)return!1;{let u;for(;u==null;){let l;const a=t,y=n;if(a!=null)if(y!=null){const c=s(y);if(c["System.Collections.IEnumerator.MoveNext"]())i=E(c["System.Collections.Generic.IEnumerator`1.get_Current"]()),u=!0;else try{f(c)}finally{n=void 0}}else{const c=s(a);c["System.Collections.IEnumerator.MoveNext"]()?n=(l=c["System.Collections.Generic.IEnumerator`1.get_Current"](),m(l)):(d(),u=!1)}else t=m(e)}return s(u)}},()=>{o||d()})}function k(e,t,n){let r=!1,o,i=E(e());const d=()=>{if(i!=null){const l=s(i);try{n(l)}finally{i=void 0}}},u=()=>{try{d()}finally{o=void 0}};return p(()=>(r||S(),o!=null?s(o):h()),()=>{if(r||(r=!0),i!=null){const l=s(i);let a;try{a=t(l)}catch(y){throw u(),y}return a!=null?(o=a,!0):(u(),!1)}else return!1},d)}function D(e,t){let n,r=t;return p(()=>{if(n!=null){const o=s(n)[0];return s(n)[1],o}else return S()},()=>(n=e(r),n!=null?(s(n)[0],r=s(n)[1],!0):!1),()=>{})}function _(e){return q(e)}function g(e){return m(N("source",e))}function C(e){return _(()=>m(e()))}function I(e){return _(()=>b(e))}function T(e,t){return _(()=>D(e,t))}function U(){return C(()=>new Array(0))}function X(e){return C(()=>v(e))}function Y(e){return e instanceof F?G(e):Array.from(e)}function L(e,t,n){return _(()=>k(e,t,n))}function Z(e,t){return I([e,t])}function W(e,t,n){const r=g(n);try{let o=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)o=e(o,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{f(r)}}function ee(e,t){W((n,r)=>{e(r)},void 0,t)}function j(e,t){return L(()=>g(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?E(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{f(n)})}function te(e,t){return C(()=>I(j(e,t)))}export{Z as a,te as c,C as d,U as e,ee as i,j as m,X as s,Y as t,T as u};
