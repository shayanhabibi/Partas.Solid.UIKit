import{d as u,c as a,g as J,s as g,m as d,b as E,e as x,S as y,h as K,u as Q,P as V,j as b}from"./iframe-CxGoIJAb.js";import{a as Y,c as Z}from"./FBCYWU27-vfj_3iis.js";import{D as ee}from"./3VFJM5NZ-BluivHlh.js";import{c as te}from"./E53DB7BS-BNvrQJoi.js";import{B}from"./UKTBL2JL-wUtxpG-t.js";import{c as P}from"./JNCCF6MP-4sxnBYeu.js";import{P as R}from"./FLVHQV4A-CBdIuREj.js";import{_ as oe}from"./5WXHJDCZ-DghNgBBa.js";import{m as C,c as ne,a as w,f as re,h as k}from"./index-DQYZI0kA.js";import{s as se}from"./index-DsOiINGQ.js";import{s as F}from"./index-D2aTQ-Yz.js";import{m as T}from"./index-Dg1yJhWd.js";import{c as ie}from"./combineProps-uLaRYQYT.js";import{I as ae}from"./Icon-CqHicZQ1.js";var le={};oe(le,{CloseButton:()=>$,Content:()=>L,Description:()=>N,Dialog:()=>ce,Overlay:()=>j,Portal:()=>G,Root:()=>H,Title:()=>U,Trigger:()=>q,useDialogContext:()=>c});var M=J();function c(){const n=Q(M);if(n===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return n}function $(n){const t=c(),[e,i]=g(n,["aria-label","onClick"]);return a(B,d({get"aria-label"(){return e["aria-label"]||t.translations().dismiss},onClick:r=>{w(r,e.onClick),t.close()}},i))}function L(n){let t;const e=c(),i=C({id:e.generateId("content")},n),[s,r]=g(i,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let l=!1,f=!1;const I=o=>{s.onPointerDownOutside?.(o),e.modal()&&o.detail.isContextMenu&&o.preventDefault()},p=o=>{s.onFocusOutside?.(o),e.modal()&&o.preventDefault()},h=o=>{s.onInteractOutside?.(o),!e.modal()&&(o.defaultPrevented||(l=!0,o.detail.originalEvent.type==="pointerdown"&&(f=!0)),re(e.triggerRef(),o.target)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&f&&o.preventDefault())},m=o=>{s.onCloseAutoFocus?.(o),e.modal()?(o.preventDefault(),k(e.triggerRef())):(o.defaultPrevented||(l||k(e.triggerRef()),o.preventDefault()),l=!1,f=!1)};return Y({isDisabled:()=>!(e.isOpen()&&e.modal()),targets:()=>t?[t]:[]}),se({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),Z({trapFocus:()=>e.isOpen()&&e.modal(),onMountAutoFocus:s.onOpenAutoFocus,onUnmountAutoFocus:m},()=>t),x(()=>b(e.registerContentId(r.id))),a(y,{get when(){return e.contentPresent()},get children(){return a(ee,d({ref(o){var v=T(D=>{e.setContentRef(D),t=D},s.ref);typeof v=="function"&&v(o)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return E(()=>!!e.modal())()&&e.isOpen()},get excludedElements(){return[e.triggerRef]},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},get"data-expanded"(){return e.isOpen()?"":void 0},get"data-closed"(){return e.isOpen()?void 0:""},onPointerDownOutside:I,onFocusOutside:p,onInteractOutside:h,get onDismiss(){return e.close}},r))}})}function N(n){const t=c(),e=C({id:t.generateId("description")},n),[i,s]=g(e,["id"]);return x(()=>b(t.registerDescriptionId(i.id))),a(R,d({as:"p",get id(){return i.id}},s))}function j(n){const t=c(),[e,i]=g(n,["ref","style","onPointerDown"]),s=r=>{w(r,e.onPointerDown),r.target===r.currentTarget&&r.preventDefault()};return a(y,{get when(){return t.overlayPresent()},get children(){return a(R,d({as:"div",ref(r){var l=T(t.setOverlayRef,e.ref);typeof l=="function"&&l(r)},get style(){return ie({"pointer-events":"auto"},e.style)},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:s},i))}})}function G(n){const t=c();return a(y,{get when(){return t.contentPresent()||t.overlayPresent()},get children(){return a(V,n)}})}var A={dismiss:"Dismiss"};function H(n){const t=`dialog-${K()}`,e=C({id:t,modal:!0,translations:A},n),[i,s]=u(),[r,l]=u(),[f,I]=u(),[p,h]=u(),[m,o]=u(),[v,D]=u(),O=te({open:()=>e.open,defaultOpen:()=>e.defaultOpen,onOpenChange:z=>e.onOpenChange?.(z)}),S=()=>e.forceMount||O.isOpen(),{present:W}=F({show:S,element:()=>p()??null}),{present:X}=F({show:S,element:()=>m()??null}),_={translations:()=>e.translations??A,isOpen:O.isOpen,modal:()=>e.modal??!0,preventScroll:()=>e.preventScroll??_.modal(),contentId:i,titleId:r,descriptionId:f,triggerRef:v,overlayRef:p,setOverlayRef:h,contentRef:m,setContentRef:o,overlayPresent:W,contentPresent:X,close:O.close,toggle:O.toggle,setTriggerRef:D,generateId:ne(()=>e.id),registerContentId:P(s),registerTitleId:P(l),registerDescriptionId:P(I)};return a(M.Provider,{value:_,get children(){return e.children}})}function U(n){const t=c(),e=C({id:t.generateId("title")},n),[i,s]=g(e,["id"]);return x(()=>b(t.registerTitleId(i.id))),a(R,d({as:"h2",get id(){return i.id}},s))}function q(n){const t=c(),[e,i]=g(n,["ref","onClick"]);return a(B,d({ref(r){var l=T(t.setTriggerRef,e.ref);typeof l=="function"&&l(r)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return E(()=>!!t.isOpen())()?t.contentId():void 0},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onClick:r=>{w(r,e.onClick),t.toggle()}},i))}var ce=Object.assign(H,{CloseButton:$,Content:L,Description:N,Overlay:j,Portal:G,Title:U,Trigger:q}),de=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ue=n=>a(ae,d(n,{iconNode:de,name:"x"})),Re=ue;export{L as D,q as a,U as b,H as c,G as d,j as e,N as f,$ as g,Re as x};
