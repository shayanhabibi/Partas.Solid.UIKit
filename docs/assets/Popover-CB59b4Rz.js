import{s as l,c as a,m as d,d as $,e as b,S as E,P as Q,a as g,b as X,g as Y,u as ee,h as te,j as x}from"./iframe-DHSEN8D7.js";import{P as B,a as H}from"./2CTBMVJ4-Db2FGNLe.js";import{c as oe,a as ne}from"./FBCYWU27-BRaomcyy.js";import{D as re}from"./3VFJM5NZ-DDmjFnWc.js";import{c as se}from"./E53DB7BS-C475FHrG.js";import{B as z}from"./UKTBL2JL-D9vX2QTQ.js";import{c as D}from"./JNCCF6MP-4sxnBYeu.js";import{P as T}from"./FLVHQV4A-VgAG7mUH.js";import{_ as ae}from"./5WXHJDCZ-DghNgBBa.js";import{m as C,c as ie,a as I,d as ce,f as F}from"./index-CX5o166x.js";import{s as le}from"./index-B53RNSLG.js";import{s as de}from"./index-ptAOXcxb.js";import{m as S}from"./index-1c5Tq1Kt.js";import{c as pe}from"./combineProps-ChBwTExo.js";import{L as ue}from"./Utils-CzREY3kc.js";var fe={};ae(fe,{Anchor:()=>j,Arrow:()=>H,CloseButton:()=>U,Content:()=>w,Description:()=>q,Popover:()=>ge,Portal:()=>_,Root:()=>M,Title:()=>G,Trigger:()=>k,usePopoverContext:()=>u});var N=Y();function u(){const o=ee(N);if(o===void 0)throw new Error("[kobalte]: `usePopoverContext` must be used within a `Popover` component");return o}function j(o){const t=u(),[e,n]=l(o,["ref"]);return a(T,d({as:"div",ref(s){var c=S(t.setDefaultAnchorRef,e.ref);typeof c=="function"&&c(s)}},()=>t.dataset(),n))}function U(o){const t=u(),[e,n]=l(o,["aria-label","onClick"]);return a(z,d({get"aria-label"(){return e["aria-label"]||t.translations().dismiss},onClick:c=>{I(c,e.onClick),t.close()}},()=>t.dataset(),n))}function w(o){let t;const e=u(),n=C({id:e.generateId("content")},o),[s,c]=l(n,["ref","style","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let i=!1,p=!1,m=!1;const P=r=>{s.onCloseAutoFocus?.(r),e.isModal()?(r.preventDefault(),i||F(e.triggerRef())):(r.defaultPrevented||(p||F(e.triggerRef()),r.preventDefault()),p=!1,m=!1)},h=r=>{s.onPointerDownOutside?.(r),e.isModal()&&(i=r.detail.isContextMenu)},A=r=>{s.onFocusOutside?.(r),e.isOpen()&&e.isModal()&&r.preventDefault()},R=r=>{s.onInteractOutside?.(r),!e.isModal()&&(r.defaultPrevented||(p=!0,r.detail.originalEvent.type==="pointerdown"&&(m=!0)),ce(e.triggerRef(),r.target)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&m&&r.preventDefault())};return oe({isDisabled:()=>!(e.isOpen()&&e.isModal()),targets:()=>t?[t]:[]}),le({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),ne({trapFocus:()=>e.isOpen()&&e.isModal(),onMountAutoFocus:s.onOpenAutoFocus,onUnmountAutoFocus:P},()=>t),b(()=>x(e.registerContentId(c.id))),a(E,{get when(){return e.contentPresent()},get children(){return a(B.Positioner,{get children(){return a(re,d({ref(r){var v=S(O=>{e.setContentRef(O),t=O},s.ref);typeof v=="function"&&v(r)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return $(()=>!!e.isOpen())()&&e.isModal()},get excludedElements(){return[e.triggerRef]},get style(){return pe({"--kb-popover-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},s.style)},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},onPointerDownOutside:h,onFocusOutside:A,onInteractOutside:R,get onDismiss(){return e.close}},()=>e.dataset(),c))}})}})}function q(o){const t=u(),e=C({id:t.generateId("description")},o),[n,s]=l(e,["id"]);return b(()=>x(t.registerDescriptionId(n.id))),a(T,d({as:"p",get id(){return n.id}},()=>t.dataset(),s))}function _(o){const t=u();return a(E,{get when(){return t.contentPresent()},get children(){return a(Q,o)}})}var L={dismiss:"Dismiss"};function M(o){const t=`popover-${te()}`,e=C({id:t,modal:!1,translations:L},o),[n,s]=l(e,["translations","id","open","defaultOpen","onOpenChange","modal","preventScroll","forceMount","anchorRef"]),[c,i]=g(),[p,m]=g(),[P,h]=g(),[A,R]=g(),[r,v]=g(),[O,V]=g(),f=se({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:K=>n.onOpenChange?.(K)}),W=()=>n.anchorRef?.()??c()??p(),{present:Z}=de({show:()=>n.forceMount||f.isOpen(),element:()=>P()??null}),J=X(()=>({"data-expanded":f.isOpen()?"":void 0,"data-closed":f.isOpen()?void 0:""})),y={translations:()=>n.translations??L,dataset:J,isOpen:f.isOpen,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??y.isModal(),contentPresent:Z,triggerRef:p,contentId:A,titleId:r,descriptionId:O,setDefaultAnchorRef:i,setTriggerRef:m,setContentRef:h,close:f.close,toggle:f.toggle,generateId:ie(()=>n.id),registerContentId:D(R),registerTitleId:D(v),registerDescriptionId:D(V)};return a(N.Provider,{value:y,get children(){return a(B,d({anchorRef:W,contentRef:P},s))}})}function G(o){const t=u(),e=C({id:t.generateId("title")},o),[n,s]=l(e,["id"]);return b(()=>x(t.registerTitleId(n.id))),a(T,d({as:"h2",get id(){return n.id}},()=>t.dataset(),s))}function k(o){const t=u(),[e,n]=l(o,["ref","onClick","onPointerDown"]);return a(z,d({ref(i){var p=S(t.setTriggerRef,e.ref);typeof p=="function"&&p(i)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return $(()=>!!t.isOpen())()?t.contentId():void 0},onPointerDown:i=>{I(i,e.onPointerDown),i.preventDefault()},onClick:i=>{I(i,e.onClick),t.toggle()}},()=>t.dataset(),n))}var ge=Object.assign(M,{Anchor:j,Arrow:H,CloseButton:U,Content:w,Description:q,Portal:_,Title:G,Trigger:k});function _e(o){const[t,e]=l(o,[]);return a(k,d({"data-slot":"popover-trigger"},e,{"bool:n$":!1}))}function Me(o){const[t,e]=l(o,[]);return a(M,d({gutter:4,"data-slot":"popover"},e,{"bool:n$":!1}))}function ke(o){const[t,e]=l(o,["class"]);return a(_,{"data-slot":"popover-portal",get children(){return a(w,d({get class(){return ue([`z-50 w-72 origin-[var(--kb-popover-content-transform-origin)]\r
                rounded-md border bg-popover p-4 text-popover-foreground shadow-md\r
                outline-none data-[expanded]:animate-in data-[closed]:animate-out\r
                data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95\r
                data-[expanded]:zoom-in-95`,t.class])},"data-slot":"popover-content"},e,{"bool:n$":!1}))}})}export{Me as P,_e as a,ke as b};
