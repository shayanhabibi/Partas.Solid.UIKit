import{s as p,e as R,c as s,m as i,S as H,d as T,P as Ie,b as L,u as Me,g as Ke,p as ke,h as Ve,a as y,f as Ee,j as W,t as ze,i as $e}from"./iframe-DHSEN8D7.js";import{H as Be,L as He,a as pe,b as j,c as G,d as fe,e as N}from"./2I3Q5YLM-Cxvo6qWJ.js";import{P as ge,a as me}from"./2CTBMVJ4-Db2FGNLe.js";import{L as We}from"./N3GAC5SS-EuMAo5Zl.js";import{d as je,b as Ge,S as Ne}from"./QZDH5R5B-C5rmEo9L.js";import{c as Ue}from"./LR7LBJN3-B1LX4Q8m.js";import{c as qe,a as Ze}from"./FBCYWU27-BRaomcyy.js";import{D as Je}from"./3VFJM5NZ-DDmjFnWc.js";import{c as Qe}from"./E53DB7BS-C475FHrG.js";import{B as Xe}from"./UKTBL2JL-D9vX2QTQ.js";import{F as Ye,c as et}from"./NGHEENNE-Dj0dKL4v.js";import{u as be,d as tt,F as ot,c as nt,a as rt,b as st,e as U,f as q}from"./ZZYKR3VO-sS--fHny.js";import{c as B}from"./JNCCF6MP-4sxnBYeu.js";import{P as Z}from"./FLVHQV4A-VgAG7mUH.js";import{_ as at}from"./5WXHJDCZ-DghNgBBa.js";import{m as _,a as x,c as lt,x as he,f as Se}from"./index-CX5o166x.js";import{s as it}from"./index-B53RNSLG.js";import{s as ct}from"./index-ptAOXcxb.js";import{m as J}from"./index-1c5Tq1Kt.js";import{a as O}from"./index-SvhdUoxj.js";import{c as dt}from"./combineProps-ChBwTExo.js";import{I as ut}from"./Icon-By-Qgdq5.js";import{L as D}from"./Utils-CzREY3kc.js";import{c as pt}from"./check-B6yQMYMS.js";import{d as ft}from"./Option-DlNMNgAB.js";var gt={};at(gt,{Arrow:()=>me,Content:()=>Q,Description:()=>q,ErrorMessage:()=>U,HiddenSelect:()=>X,Icon:()=>Y,Item:()=>N,ItemDescription:()=>fe,ItemIndicator:()=>G,ItemLabel:()=>j,Label:()=>ee,Listbox:()=>te,Portal:()=>oe,Root:()=>ne,Section:()=>pe,Select:()=>ht,Trigger:()=>re,Value:()=>se,useSelectContext:()=>v});var ve=Ke();function v(){const n=Me(ve);if(n===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return n}function Q(n){let t;const e=v(),[o,c]=p(n,["ref","style","onCloseAutoFocus","onFocusOutside"]),m=a=>{e.close()},d=a=>{o.onFocusOutside?.(a),e.isOpen()&&e.isModal()&&a.preventDefault()};return qe({isDisabled:()=>!(e.isOpen()&&e.isModal()),targets:()=>t?[t]:[]}),it({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),Ze({trapFocus:()=>e.isOpen()&&e.isModal(),onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:a=>{o.onCloseAutoFocus?.(a),a.defaultPrevented||(Se(e.triggerRef()),a.preventDefault())}},()=>t),s(H,{get when(){return e.contentPresent()},get children(){return s(ge.Positioner,{get children(){return s(Je,i({ref(a){var f=J(S=>{e.setContentRef(S),t=S},o.ref);typeof f=="function"&&f(a)},get disableOutsidePointerEvents(){return T(()=>!!e.isModal())()&&e.isOpen()},get excludedElements(){return[e.triggerRef]},get style(){return dt({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},o.style)},onEscapeKeyDown:m,onFocusOutside:d,get onDismiss(){return e.close}},()=>e.dataset(),c))}})}})}function X(n){const t=v();return s(Be,i({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>t.triggerRef()?.focus()},n))}function Y(n){const t=v(),e=_({children:"â–¼"},n);return s(Z,i({as:"span","aria-hidden":"true"},()=>t.dataset(),e))}function ee(n){const t=v(),[e,o]=p(n,["onClick"]);return s(tt,i({as:"span",onClick:m=>{x(m,e.onClick),t.isDisabled()||t.triggerRef()?.focus()}},o))}function te(n){const t=v(),e=_({id:t.generateId("listbox")},n),[o,c]=p(e,["ref","id","onKeyDown"]);return R(()=>W(t.registerListboxId(o.id))),s(He,i({ref(d){var a=J(t.setListboxRef,o.ref);typeof a=="function"&&a(d)},get id(){return o.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:d=>{x(d,o.onKeyDown),d.key==="Escape"&&d.preventDefault()}},c))}function oe(n){const t=v();return s(H,{get when(){return t.contentPresent()},get children(){return s(Ie,n)}})}function mt(n){const t=`select-${Ve()}`,e=_({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:n.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},n),[o,c,m,d]=p(e,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],ot),[a,f]=y(),[S,b]=y(),[I,M]=y(),[P,K]=y(),[F,k]=y(),[V,l]=y(),[h,C]=y(),[ye,xe]=y(!0),w=r=>{const u=o.optionValue;return u==null?String(r):String(he(u)?u(r):r[u])},le=L(()=>{const r=o.optionGroupChildren;return r==null?o.options:o.options.flatMap(u=>u[r]??u)}),Ce=L(()=>le().map(r=>w(r))),ie=r=>[...r].map(u=>le().find($=>w($)===u)).filter(u=>u!=null),A=Qe({open:()=>o.open,defaultOpen:()=>o.defaultOpen,onOpenChange:r=>o.onOpenChange?.(r)}),g=Ge({selectedKeys:()=>o.value!=null?o.value.map(w):o.value,defaultSelectedKeys:()=>o.defaultValue!=null?o.defaultValue.map(w):o.defaultValue,onSelectionChange:r=>{o.onChange?.(ie(r)),o.closeOnSelection&&E()},allowDuplicateSelectionEvents:()=>O(o.allowDuplicateSelectionEvents),disallowEmptySelection:()=>O(o.disallowEmptySelection),selectionBehavior:()=>O(o.selectionBehavior),selectionMode:()=>o.selectionMode,dataSource:()=>o.options??[],getKey:()=>o.optionValue,getTextValue:()=>o.optionTextValue,getDisabled:()=>o.optionDisabled,getSectionChildren:()=>o.optionGroupChildren}),Ae=L(()=>ie(g.selectionManager().selectedKeys())),Oe=r=>{g.selectionManager().toggleSelection(w(r))},{present:Le}=ct({show:()=>o.forceMount||A.isOpen(),element:()=>F()??null}),we=()=>{const r=V();r&&Se(r)},ce=r=>{if(o.options.length<=0)return;xe(r),A.open();let u=g.selectionManager().firstSelectedKey();u==null&&(r==="first"?u=g.collection().getFirstKey():r==="last"&&(u=g.collection().getLastKey())),we(),g.selectionManager().setFocused(!0),g.selectionManager().setFocusedKey(u)},E=()=>{A.close(),g.selectionManager().setFocused(!1),g.selectionManager().setFocusedKey(void 0)},De=r=>{A.isOpen()?E():ce(r)},{formControlContext:z}=nt(m);rt(P,()=>{const r=o.defaultValue?[...o.defaultValue].map(w):new Ne;g.selectionManager().setSelectedKeys(r)});const Pe=Ue({usage:"search",sensitivity:"base"}),Re=L(()=>{const r=O(o.keyboardDelegate);return r||new We(g.collection,void 0,Pe)}),Te=r=>o.itemComponent?.({item:r}),_e=r=>o.sectionComponent?.({section:r});R(Ee([Ce],([r])=>{const $=[...g.selectionManager().selectedKeys()].filter(Fe=>r.includes(Fe));g.selectionManager().setSelectedKeys($)},{defer:!0}));const de=L(()=>({"data-expanded":A.isOpen()?"":void 0,"data-closed":A.isOpen()?void 0:""})),ue={dataset:de,isOpen:A.isOpen,isDisabled:()=>z.isDisabled()??!1,isMultiple:()=>O(o.selectionMode)==="multiple",isVirtualized:()=>o.virtualized??!1,isModal:()=>o.modal??!1,preventScroll:()=>o.preventScroll??ue.isModal(),disallowTypeAhead:()=>o.disallowTypeAhead??!1,shouldFocusWrap:()=>o.shouldFocusWrap??!1,selectedOptions:Ae,contentPresent:Le,autoFocus:ye,triggerRef:P,listState:()=>g,keyboardDelegate:Re,triggerId:a,valueId:S,listboxId:I,listboxAriaLabelledBy:h,setListboxAriaLabelledBy:C,setTriggerRef:K,setContentRef:k,setListboxRef:l,open:ce,close:E,toggle:De,placeholder:()=>o.placeholder,renderItem:Te,renderSection:_e,removeOptionFromSelection:Oe,generateId:lt(()=>O(m.id)),registerTriggerId:B(f),registerValueId:B(b),registerListboxId:B(M)};return s(st.Provider,{value:z,get children(){return s(ve.Provider,{value:ue,get children(){return s(ge,i({anchorRef:P,contentRef:F},c,{get children(){return s(Z,i({as:"div",role:"group",get id(){return O(m.id)}},()=>z.dataset(),de,d))}}))}})}})}function ne(n){const[t,e]=p(n,["value","defaultValue","onChange","multiple"]),o=L(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),c=L(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return s(mt,i({get value(){return o()},get defaultValue(){return c()},onChange:d=>{t.multiple?t.onChange?.(d??[]):t.onChange?.(d[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},e))}function re(n){const t=be(),e=v(),o=_({id:e.generateId("trigger")},n),[c,m,d]=p(o,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],Ye),a=()=>e.listState().selectionManager(),f=()=>e.keyboardDelegate(),S=()=>c.disabled||e.isDisabled(),{fieldProps:b}=et(m),{typeSelectHandlers:I}=je({keyboardDelegate:f,selectionManager:a,onTypeSelect:l=>a().select(l)}),M=()=>[e.listboxAriaLabelledBy(),e.valueId()].filter(Boolean).join(" ")||void 0,P=l=>{x(l,c.onPointerDown),l.currentTarget.dataset.pointerType=l.pointerType,!S()&&l.pointerType!=="touch"&&l.button===0&&(l.preventDefault(),e.toggle(!0))},K=l=>{x(l,c.onClick),!S()&&l.currentTarget.dataset.pointerType==="touch"&&e.toggle(!0)},F=l=>{if(x(l,c.onKeyDown),!S())switch(x(l,I.onKeyDown),l.key){case"Enter":case" ":case"ArrowDown":l.stopPropagation(),l.preventDefault(),e.toggle("first");break;case"ArrowUp":l.stopPropagation(),l.preventDefault(),e.toggle("last");break;case"ArrowLeft":{if(l.preventDefault(),e.isMultiple())return;const h=a().firstSelectedKey(),C=h!=null?f().getKeyAbove?.(h):f().getFirstKey?.();C!=null&&a().select(C);break}case"ArrowRight":{if(l.preventDefault(),e.isMultiple())return;const h=a().firstSelectedKey(),C=h!=null?f().getKeyBelow?.(h):f().getFirstKey?.();C!=null&&a().select(C);break}}},k=l=>{x(l,c.onFocus),!a().isFocused()&&a().setFocused(!0)},V=l=>{x(l,c.onBlur),!e.isOpen()&&a().setFocused(!1)};return R(()=>W(e.registerTriggerId(b.id()))),R(()=>{e.setListboxAriaLabelledBy([b.ariaLabelledBy(),b.ariaLabel()&&!b.ariaLabelledBy()?b.id():null].filter(Boolean).join(" ")||void 0)}),s(Xe,i({ref(l){var h=J(e.setTriggerRef,c.ref);typeof h=="function"&&h(l)},get id(){return b.id()},get disabled(){return S()},"aria-haspopup":"listbox",get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return T(()=>!!e.isOpen())()?e.listboxId():void 0},get"aria-label"(){return b.ariaLabel()},get"aria-labelledby"(){return M()},get"aria-describedby"(){return b.ariaDescribedBy()},onPointerDown:P,onClick:K,onKeyDown:F,onFocus:k,onBlur:V},()=>e.dataset(),()=>t.dataset(),d))}function se(n){const t=be(),e=v(),o=_({id:e.generateId("value")},n),[c,m]=p(o,["id","children"]),d=()=>e.listState().selectionManager(),a=()=>{const f=d().selectedKeys();return f.size===1&&f.has("")?!0:d().isEmpty()};return R(()=>W(e.registerValueId(c.id))),s(Z,i({as:"span",get id(){return c.id},get"data-placeholder-shown"(){return a()?"":void 0}},()=>t.dataset(),m,{get children(){return s(H,{get when(){return!a()},get fallback(){return e.placeholder()},get children(){return s(bt,{state:{selectedOption:()=>e.selectedOptions()[0],selectedOptions:()=>e.selectedOptions(),remove:f=>e.removeOptionFromSelection(f),clear:()=>d().clearSelection()},get children(){return c.children}})}})}}))}function bt(n){const t=ke(()=>{const e=n.children;return he(e)?e(n.state):e});return T(t)}var ht=Object.assign(ne,{Arrow:me,Content:Q,Description:q,ErrorMessage:U,HiddenSelect:X,Icon:Y,Item:N,ItemDescription:fe,ItemIndicator:G,ItemLabel:j,Label:ee,Listbox:te,Portal:oe,Section:pe,Trigger:re,Value:se}),St=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],vt=n=>s(ut,i(n,{iconNode:St,name:"chevrons-up-down"})),yt=vt,xt=ze('<span class="absolute right-2 flex size-3.5 items-center justify-center">');function Ut(n){const[t,e]=p(n,[]);return s(ne,i({"data-slot":"select"},e,{"bool:n$":!1}))}function qt(n){const[t,e]=p(n,[]);return s(se,i({"data-slot":"select-value"},e,{"bool:n$":!1}))}function Zt(n){const[t,e]=p(n,[]);return s(X,i({"data-slot":"select-hidden"},e,{"bool:n$":!1}))}function Jt(n){n=i({size:"default"},n);const[t,e]=p(n,["class","size","children"]);return s(re,i({get class(){return D(["border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=small]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class])},get"data-size"(){return t.size},"data-slot":"select-trigger"},e,{"bool:n$":!1,get children(){return[T(()=>t.children),s(Y,{as:o=>s(yt,i(o,{"on:n$":!1,class:"size-4 opacity-50"}))})]}}))}function Qt(n){const[t,e]=p(n,["class","children"]);return s(oe,{"data-slot":"select-portal",get children(){return s(Q,i({get class(){return D(["bg-popover text-popover-foreground data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--kb-popper-content-available-height) min-w-[8rem] origin-(--kb-popper-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t.class])},"data-slot":"select-content"},e,{"bool:n$":!1,get children(){return T(()=>!!t.children)()?t.children:s(te,{class:"m-0 p-1"})}}))}})}function Xt(n){const[t,e]=p(n,["class","children"]);return s(N,i({get class(){return D(["focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t.class])},"data-slot":"select-item"},e,{"bool:n$":!1,get children(){return[(()=>{var o=xt();return $e(o,s(G,{"data-slot":"select-indicator",get children(){return s(pt,{class:"size-4",strokeWidth:2})}})),o})(),s(j,{"data-slot":"select-label",get children(){return t.children}})]}}))}function ae(n){const t=ft(n,"label");return`text-sm font-medium leading-none peer-disabled:cursor-not-allowed\r
        peer-disabled:opacity-70 `+(t==="description"?"font-normal text-muted-foreground":t==="error"?"text-xs text-destructive":"data-[invalid]:text-destructive")}function Yt(n){const[t,e]=p(n,["class"]);return s(ee,i({get class(){return D([ae(),t.class])}},e,{"bool:n$":!1}))}function eo(n){const[t,e]=p(n,["class"]);return s(q,i({get class(){return D([ae("description"),t.class])}},e,{"bool:n$":!1}))}function to(n){const[t,e]=p(n,["class"]);return s(U,i({get class(){return D([ae("error"),t.class])}},e,{"bool:n$":!1}))}export{Ut as S,Jt as a,qt as b,Qt as c,Xt as d,Zt as e,Yt as f,eo as g,to as h,te as i};
