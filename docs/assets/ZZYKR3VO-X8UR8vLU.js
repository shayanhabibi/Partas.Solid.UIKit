import{h as f,c as u,m as b,n as O,u as R,p as q,b as c,f as D,q as g,s as P,g as w,k as B,l as N}from"./iframe-mHl6JQ-c.js";import{c as _}from"./OYES4GOP-kZMWaLji.js";import{P as I}from"./FLVHQV4A-DzmScvHC.js";import{m as v,c as A}from"./index-DaBFbvzD.js";import{m as j}from"./index-ncGqb3xy.js";import{c as m}from"./JNCCF6MP-4sxnBYeu.js";import{a as o}from"./index-D4JJ8pSH.js";var W=["id","name","validationState","required","disabled","readOnly"];function X(t){const r=`form-control-${q()}`,e=v({id:r},t),[a,s]=c(),[n,p]=c(),[i,d]=c(),[l,h]=c(),E=(C,L,x)=>{const S=x!=null||a()!=null;return[x,a(),S&&L!=null?C:void 0].filter(Boolean).join(" ")||void 0},M=C=>[i(),l(),C].filter(Boolean).join(" ")||void 0,y=D(()=>({"data-valid":o(e.validationState)==="valid"?"":void 0,"data-invalid":o(e.validationState)==="invalid"?"":void 0,"data-required":o(e.required)?"":void 0,"data-disabled":o(e.disabled)?"":void 0,"data-readonly":o(e.readOnly)?"":void 0}));return{formControlContext:{name:()=>o(e.name)??o(e.id),dataset:y,validationState:()=>o(e.validationState),isRequired:()=>o(e.required),isDisabled:()=>o(e.disabled),isReadOnly:()=>o(e.readOnly),labelId:a,fieldId:n,descriptionId:i,errorMessageId:l,getAriaLabelledBy:E,getAriaDescribedBy:M,generateId:A(()=>o(e.id)),registerLabel:m(s),registerField:m(p),registerDescription:m(d),registerErrorMessage:m(h)}}}var k=O();function F(){const t=R(k);if(t===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return t}function Y(t){const r=F(),e=v({id:r.generateId("description")},t);return f(()=>g(r.registerDescription(e.id))),u(I,b({as:"div"},()=>r.dataset(),e))}function Z(t){let r;const e=F(),a=v({id:e.generateId("label")},t),[s,n]=P(a,["ref"]),p=_(()=>r,()=>"label");return f(()=>g(e.registerLabel(n.id))),u(I,b({as:"label",ref(i){var d=j(l=>r=l,s.ref);typeof d=="function"&&d(i)},get for(){return w(()=>p()==="label")()?e.fieldId():void 0}},()=>e.dataset(),n))}function ee(t,r){f(B(t,e=>{if(e==null)return;const a=T(e);a!=null&&(a.addEventListener("reset",r,{passive:!0}),g(()=>{a.removeEventListener("reset",r)}))}))}function T(t){return $(t)?t.form:t.closest("form")}function $(t){return t.matches("textarea, input, select, button")}function te(t){const r=F(),e=v({id:r.generateId("error-message")},t),[a,s]=P(e,["forceMount"]),n=()=>r.validationState()==="invalid";return f(()=>{n()&&g(r.registerErrorMessage(s.id))}),u(N,{get when(){return a.forceMount||n()},get children(){return u(I,b({as:"div"},()=>r.dataset(),s))}})}export{W as F,ee as a,k as b,X as c,Z as d,te as e,Y as f,F as u};
