import{s as h,b as E,e as se,f as oe,c as f,m as p,d as I,a as J,g as be,u as he,h as ye,V as L,t as le,r as xe,q as ue,l as Ne,R as Ve,p as me}from"./iframe-BLvaHOrW.js";import{c as Se,a as ve}from"./JHMNWOLY-CsDzS1Uk.js";import{P as M}from"./FLVHQV4A-ByRBKILc.js";import{m as H,a as S,h as Pe,c as Fe,v as $e,y as Q,F as ee}from"./index-TpYiyspx.js";import{c as Re}from"./combineProps-TuyxsfEg.js";import{$ as ce,u as we}from"./LR7LBJN3-DXU4Tgxl.js";import{B as Ie}from"./UKTBL2JL-mrSn-dg4.js";import{F as De,c as Ce}from"./NGHEENNE-Cx8CCgiw.js";import{u as k,F as Te,c as _e,a as Ae,b as Oe,d as W,e as B,f as q}from"./ZZYKR3VO-CUrFF4yS.js";import{b as Ee}from"./FN6EICGO-DozerlcD.js";import{_ as Le}from"./5WXHJDCZ-DghNgBBa.js";import{m as z}from"./index-BbcR3rHk.js";import{a as te}from"./index-C2xVdcqa.js";import{L as v}from"./Utils-BEjpZvS7.js";import{I as Me}from"./Icon-BmtgjGtw.js";import{c as He}from"./chevron-down-3y4-ND3P.js";const ke=new RegExp("^.*\\(.*\\).*$"),We=["latn","arab","hanidec","deva","beng","fullwide"];class de{parse(t){return O(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,e,a){return O(this.locale,this.options,t).isValidPartialNumber(t,e,a)}getNumberingSystem(t){return O(this.locale,this.options,t).options.numberingSystem}constructor(t,e={}){this.locale=t,this.options=e}}const re=new Map;function O(n,t,e){let a=ne(n,t);if(!n.includes("-nu-")&&!a.isValidPartialNumber(e)){for(let r of We)if(r!==a.options.numberingSystem){let s=ne(n+(n.includes("-u-")?"-nu-":"-u-nu-")+r,t);if(s.isValidPartialNumber(e))return s}}return a}function ne(n,t){let e=n+(t?Object.entries(t).sort((r,s)=>r[0]<s[0]?-1:1).join():""),a=re.get(e);return a||(a=new Be(n,t),re.set(e,a)),a}class Be{parse(t){let e=this.sanitize(t);if(this.symbols.group&&(e=F(e,this.symbols.group,"")),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(e=e.replace(this.symbols.minusSign,"-")),e=e.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=e.indexOf("-");e=e.replace("-",""),e=e.replace("+","");let m=e.indexOf(".");m===-1&&(m=e.length),e=e.replace(".",""),m-2===0?e=`0.${e}`:m-2===-1?e=`0.0${e}`:m-2===-2?e="0.00":e=`${e.slice(0,m-2)}.${e.slice(m-2)}`,o>-1&&(e=`-${e}`)}let a=e?+e:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var r,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new de(this.locale,o).parse(new ce(this.locale,o).format(a))}return this.options.currencySign==="accounting"&&ke.test(t)&&(a=-1*a),a}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=F(t,".",this.symbols.group))),this.symbols.group==="’"&&t.includes("'")&&(t=F(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=F(t," ",this.symbols.group),t=F(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,e=-1/0,a=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&e<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&a>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=F(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,e={}){this.locale=t,e.roundingIncrement!==1&&e.roundingIncrement!=null&&(e.maximumFractionDigits==null&&e.minimumFractionDigits==null?(e.maximumFractionDigits=0,e.minimumFractionDigits=0):e.maximumFractionDigits==null?e.maximumFractionDigits=e.minimumFractionDigits:e.minimumFractionDigits==null&&(e.minimumFractionDigits=e.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,e),this.options=this.formatter.resolvedOptions(),this.symbols=ze(t,this.formatter,this.options,e);var a,r;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const ae=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),qe=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function ze(n,t,e,a){var r,s,o,m;let c=new Intl.NumberFormat(n,{...e,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),l=c.formatToParts(-10000.111),D=c.formatToParts(10000.111),$=qe.map(u=>c.formatToParts(u));var R;let N=(R=(r=l.find(u=>u.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&R!==void 0?R:"-",x=(s=D.find(u=>u.type==="plusSign"))===null||s===void 0?void 0:s.value;!x&&(a?.signDisplay==="exceptZero"||a?.signDisplay==="always")&&(x="+");let P=(o=new Intl.NumberFormat(n,{...e,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(u=>u.type==="decimal"))===null||o===void 0?void 0:o.value,w=(m=l.find(u=>u.type==="group"))===null||m===void 0?void 0:m.value,_=l.filter(u=>!ae.has(u.type)).map(u=>ie(u.value)),V=$.flatMap(u=>u.filter(y=>!ae.has(y.type)).map(y=>ie(y.value))),C=[...new Set([..._,...V])].sort((u,y)=>y.length-u.length),A=C.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${C.join("|")}|[\\p{White_Space}]`,"gu"),g=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(g.map((u,y)=>[u,y])),d=new RegExp(`[${g.join("")}]`,"g");return{minusSign:N,plusSign:x,decimal:P,group:w,literals:A,numeral:d,index:u=>String(i.get(u))}}function F(n,t,e){return n.replaceAll?n.replaceAll(t,e):n.split(t).join(e)}function ie(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var je={empty:"Empty"};function Ge(n){const t=H({translations:je},n),[e,a]=h(t,["style","translations","value","textValue","minValue","maxValue","validationState","onIncrement","onIncrementPage","onDecrement","onDecrementPage","onDecrementToMin","onIncrementToMax","onKeyDown","onFocus","onBlur"]);let r=!1;const s=E(()=>e.textValue===""?e.translations?.empty:(e.textValue||`${e.value}`).replace("-","−")),o=l=>{if(S(l,e.onKeyDown),!(l.ctrlKey||l.metaKey||l.shiftKey||l.altKey||n.readOnly))switch(l.key){case"PageUp":if(e.onIncrementPage){l.preventDefault(),e.onIncrementPage();break}case"ArrowUp":case"Up":e.onIncrement&&(l.preventDefault(),e.onIncrement());break;case"PageDown":if(e.onDecrementPage){l.preventDefault(),e.onDecrementPage();break}case"ArrowDown":case"Down":e.onDecrement&&(l.preventDefault(),e.onDecrement());break;case"Home":e.onDecrementToMin&&(l.preventDefault(),e.onDecrementToMin());break;case"End":e.onIncrementToMax&&(l.preventDefault(),e.onIncrementToMax());break}},m=l=>{S(l,e.onFocus),r=!0},c=l=>{S(l,e.onBlur),r=!1};return se(oe(s,l=>{r&&(Se("assertive"),ve(l??"","assertive"))})),f(M,p({as:"div",role:"spinbutton",get style(){return Re({"touch-action":"none"},e.style)},get"aria-valuenow"(){return I(()=>e.value!=null&&!Number.isNaN(e.value))()?e.value:void 0},get"aria-valuetext"(){return s()},get"aria-valuemin"(){return e.minValue},get"aria-valuemax"(){return e.maxValue},get"aria-required"(){return n.required||void 0},get"aria-disabled"(){return n.disabled||void 0},get"aria-readonly"(){return n.readOnly||void 0},get"aria-invalid"(){return e.validationState==="invalid"||void 0},onKeyDown:o,onFocus:m,onBlur:c},a))}var Ke=le("<div aria-hidden=true><input type=text tabindex=-1 style=font-size:16px>"),Ue={};Le(Ue,{DecrementTrigger:()=>j,Description:()=>q,ErrorMessage:()=>B,HiddenInput:()=>pe,IncrementTrigger:()=>G,Input:()=>K,Label:()=>W,NumberField:()=>Xe,Root:()=>U,useNumberFieldContext:()=>T});var fe=be();function T(){const n=he(fe);if(n===void 0)throw new Error("[kobalte]: `useNumberFieldContext` must be used within a `NumberField` component");return n}function ge(n){const t=k(),e=T(),[a,r]=h(n,["numberFieldVaryType","onClick"]);return f(Ie,p({tabIndex:-1,get disabled(){return t.isDisabled()||e.rawValue()===(a.numberFieldVaryType==="increment"?e.maxValue():e.minValue())},get"aria-controls"(){return t.fieldId()},onClick:s=>{S(s,a.onClick),e.varyValue(e.step()*(a.numberFieldVaryType==="increment"?1:-1)),e.inputRef()?.focus()}},r))}function j(n){return f(ge,p({numberFieldVaryType:"decrement"},n))}function pe(n){const t=T(),[e,a]=h(n,["ref","onChange"]),r=k();return(()=>{var s=Ke(),o=s.firstChild;o.addEventListener("change",c=>{S(c,e.onChange),L(()=>{t.setValue(c.target.value),t.format()})});var m=z(t.setHiddenInputRef,e.ref);return typeof m=="function"&&xe(m,o),ue(o,p({get name(){return r.name()},get value(){return I(()=>!!Number.isNaN(t.rawValue()))()?"":t.rawValue()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readOnly(){return r.isReadOnly()}},a),!1,!1),Ne(c=>Ve(s,$e,c)),s})()}function G(n){return f(ge,p({numberFieldVaryType:"increment"},n))}function K(n){const t=k(),e=T(),a=H({id:e.generateId("input"),inputMode:"decimal",autocomplete:"off",autocorrect:"off",spellcheck:!1},n),[r,s,o]=h(a,["ref","onInput","onChange","onWheel","as"],De),{fieldProps:m}=Ce(s);return f(Ge,p({type:"text",get id(){return m.id()},ref(c){var l=z(e.setInputRef,r.ref);typeof l=="function"&&l(c)},get value(){return e.value()},get validationState(){return t.validationState()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readOnly(){return t.isReadOnly()},get textValue(){return e.textValue()},get minValue(){return e.minValue()},get maxValue(){return e.maxValue()},onIncrement:()=>{e.varyValue(e.step())},onIncrementPage:()=>{e.varyValue(e.largeStep())},onIncrementToMax:()=>{e.setValue(e.maxValue()),e.format()},onDecrement:()=>{e.varyValue(-e.step())},onDecrementPage:()=>{e.varyValue(-e.largeStep())},onDecrementToMin:()=>{e.setValue(e.minValue()),e.format()},get translations(){return e.translations()},onChange:c=>{S(c,r.onChange),e.format()},onWheel:c=>{S(c,r.onWheel),!(!e.changeOnWheel()||document.activeElement!==e.inputRef())&&(c.preventDefault(),c.deltaY<0?e.varyValue(e.step()):e.varyValue(-e.step()))},get onInput(){return Pe([r.onInput,e.onInput])},get"aria-label"(){return m.ariaLabel()},get"aria-labelledby"(){return m.ariaLabelledBy()},get"aria-describedby"(){return m.ariaDescribedBy()}},()=>t.dataset(),{as:c=>f(M,p({get as(){return r.as||"input"},get value(){return I(()=>!!(Number.isNaN(e.rawValue())||e.value()===void 0))()?"":e.formatNumber(e.rawValue())},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readOnly(){return t.isReadOnly()}},c,o))}))}function U(n){let t;const e=`NumberField-${ye()}`,a=H({id:e,format:!0,minValue:Number.MIN_SAFE_INTEGER,maxValue:Number.MAX_SAFE_INTEGER,step:1,changeOnWheel:!0},n),[r,s,o]=h(a,["ref","value","defaultValue","onChange","rawValue","onRawValueChange","translations","format","formatOptions","textValue","minValue","maxValue","step","largeStep","changeOnWheel","translations","allowedInput"],Te),{locale:m}=we(),c=E(()=>new de(m(),r.formatOptions)),l=E(()=>new ce(m(),r.formatOptions)),D=i=>r.format?l().format(i):i.toString(),$=i=>r.format&&typeof i!="number"?c().parse(i??""):Number(i??""),R=i=>r.format&&typeof i!="number"?c().isValidPartialNumber(i??"",a.minValue,a.maxValue):!Number.isNaN(Number(i)),[N,x]=Ee({value:()=>r.value,defaultValue:()=>r.defaultValue??r.rawValue,onChange:i=>{r.onChange?.(typeof i=="number"?D(i):i),r.onRawValueChange?.($(i))}});N()!==void 0&&r.onRawValueChange?.($(N()));function Y(i){return r.allowedInput!==void 0?r.allowedInput.test(i):!0}const{formControlContext:P}=_e(s);Ae(()=>t,()=>{x(r.defaultValue??"")});const[w,_]=J(),[V,C]=J(),A=i=>{if(P.isReadOnly()||P.isDisabled())return;const d=i.target;let b=d.selectionStart;R(d.value)?(i.inputType!=="insertText"||Y(i.data||""))&&x(d.value):i.inputType==="deleteContentBackward"&&b!==null&&(b+=1);const u=N();u!==d.value&&(d.value=String(u??""),b!==null&&(d.selectionStart=b,d.selectionEnd=b))},g={value:N,setValue:x,rawValue:()=>$(N()),generateId:Fe(()=>te(s.id)),formatNumber:D,format:()=>{if(!r.format)return;let i=g.rawValue();if(Number.isNaN(i)){V()&&(V().value=""),r.onRawValueChange?.(i);return}g.minValue()&&(i=Math.max(i,g.minValue())),g.maxValue()&&(i=Math.min(i,g.maxValue()));const d=g.formatNumber(i);N()!=d&&x(d),w()&&(w().value=d),V()&&(V().value=String(i))},onInput:A,textValue:()=>r.textValue,minValue:()=>r.minValue,maxValue:()=>r.maxValue,step:()=>r.step,largeStep:()=>r.largeStep??r.step*10,changeOnWheel:()=>r.changeOnWheel,translations:()=>r.translations,inputRef:w,setInputRef:_,hiddenInputRef:V,setHiddenInputRef:C,varyValue:i=>{let d=g.rawValue()??0;Number.isNaN(d)&&(d=0),L(()=>{let b=d;const u=i>0?"+":"-",y=Math.abs(i),X=n.minValue===void 0?Number.NaN:g.minValue(),Z=n.maxValue===void 0?Number.NaN:g.maxValue();b=Q(d,X,Z,y),u==="+"&&b>d||u==="-"&&b<d||(b=Q(Ye(u,d,y),X,Z,y)),g.setValue(b),g.format()})}};return se(oe(()=>r.rawValue,i=>{if(i!==g.rawValue()){if(Number.isNaN(i))return;L(()=>{x(i??""),g.format()})}},{defer:!0})),f(Oe.Provider,{value:P,get children(){return f(fe.Provider,{value:g,get children(){return f(M,p({as:"div",ref(i){var d=z(b=>t=b,r.ref);typeof d=="function"&&d(i)},role:"group",get id(){return te(s.id)}},()=>P.dataset(),o))}})}})}function Ye(n,t,e){let a=n==="+"?t+e:t-e;if(Number.isFinite(t)&&Number.isFinite(e)&&(e%1!==0||t%1!==0)){const r=ee(e),s=ee(t),o=10**Math.max(r,s),m=Math.round(e*o),c=Math.round(t*o);a=(n==="+"?c+m:c-m)/o}return a}var Xe=Object.assign(U,{Description:q,ErrorMessage:B,HiddenInput:pe,Input:K,IncrementTrigger:G,DecrementTrigger:j,Label:W}),Ze=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Je=n=>f(Me,p(n,{iconNode:Ze,name:"chevron-up"})),Qe=Je,et=le("<div data-slot=number-field-group>");function ht(n){const[t,e]=h(n,[]);return f(U,p(e,{"bool:n$":!1}))}function yt(n){const[t,e]=h(n,["class"]);return(()=>{var a=et();return ue(a,p({get class(){return v(["relative shadow-xs rounded-md min-w-0 transition-[color,box-shadow] input-border has-data-[disabled]:pointer-events-none has-data-[disabled]:cursor-not-allowed has-data-[disabled]:opacity-50 has-data-[invalid]:input-invalid-border focus-within:input-focus-border",t.class])}},e),!1,!1),a})()}function xt(n){const[t,e]=h(n,["class"]);return f(W,p({get class(){return v([`text-sm font-medium leading-none\r
            peer-disabled:cursor-not-allowed peer-disabled:opacity-70`,t.class])},"data-slot":"number-field-label"},e,{"bool:n$":!1}))}function Nt(n){const[t,e]=h(n,["class"]);return f(K,p({get class(){return v(["file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 h-9 w-full min-w-0 rounded-md bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium md:text-sm data-[disabled]:cursor-not-allowed data-[disabled]:pointer-events-none data-[disabled]:selection-none",t.class])},"data-slot":"number-field-input"},e,{"bool:n$":!1}))}function Vt(n){const[t,e]=h(n,["children","class"]);let a;const r=t.children,s=me(()=>r);return a=[s,()=>{let o;return o=Array.from(s),o.length!==0}],f(G,p({get class(){return v(["absolute right-1 top-1 inline-flex size-4 items-center justify-center",t.class])},"data-slot":"number-field-increment-trigger"},e,{"bool:n$":!1,get children(){return I(()=>!!a[1]())()?a[0]():f(Qe,{class:"size-4"})}}))}function St(n){const[t,e]=h(n,["children","class"]);let a;const r=t.children,s=me(()=>r);return a=[s,()=>{let o;return o=Array.from(s),o.length!==0}],f(j,p({get class(){return v(["absolute bottom-1 right-1 inline-flex size-4 items-center justify-center",t.class])},"data-slot":"number-field-decrement-trigger"},e,{"bool:n$":!1,get children(){return I(()=>!!a[1]())()?a[0]():f(He,{class:"size-4"})}}))}function vt(n){const[t,e]=h(n,["class"]);return f(q,p({get class(){return v(["text-sm text-muted-foreground",t.class])},"data-slot":"number-field-description"},e,{"bool:n$":!1}))}function Pt(n){const[t,e]=h(n,["class"]);return f(B,p({get class(){return v(["text-sm text-error-foreground",t.class])},"data-slot":"number-field-error-message"},e,{"bool:n$":!1}))}export{ht as N,yt as a,Nt as b,Vt as c,St as d,xt as e,vt as f,Pt as g};
