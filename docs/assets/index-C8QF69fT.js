import{C as K,G,l as se,I as J,J as oe,r as N,v as Q,e as M,w as ae,D as ce,B as ue,K as le,u as k,L as de,M as fe,y as Z,g as B,N as me,d as T,O as R,P as U,h as ee,Q as pe,x as I,R as $,S as te,T as ne,U as he}from"./index-DRxJn2y1.js";import{d as ye,a as z,e as ge}from"./iframe-CYoISbNW.js";import{a as ve,o as Ee,f as we,s as xe,l as Pe,c as be,b as Ne,h as Oe,d as Se}from"./floating-ui.dom-BNE0r0Ci.js";var[ut,lt]=K({hookName:"useRenderStrategyContext",providerName:"<RenderStrategyProvider />"}),Ae=e=>G()(e,["lazyMount","unmountOnExit"]);function Le(e,t){const{state:n,send:r,context:i}=e,s=n.matches("mounted","unmountSuspended");return{skip:!i.get("initial"),present:s,setNode(o){o&&r({type:"NODE.SET",node:o})},unmount(){r({type:"UNMOUNT"})}}}var Me=se({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:n}){e([()=>t("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e})=>{e("onExitComplete")?.()},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",Q(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:n,prop:r})=>{const i=r("present");if(i)return n({type:"MOUNT",src:"presence.changed"});const s=t.get("node");if(!i&&s?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});N(()=>{const o=D(t.get("styles"));e.set("unmountAnimationName",o),o==="none"||o===e.get("prevAnimationName")||t.get("styles")?.display==="none"||t.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{N(()=>{e.set("prevAnimationName",D(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:n})=>{const r=t.get("node");if(!r)return;const i=a=>{(a.composedPath?.()?.[0]??a.target)===r&&e.set("prevAnimationName",D(t.get("styles")))},s=a=>{const m=D(t.get("styles"));M(a)===r&&m===e.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",i),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s);const o=J(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",i),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s),oe(()=>o())}}}}});function D(e){return e?.animationName||"none"}ae()(["onExitComplete","present","immediate"]);var dt=e=>G()(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]),ft=e=>{const[t,n]=Ae(ce(e)),[r,i]=ye(!1),s=ue(Me,e),o=z(()=>Le(s));return ge(()=>{o().present&&i(!0)}),z(()=>({unmounted:!o().present&&!r()&&t.lazyMount||t.unmountOnExit&&!o().present&&r(),present:o().present,ref:o().setNode,presenceProps:{hidden:!o().present,"data-state":o().skip&&n.skipAnimationOnMount?void 0:n.present?"open":"closed"}}))},[mt,pt]=K({hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function W(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);const i={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...i,toJSON:()=>i}}function ke(e){if(!e)return W();const{x:t,y:n,width:r,height:i}=e;return W(t,n,r,i)}function De(e,t){return{contextElement:k(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t?.(n);return r||!n?ke(r):n.getBoundingClientRect()}}}var L=e=>({variable:e,reference:`var(${e})`}),P={arrowSize:L("--arrow-size"),arrowSizeHalf:L("--arrow-size-half"),arrowBg:L("--arrow-background"),transformOrigin:L("--transform-origin"),arrowOffset:L("--arrow-offset")},Te=e=>e==="top"||e==="bottom"?"y":"x";function Ie(e,t){return{name:"transformOrigin",fn(n){const{elements:r,middlewareData:i,placement:s,rects:o,y:a}=n,m=s.split("-")[0],g=Te(m),y=i.arrow?.x||0,E=i.arrow?.y||0,h=t?.clientWidth||0,b=t?.clientHeight||0,c=y+h/2,l=E+b/2,w=Math.abs(i.shift?.y||0),v=o.reference.height/2,u=b/2,f=e.offset?.mainAxis??e.gutter,d=typeof f=="number"?f+u:f??u,O=w>d,x={top:`${c}px calc(100% + ${d}px)`,bottom:`${c}px ${-d}px`,left:`calc(100% + ${d}px) ${l}px`,right:`${-d}px ${l}px`}[m],A=`${c}px ${o.reference.y+v-a}px`,S=!!e.overlap&&g==="y"&&O;return r.floating.style.setProperty(P.transformOrigin.variable,S?A:x),{data:{transformOrigin:S?A:x}}}}}var Be={name:"rects",fn({rects:e}){return{data:e}}},Ce=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,s=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[s]:`calc(100% + ${P.arrowOffset.reference})`}),{}}}};function Re(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}var Ue={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function H(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function C(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function $e(e,t,n){const r=e||t.createElement("div");return be({element:r,padding:n.arrowPadding})}function ze(e,t){if(!de(t.offset??t.gutter))return Ee(({placement:n})=>{const r=(e?.clientHeight||0)/2,i=t.offset?.mainAxis??t.gutter,s=typeof i=="number"?i+r:i??r,{hasAlign:o}=Re(n),a=o?void 0:t.shift,m=t.offset?.crossAxis??a;return fe({crossAxis:m,mainAxis:s,alignmentAxis:t.shift})})}function We(e){if(!e.flip)return;const t=C(e.boundary);return we({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function He(e){if(!e.slide&&!e.overlap)return;const t=C(e.boundary);return xe({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Pe()})}function Ve(e){return Ne({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:i}){const s=t.floating,o=Math.round(n.reference.width),a=Math.round(n.reference.height);i=Math.floor(i),r=Math.floor(r),s.style.setProperty("--reference-width",`${o}px`),s.style.setProperty("--reference-height",`${a}px`),s.style.setProperty("--available-width",`${i}px`),s.style.setProperty("--available-height",`${r}px`)}})}function _e(e){if(e.hideWhenDetached)return Oe({strategy:"referenceHidden",boundary:C(e.boundary)??"clippingAncestors"})}function Ye(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function qe(e,t,n={}){const r=De(e,n.getAnchorRect);if(!t||!r)return;const i=Object.assign({},Ue,n),s=t.querySelector("[data-part=arrow]"),o=[ze(s,i),We(i),He(i),$e(s,t.ownerDocument,i),Ce(s),Ie({gutter:i.gutter,offset:i.offset,overlap:i.overlap},s),Ve(i),_e(i),Be],{placement:a,strategy:m,onComplete:g,onPositioned:y}=i,E=async()=>{if(!r||!t)return;const l=await Se(r,t,{placement:a,middleware:o,strategy:m});g?.(l),y?.({placed:!0});const w=Z(t),v=H(w,l.x),u=H(w,l.y);t.style.setProperty("--x",`${v}px`),t.style.setProperty("--y",`${u}px`),i.hideWhenDetached&&(l.middlewareData.hide?.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const f=t.firstElementChild;if(f){const d=Q(f);t.style.setProperty("--z-index",d.zIndex)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:E,floatingElement:t}),y?.({placed:!0})):await E()},b=Ye(i.listeners),c=i.listeners?ve(r,t,h,b):le;return h(),()=>{c?.(),y?.({placed:!1})}}function ht(e,t,n={}){const{defer:r,...i}=n,s=r?N:a=>a(),o=[];return o.push(s(()=>{const a=typeof e=="function"?e():e,m=typeof t=="function"?t():t;o.push(qe(a,m,i))})),()=>{o.forEach(a=>a?.())}}var Xe={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function yt(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:i="absolute"}=e;return{arrow:{position:"absolute",width:P.arrowSize.reference,height:P.arrowSize.reference,[P.arrowSizeHalf.variable]:`calc(${P.arrowSize.reference} / 2)`,[P.arrowOffset.variable]:`calc(${P.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?Xe[t.split("-")[0]]:void 0,background:P.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function je(e){const t={each(n){for(let r=0;r<e.frames?.length;r+=1){const i=e.frames[r];i&&n(i)}},addEventListener(n,r,i){return t.each(s=>{try{s.document.addEventListener(n,r,i)}catch{}}),()=>{try{t.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){t.each(s=>{try{s.document.removeEventListener(n,r,i)}catch{}})}};return t}function Fe(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,i)=>{try{t?.addEventListener(n,r,i)}catch{}return()=>{try{t?.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{t?.removeEventListener(n,r,i)}catch{}}}}var V="pointerdown.outside",_="focus.outside";function Ke(e){for(const t of e)if(k(t)&&ee(t))return!0;return!1}var re=e=>"clientY"in e;function Ge(e,t){if(!re(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Je(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function Y(e,t){if(!t||!re(e))return!1;const n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,i=t.scrollWidth>t.clientWidth,s=i&&e.clientY>t.offsetTop+t.clientHeight,o={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(i?16:0)},a={x:e.clientX,y:e.clientY};return Je(o,a)?r||s:!1}function Qe(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:s,defer:o}=t;if(!e)return;const a=B(e),m=Z(e),g=je(m),y=Fe(m);function E(u,f){if(!k(f)||!f.isConnected||I(e,f)||Ge(e,u))return!1;const d=a.querySelector(`[aria-controls="${e.id}"]`);if(d){const x=$(d);if(Y(u,x))return!1}const O=$(e);return Y(u,O)?!1:!n?.(f)}const h=new Set,b=me(e?.getRootNode());function c(u){function f(d){const O=o&&!R()?N:S=>S(),x=d??u,A=x?.composedPath?.()??[x?.target];O(()=>{const S=b?A[0]:M(u);if(!(!e||!E(u,S))){if(i||s){const ie=U(i,s);e.addEventListener(V,ie,{once:!0})}q(e,V,{bubbles:!1,cancelable:!0,detail:{originalEvent:x,contextmenu:pe(x),focusable:Ke(A),target:S}})}})}u.pointerType==="touch"?(h.forEach(d=>d()),h.add(T(a,"click",f,{once:!0})),h.add(y.addEventListener("click",f,{once:!0})),h.add(g.addEventListener("click",f,{once:!0}))):f()}const l=new Set,w=setTimeout(()=>{l.add(T(a,"pointerdown",c,!0)),l.add(y.addEventListener("pointerdown",c,!0)),l.add(g.addEventListener("pointerdown",c,!0))},0);function v(u){(o?N:d=>d())(()=>{const d=M(u);if(!(!e||!E(u,d))){if(r||s){const O=U(r,s);e.addEventListener(_,O,{once:!0})}q(e,_,{bubbles:!1,cancelable:!0,detail:{originalEvent:u,contextmenu:!1,focusable:ee(d),target:d}})}})}return R()||(l.add(T(a,"focusin",v,!0)),l.add(y.addEventListener("focusin",v,!0)),l.add(g.addEventListener("focusin",v,!0))),()=>{clearTimeout(w),h.forEach(u=>u()),l.forEach(u=>u())}}function Ze(e,t){const{defer:n}=t,r=n?N:s=>s(),i=[];return i.push(r(()=>{const s=typeof e=="function"?e():e;i.push(Qe(s,t))})),()=>{i.forEach(s=>s?.())}}function q(e,t,n){const r=e.ownerDocument.defaultView||window,i=new r.CustomEvent(t,n);return e.dispatchEvent(i)}function et(e,t){const n=r=>{r.key==="Escape"&&(r.isComposing||t?.(r))};return T(B(e),"keydown",n,{capture:!0})}var X="layer:request-dismiss",p={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return t<n},isTopMost(e){return this.layers[this.count()-1]?.node===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>I(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>I(t,e))},add(e){this.layers.push(e),this.syncLayerIndex()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(r=>p.dismiss(r.node,e)),this.layers.splice(t,1),this.syncLayerIndex())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayerIndex(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const r=this.layers[n];nt(e,X,i=>{r.requestDismiss?.(i),i.defaultPrevented||r?.dismiss()}),tt(e,X,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayerIndex()},clear(){this.remove(this.layers[0].node)}};function tt(e,t,n){const r=e.ownerDocument.defaultView||window,i=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(i)}function nt(e,t,n){e.addEventListener(t,n,{once:!0})}var j;function F(){p.layers.forEach(({node:e})=>{e.style.pointerEvents=p.isBelowPointerBlockingLayer(e)?"none":"auto"})}function rt(e){e.style.pointerEvents=""}function it(e,t){const n=B(e),r=[];return p.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(j=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t?.forEach(i=>{const[s,o]=he(()=>{const a=i();return k(a)?a:null},{timeout:1e3});s.then(a=>r.push(J(a,{pointerEvents:"auto"}))),r.push(o)}),()=>{p.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=j,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function st(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){ne("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:r,onRequestDismiss:i,pointerBlocking:s,exclude:o,debug:a}=t,m={dismiss:r,node:e,pointerBlocking:s,requestDismiss:i};p.add(m),F();function g(c){const l=M(c.detail.originalEvent);p.isBelowPointerBlockingLayer(e)||p.isInBranch(l)||(t.onPointerDownOutside?.(c),t.onInteractOutside?.(c),!c.defaultPrevented&&(a&&console.log("onPointerDownOutside:",c.detail.originalEvent),r?.()))}function y(c){const l=M(c.detail.originalEvent);p.isInBranch(l)||(t.onFocusOutside?.(c),t.onInteractOutside?.(c),!c.defaultPrevented&&(a&&console.log("onFocusOutside:",c.detail.originalEvent),r?.()))}function E(c){p.isTopMost(e)&&(t.onEscapeKeyDown?.(c),!c.defaultPrevented&&r&&(c.preventDefault(),r()))}function h(c){if(!e)return!1;const l=typeof o=="function"?o():o,w=Array.isArray(l)?l:[l],v=t.persistentElements?.map(u=>u()).filter(k);return v&&w.push(...v),w.some(u=>I(u,c))||p.isInNestedLayer(e,c)}const b=[s?it(e,t.persistentElements):void 0,et(e,E),Ze(e,{exclude:h,onFocusOutside:y,onPointerDownOutside:g,defer:t.defer})];return()=>{p.remove(e),F(),rt(e),b.forEach(c=>c?.())}}function gt(e,t){const{defer:n}=t,r=n?N:s=>s(),i=[];return i.push(r(()=>{const s=te(e)?e():e;i.push(st(s,t))})),()=>{i.forEach(s=>s?.())}}function vt(e,t={}){const{defer:n}=t,r=n?N:s=>s(),i=[];return i.push(r(()=>{const s=te(e)?e():e;if(!s){ne("[@zag-js/dismissable] branch node is `null` or `undefined`");return}p.addBranch(s),i.push(()=>{p.removeBranch(s)})})),()=>{i.forEach(s=>s?.())}}export{mt as P,ut as R,Ze as a,yt as b,ft as c,Ae as d,pt as e,gt as f,ht as g,dt as s,vt as t,lt as u};
