import{s as l,c as i,m as d,b as $,e as b,S as E,P as Q,d as g,a as X,g as Y,u as ee,h as te,j as x}from"./iframe-rVoFtZu9.js";import{P as B,a as H}from"./2CTBMVJ4-CSCl13rC.js";import{a as oe,c as ne}from"./FBCYWU27-BYVai17-.js";import{D as re}from"./3VFJM5NZ-yJJf6KC2.js";import{c as se}from"./E53DB7BS-COn9pcus.js";import{B as z}from"./UKTBL2JL-CAvLOfBE.js";import{c as D}from"./JNCCF6MP-4sxnBYeu.js";import{P as T}from"./FLVHQV4A-Gi-kDcar.js";import{_ as ie}from"./5WXHJDCZ-DghNgBBa.js";import{m as h,c as ae,a as I,h as ce,f as F}from"./index-kLgwDL5l.js";import{s as le}from"./index-BzeBVIIH.js";import{s as de}from"./index-Dla5E_GO.js";import{m as S}from"./index-TjBUJP2H.js";import{c as ue}from"./combineProps-CsPhi8Vl.js";import{L as pe}from"./Utils-DvLkKxqJ.js";var fe={};ie(fe,{Anchor:()=>j,Arrow:()=>H,CloseButton:()=>U,Content:()=>w,Description:()=>q,Popover:()=>ge,Portal:()=>_,Root:()=>M,Title:()=>G,Trigger:()=>k,usePopoverContext:()=>p});var N=Y();function p(){const o=ee(N);if(o===void 0)throw new Error("[kobalte]: `usePopoverContext` must be used within a `Popover` component");return o}function j(o){const t=p(),[e,n]=l(o,["ref"]);return i(T,d({as:"div",ref(s){var c=S(t.setDefaultAnchorRef,e.ref);typeof c=="function"&&c(s)}},()=>t.dataset(),n))}function U(o){const t=p(),[e,n]=l(o,["aria-label","onClick"]);return i(z,d({get"aria-label"(){return e["aria-label"]||t.translations().dismiss},onClick:c=>{I(c,e.onClick),t.close()}},()=>t.dataset(),n))}function w(o){let t;const e=p(),n=h({id:e.generateId("content")},o),[s,c]=l(n,["ref","style","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let a=!1,u=!1,m=!1;const P=r=>{s.onCloseAutoFocus?.(r),e.isModal()?(r.preventDefault(),a||F(e.triggerRef())):(r.defaultPrevented||(u||F(e.triggerRef()),r.preventDefault()),u=!1,m=!1)},C=r=>{s.onPointerDownOutside?.(r),e.isModal()&&(a=r.detail.isContextMenu)},A=r=>{s.onFocusOutside?.(r),e.isOpen()&&e.isModal()&&r.preventDefault()},R=r=>{s.onInteractOutside?.(r),!e.isModal()&&(r.defaultPrevented||(u=!0,r.detail.originalEvent.type==="pointerdown"&&(m=!0)),ce(e.triggerRef(),r.target)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&m&&r.preventDefault())};return oe({isDisabled:()=>!(e.isOpen()&&e.isModal()),targets:()=>t?[t]:[]}),le({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),ne({trapFocus:()=>e.isOpen()&&e.isModal(),onMountAutoFocus:s.onOpenAutoFocus,onUnmountAutoFocus:P},()=>t),b(()=>x(e.registerContentId(c.id))),i(E,{get when(){return e.contentPresent()},get children(){return i(B.Positioner,{get children(){return i(re,d({ref(r){var v=S(O=>{e.setContentRef(O),t=O},s.ref);typeof v=="function"&&v(r)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return $(()=>!!e.isOpen())()&&e.isModal()},get excludedElements(){return[e.triggerRef]},get style(){return ue({"--kb-popover-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},s.style)},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},onPointerDownOutside:C,onFocusOutside:A,onInteractOutside:R,get onDismiss(){return e.close}},()=>e.dataset(),c))}})}})}function q(o){const t=p(),e=h({id:t.generateId("description")},o),[n,s]=l(e,["id"]);return b(()=>x(t.registerDescriptionId(n.id))),i(T,d({as:"p",get id(){return n.id}},()=>t.dataset(),s))}function _(o){const t=p();return i(E,{get when(){return t.contentPresent()},get children(){return i(Q,o)}})}var L={dismiss:"Dismiss"};function M(o){const t=`popover-${te()}`,e=h({id:t,modal:!1,translations:L},o),[n,s]=l(e,["translations","id","open","defaultOpen","onOpenChange","modal","preventScroll","forceMount","anchorRef"]),[c,a]=g(),[u,m]=g(),[P,C]=g(),[A,R]=g(),[r,v]=g(),[O,V]=g(),f=se({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:K=>n.onOpenChange?.(K)}),W=()=>n.anchorRef?.()??c()??u(),{present:Z}=de({show:()=>n.forceMount||f.isOpen(),element:()=>P()??null}),J=X(()=>({"data-expanded":f.isOpen()?"":void 0,"data-closed":f.isOpen()?void 0:""})),y={translations:()=>n.translations??L,dataset:J,isOpen:f.isOpen,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??y.isModal(),contentPresent:Z,triggerRef:u,contentId:A,titleId:r,descriptionId:O,setDefaultAnchorRef:a,setTriggerRef:m,setContentRef:C,close:f.close,toggle:f.toggle,generateId:ae(()=>n.id),registerContentId:D(R),registerTitleId:D(v),registerDescriptionId:D(V)};return i(N.Provider,{value:y,get children(){return i(B,d({anchorRef:W,contentRef:P},s))}})}function G(o){const t=p(),e=h({id:t.generateId("title")},o),[n,s]=l(e,["id"]);return b(()=>x(t.registerTitleId(n.id))),i(T,d({as:"h2",get id(){return n.id}},()=>t.dataset(),s))}function k(o){const t=p(),[e,n]=l(o,["ref","onClick","onPointerDown"]);return i(z,d({ref(a){var u=S(t.setTriggerRef,e.ref);typeof u=="function"&&u(a)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return $(()=>!!t.isOpen())()?t.contentId():void 0},onPointerDown:a=>{I(a,e.onPointerDown),a.preventDefault()},onClick:a=>{I(a,e.onClick),t.toggle()}},()=>t.dataset(),n))}var ge=Object.assign(M,{Anchor:j,Arrow:H,CloseButton:U,Content:w,Description:q,Portal:_,Title:G,Trigger:k});function _e(o){const[t,e]=l(o,[]);return i(k,d(e,{"bool:n$":!1}))}function Me(o){const[t,e]=l(o,[]);return i(M,d({gutter:4},e,{"bool:n$":!1}))}function ke(o){const[t,e]=l(o,["class"]);return i(_,{get children(){return i(w,d({get class(){return pe([`z-50 w-72 origin-[var(--kb-popover-content-transform-origin)]\r
                rounded-md border bg-popover p-4 text-popover-foreground shadow-md\r
                outline-none data-[expanded]:animate-in data-[closed]:animate-out\r
                data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95\r
                data-[expanded]:zoom-in-95`,t.class])}},e,{"bool:n$":!1}))}})}export{Me as P,_e as a,ke as b};
