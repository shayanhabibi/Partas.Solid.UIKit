import{s as h,b as M,f as oe,g as se,c as f,m as g,e as I,a as X,d as xe,j as Ve,x as L,u as Ne,t as le,B as ve,p as ue,l as Se,E as Pe,z as me}from"./iframe-BM9GGKTp.js";import{c as Fe,a as $e}from"./JHMNWOLY-BFBiVkBi.js";import{P as k}from"./FLVHQV4A-_6vtjyov.js";import{m as H,a as v,c as we,e as Ie,v as De,x as Z,F as J}from"./index--l9EKEpl.js";import{c as Ce}from"./combineProps-apv8T_dJ.js";import{$ as ce,u as Re}from"./LR7LBJN3-D9uC7BFP.js";import{B as _e}from"./UKTBL2JL-CrYdqGSi.js";import{F as Te,c as Oe}from"./NGHEENNE-DAxKFziz.js";import{F as Ae,c as Ee,a as Me,b as Le,u as W,d as de,e as fe,f as pe}from"./ZZYKR3VO-B4gwdk4i.js";import{b as ke}from"./FN6EICGO-DoVQvj8v.js";import{_ as He}from"./5WXHJDCZ-DghNgBBa.js";import{a as Q}from"./index-Ch2EAVXv.js";import{m as B}from"./index-Dpxw9ahN.js";import{L as _}from"./Utils-D0o1erub.js";import{I as We}from"./Icon-BM3j_ew-.js";import{c as Be}from"./chevron-down-DRLz8sBP.js";import"./preload-helper-PPVm8Dsz.js";import"./OYES4GOP-Dtjhg5s6.js";import"./JNCCF6MP-4sxnBYeu.js";const ze=new RegExp("^.*\\(.*\\).*$"),je=["latn","arab","hanidec","deva","beng","fullwide"];class ge{parse(t){return E(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,e,a){return E(this.locale,this.options,t).isValidPartialNumber(t,e,a)}getNumberingSystem(t){return E(this.locale,this.options,t).options.numberingSystem}constructor(t,e={}){this.locale=t,this.options=e}}const ee=new Map;function E(n,t,e){let a=te(n,t);if(!n.includes("-nu-")&&!a.isValidPartialNumber(e)){for(let r of je)if(r!==a.options.numberingSystem){let o=te(n+(n.includes("-u-")?"-nu-":"-u-nu-")+r,t);if(o.isValidPartialNumber(e))return o}}return a}function te(n,t){let e=n+(t?Object.entries(t).sort((r,o)=>r[0]<o[0]?-1:1).join():""),a=ee.get(e);return a||(a=new qe(n,t),ee.set(e,a)),a}class qe{parse(t){let e=this.sanitize(t);if(this.symbols.group&&(e=P(e,this.symbols.group,"")),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(e=e.replace(this.symbols.minusSign,"-")),e=e.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=e.indexOf("-");e=e.replace("-",""),e=e.replace("+","");let m=e.indexOf(".");m===-1&&(m=e.length),e=e.replace(".",""),m-2===0?e=`0.${e}`:m-2===-1?e=`0.0${e}`:m-2===-2?e="0.00":e=`${e.slice(0,m-2)}.${e.slice(m-2)}`,s>-1&&(e=`-${e}`)}let a=e?+e:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var r,o;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new ge(this.locale,s).parse(new ce(this.locale,s).format(a))}return this.options.currencySign==="accounting"&&ze.test(t)&&(a=-1*a),a}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=P(t,".",this.symbols.group))),this.symbols.group==="’"&&t.includes("'")&&(t=P(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=P(t," ",this.symbols.group),t=P(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,e=-1/0,a=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&e<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&a>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=P(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,e={}){this.locale=t,e.roundingIncrement!==1&&e.roundingIncrement!=null&&(e.maximumFractionDigits==null&&e.minimumFractionDigits==null?(e.maximumFractionDigits=0,e.minimumFractionDigits=0):e.maximumFractionDigits==null?e.maximumFractionDigits=e.minimumFractionDigits:e.minimumFractionDigits==null&&(e.minimumFractionDigits=e.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,e),this.options=this.formatter.resolvedOptions(),this.symbols=Ue(t,this.formatter,this.options,e);var a,r;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const re=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ke=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Ue(n,t,e,a){var r,o,s,m;let c=new Intl.NumberFormat(n,{...e,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),l=c.formatToParts(-10000.111),D=c.formatToParts(10000.111),F=Ke.map(u=>c.formatToParts(u));var $;let V=($=(r=l.find(u=>u.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&$!==void 0?$:"-",x=(o=D.find(u=>u.type==="plusSign"))===null||o===void 0?void 0:o.value;!x&&(a?.signDisplay==="exceptZero"||a?.signDisplay==="always")&&(x="+");let S=(s=new Intl.NumberFormat(n,{...e,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(u=>u.type==="decimal"))===null||s===void 0?void 0:s.value,w=(m=l.find(u=>u.type==="group"))===null||m===void 0?void 0:m.value,O=l.filter(u=>!re.has(u.type)).map(u=>ne(u.value)),N=F.flatMap(u=>u.filter(y=>!re.has(y.type)).map(y=>ne(y.value))),C=[...new Set([...O,...N])].sort((u,y)=>y.length-u.length),A=C.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${C.join("|")}|[\\p{White_Space}]`,"gu"),p=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(p.map((u,y)=>[u,y])),d=new RegExp(`[${p.join("")}]`,"g");return{minusSign:V,plusSign:x,decimal:S,group:w,literals:A,numeral:d,index:u=>String(i.get(u))}}function P(n,t,e){return n.replaceAll?n.replaceAll(t,e):n.split(t).join(e)}function ne(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Ge={empty:"Empty"};function Ye(n){const t=H({translations:Ge},n),[e,a]=h(t,["style","translations","value","textValue","minValue","maxValue","validationState","onIncrement","onIncrementPage","onDecrement","onDecrementPage","onDecrementToMin","onIncrementToMax","onKeyDown","onFocus","onBlur"]);let r=!1;const o=M(()=>e.textValue===""?e.translations?.empty:(e.textValue||`${e.value}`).replace("-","−")),s=l=>{if(v(l,e.onKeyDown),!(l.ctrlKey||l.metaKey||l.shiftKey||l.altKey||n.readOnly))switch(l.key){case"PageUp":if(e.onIncrementPage){l.preventDefault(),e.onIncrementPage();break}case"ArrowUp":case"Up":e.onIncrement&&(l.preventDefault(),e.onIncrement());break;case"PageDown":if(e.onDecrementPage){l.preventDefault(),e.onDecrementPage();break}case"ArrowDown":case"Down":e.onDecrement&&(l.preventDefault(),e.onDecrement());break;case"Home":e.onDecrementToMin&&(l.preventDefault(),e.onDecrementToMin());break;case"End":e.onIncrementToMax&&(l.preventDefault(),e.onIncrementToMax());break}},m=l=>{v(l,e.onFocus),r=!0},c=l=>{v(l,e.onBlur),r=!1};return oe(se(o,l=>{r&&(Fe("assertive"),$e(l??"","assertive"))})),f(k,g({as:"div",role:"spinbutton",get style(){return Ce({"touch-action":"none"},e.style)},get"aria-valuenow"(){return I(()=>e.value!=null&&!Number.isNaN(e.value))()?e.value:void 0},get"aria-valuetext"(){return o()},get"aria-valuemin"(){return e.minValue},get"aria-valuemax"(){return e.maxValue},get"aria-required"(){return n.required||void 0},get"aria-disabled"(){return n.disabled||void 0},get"aria-readonly"(){return n.readOnly||void 0},get"aria-invalid"(){return e.validationState==="invalid"||void 0},onKeyDown:s,onFocus:m,onBlur:c},a))}var Xe=le("<div aria-hidden=true><input type=text tabindex=-1 style=font-size:16px>"),Ze={};He(Ze,{DecrementTrigger:()=>z,Description:()=>pe,ErrorMessage:()=>fe,HiddenInput:()=>he,IncrementTrigger:()=>j,Input:()=>q,Label:()=>de,NumberField:()=>Qe,Root:()=>K,useNumberFieldContext:()=>T});var be=xe();function T(){const n=Ne(be);if(n===void 0)throw new Error("[kobalte]: `useNumberFieldContext` must be used within a `NumberField` component");return n}function ye(n){const t=W(),e=T(),[a,r]=h(n,["numberFieldVaryType","onClick"]);return f(_e,g({tabIndex:-1,get disabled(){return t.isDisabled()||e.rawValue()===(a.numberFieldVaryType==="increment"?e.maxValue():e.minValue())},get"aria-controls"(){return t.fieldId()},onClick:o=>{v(o,a.onClick),e.varyValue(e.step()*(a.numberFieldVaryType==="increment"?1:-1)),e.inputRef()?.focus()}},r))}function z(n){return f(ye,g({numberFieldVaryType:"decrement"},n))}function he(n){const t=T(),[e,a]=h(n,["ref","onChange"]),r=W();return(()=>{var o=Xe(),s=o.firstChild;s.addEventListener("change",c=>{v(c,e.onChange),L(()=>{t.setValue(c.target.value),t.format()})});var m=B(t.setHiddenInputRef,e.ref);return typeof m=="function"&&ve(m,s),ue(s,g({get name(){return r.name()},get value(){return I(()=>!!Number.isNaN(t.rawValue()))()?"":t.rawValue()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readOnly(){return r.isReadOnly()}},a),!1,!1),Se(c=>Pe(o,De,c)),o})()}function j(n){return f(ye,g({numberFieldVaryType:"increment"},n))}function q(n){const t=W(),e=T(),a=H({id:e.generateId("input"),inputMode:"decimal",autocomplete:"off",autocorrect:"off",spellcheck:!1},n),[r,o,s]=h(a,["ref","onInput","onChange","onWheel","as"],Te),{fieldProps:m}=Oe(o);return f(Ye,g({type:"text",get id(){return m.id()},ref(c){var l=B(e.setInputRef,r.ref);typeof l=="function"&&l(c)},get value(){return e.value()},get validationState(){return t.validationState()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readOnly(){return t.isReadOnly()},get textValue(){return e.textValue()},get minValue(){return e.minValue()},get maxValue(){return e.maxValue()},onIncrement:()=>{e.varyValue(e.step())},onIncrementPage:()=>{e.varyValue(e.largeStep())},onIncrementToMax:()=>{e.setValue(e.maxValue()),e.format()},onDecrement:()=>{e.varyValue(-e.step())},onDecrementPage:()=>{e.varyValue(-e.largeStep())},onDecrementToMin:()=>{e.setValue(e.minValue()),e.format()},get translations(){return e.translations()},onChange:c=>{v(c,r.onChange),e.format()},onWheel:c=>{v(c,r.onWheel),!(!e.changeOnWheel()||document.activeElement!==e.inputRef())&&(c.preventDefault(),c.deltaY<0?e.varyValue(e.step()):e.varyValue(-e.step()))},get onInput(){return Ie([r.onInput,e.onInput])},get"aria-label"(){return m.ariaLabel()},get"aria-labelledby"(){return m.ariaLabelledBy()},get"aria-describedby"(){return m.ariaDescribedBy()}},()=>t.dataset(),{as:c=>f(k,g({get as(){return r.as||"input"},get value(){return I(()=>!!(Number.isNaN(e.rawValue())||e.value()===void 0))()?"":e.formatNumber(e.rawValue())},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readOnly(){return t.isReadOnly()}},c,s))}))}function K(n){let t;const e=`NumberField-${Ve()}`,a=H({id:e,format:!0,minValue:Number.MIN_SAFE_INTEGER,maxValue:Number.MAX_SAFE_INTEGER,step:1,changeOnWheel:!0},n),[r,o,s]=h(a,["ref","value","defaultValue","onChange","rawValue","onRawValueChange","translations","format","formatOptions","textValue","minValue","maxValue","step","largeStep","changeOnWheel","translations","allowedInput"],Ae),{locale:m}=Re(),c=M(()=>new ge(m(),r.formatOptions)),l=M(()=>new ce(m(),r.formatOptions)),D=i=>r.format?l().format(i):i.toString(),F=i=>r.format&&typeof i!="number"?c().parse(i??""):Number(i??""),$=i=>r.format&&typeof i!="number"?c().isValidPartialNumber(i??"",a.minValue,a.maxValue):!Number.isNaN(Number(i)),[V,x]=ke({value:()=>r.value,defaultValue:()=>r.defaultValue??r.rawValue,onChange:i=>{r.onChange?.(typeof i=="number"?D(i):i),r.onRawValueChange?.(F(i))}});V()!==void 0&&r.onRawValueChange?.(F(V()));function U(i){return r.allowedInput!==void 0?r.allowedInput.test(i):!0}const{formControlContext:S}=Ee(o);Me(()=>t,()=>{x(r.defaultValue??"")});const[w,O]=X(),[N,C]=X(),A=i=>{if(S.isReadOnly()||S.isDisabled())return;const d=i.target;let b=d.selectionStart;$(d.value)?(i.inputType!=="insertText"||U(i.data||""))&&x(d.value):i.inputType==="deleteContentBackward"&&b!==null&&(b+=1);const u=V();u!==d.value&&(d.value=String(u??""),b!==null&&(d.selectionStart=b,d.selectionEnd=b))},p={value:V,setValue:x,rawValue:()=>F(V()),generateId:we(()=>Q(o.id)),formatNumber:D,format:()=>{if(!r.format)return;let i=p.rawValue();if(Number.isNaN(i)){N()&&(N().value=""),r.onRawValueChange?.(i);return}p.minValue()&&(i=Math.max(i,p.minValue())),p.maxValue()&&(i=Math.min(i,p.maxValue()));const d=p.formatNumber(i);V()!=d&&x(d),w()&&(w().value=d),N()&&(N().value=String(i))},onInput:A,textValue:()=>r.textValue,minValue:()=>r.minValue,maxValue:()=>r.maxValue,step:()=>r.step,largeStep:()=>r.largeStep??r.step*10,changeOnWheel:()=>r.changeOnWheel,translations:()=>r.translations,inputRef:w,setInputRef:O,hiddenInputRef:N,setHiddenInputRef:C,varyValue:i=>{let d=p.rawValue()??0;Number.isNaN(d)&&(d=0),L(()=>{let b=d;const u=i>0?"+":"-",y=Math.abs(i),G=n.minValue===void 0?Number.NaN:p.minValue(),Y=n.maxValue===void 0?Number.NaN:p.maxValue();b=Z(d,G,Y,y),u==="+"&&b>d||u==="-"&&b<d||(b=Z(Je(u,d,y),G,Y,y)),p.setValue(b),p.format()})}};return oe(se(()=>r.rawValue,i=>{if(i!==p.rawValue()){if(Number.isNaN(i))return;L(()=>{x(i??""),p.format()})}},{defer:!0})),f(Le.Provider,{value:S,get children(){return f(be.Provider,{value:p,get children(){return f(k,g({as:"div",ref(i){var d=B(b=>t=b,r.ref);typeof d=="function"&&d(i)},role:"group",get id(){return Q(o.id)}},()=>S.dataset(),s))}})}})}function Je(n,t,e){let a=n==="+"?t+e:t-e;if(Number.isFinite(t)&&Number.isFinite(e)&&(e%1!==0||t%1!==0)){const r=J(e),o=J(t),s=10**Math.max(r,o),m=Math.round(e*s),c=Math.round(t*s);a=(n==="+"?c+m:c-m)/s}return a}var Qe=Object.assign(K,{Description:pe,ErrorMessage:fe,HiddenInput:he,Input:q,IncrementTrigger:j,DecrementTrigger:z,Label:de}),et=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tt=n=>f(We,g(n,{iconNode:et,name:"chevron-up"})),rt=tt,nt=le("<div>");function ae(n){const[t,e]=h(n,[]);return f(K,g(e,{"bool:n$":!1}))}function at(n){const[t,e]=h(n,["class"]);return(()=>{var a=nt();return ue(a,g({get class(){return _([`relative rounded-md focus-within:ring-2\r
            focus-within:ring-ring focus-within:ring-offset-2`,t.class])}},e),!1,!1),a})()}function it(n){const[t,e]=h(n,["class"]);return f(q,g({get class(){return _([`flex h-10 w-full rounded-md border border-input bg-transparent\r
            px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent\r
            file:text-sm file:font-medium placeholder:text-muted-foreground\r
            focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50\r
            data-[invalid]:border-error-foreground data-[invalid]:text-error-foreground`,t.class])}},e,{"bool:n$":!1}))}function ot(n){const[t,e]=h(n,["children","class"]);let a;const r=t.children,o=me(()=>r);return a=[o,()=>{let s;return s=Array.from(o),s.length!==0}],f(j,g({get class(){return _(["absolute right-1 top-1 inline-flex size-4 items-center justify-center",t.class])}},e,{"bool:n$":!1,get children(){return I(()=>!!a[1]())()?a[0]():f(rt,{class:"size-4"})}}))}function st(n){const[t,e]=h(n,["children","class"]);let a;const r=t.children,o=me(()=>r);return a=[o,()=>{let s;return s=Array.from(o),s.length!==0}],f(z,g({get class(){return _(["absolute bottom-1 right-1 inline-flex size-4 items-center justify-center",t.class])}},e,{"bool:n$":!1,get children(){return I(()=>!!a[1]())()?a[0]():f(Be,{class:"size-4"})}}))}const{fn:ie}=__STORYBOOK_MODULE_TEST__,wt={args:{onChange:ie(),onRawValueChange:ie()},argTypes:{value:{control:{type:"text"},table:{type:{summary:"string"}}},defaultValue:{control:{type:"text"},table:{type:{summary:"string"}}},onChange:{control:{type:!1},table:{type:{summary:"function"}}},rawValue:{control:{type:"number"},table:{type:{summary:"float64"}}},onRawValueChange:{control:{type:!1},table:{type:{summary:"function"}}},minValue:{control:{type:"number"},table:{type:{summary:"float64"}}},maxValue:{control:{type:"number"},table:{type:{summary:"float64"}}},step:{control:{type:"number"},table:{type:{summary:"float64"}}},largeStep:{control:{type:"number"},table:{type:{summary:"float64"}}},changeOnWheel:{control:{type:"boolean"},table:{type:{summary:"bool"}}},format:{control:{type:"boolean"},table:{type:{summary:"bool"}}},formatOptions:{control:{type:"object"},table:{type:{summary:"any"}}},allowedInput:{control:{type:"text"},table:{type:{summary:"string"}}},name:{control:{type:"text"},table:{type:{summary:"string"}}},validationState:{control:{type:"text"},table:{type:{summary:"string"}}},required:{control:{type:"boolean"},table:{type:{summary:"bool"}}},disabled:{control:{type:"boolean"},table:{type:{summary:"bool"}}},readOnly:{control:{type:"boolean"},table:{type:{summary:"bool"}}}},render:n=>f(ae,g({class:"w-36"},n,{"bool:n$":!1,get children(){return f(at,{get children(){return[f(it,{}),f(ot,{}),f(st,{})]}})}})),component:ae},R={args:{defaultValue:30}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: 30
  }
}`,...R.parameters?.docs?.source}}};const It=["Default"];export{R as Default,It as __namedExportsOrder,wt as default};
