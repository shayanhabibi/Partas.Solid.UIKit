import{a as I,b as m,k as M,m as p,e as V,u as Z,d as q,c as d,s as w,j as R,g as x,S as de,P as Ge,x as A,f as xe,t as Ce,p as Fe}from"./iframe-Scq7yoar.js";import{c as ae,b as j,a as ge,d as Ie}from"./GZJAOTUE-Q9qllX1S.js";import{i as fe,c as le,u as J,b as Re,D as ee,d as C,a as te,o as Te,s as Qe}from"./size-Oc0jp_v9.js";import{a as l,m as pe,s as me}from"./U42ECMND-BDjyePcW.js";import{a as Je,s as et,g as tt}from"./index-DCGLD5xg.js";import{E as ce}from"./index-DGbF7bl6.js";import{L as B}from"./Utils-C86-96S-.js";import{B as be}from"./Button-CG4TBRte.js";import"./preload-helper-D9Z9MdNV.js";import"./Option-CYzlgCrd.js";import"./Util-1esvhydp.js";import"./UKTBL2JL-DRBfLMFL.js";import"./OYES4GOP-Zlarp449.js";import"./index-DtMdcUI0.js";import"./FLVHQV4A-DL7u995r.js";import"./5WXHJDCZ-DghNgBBa.js";import"./index-D5FJQ996.js";const nt=(n,e)=>n.length>0?()=>n(M(e)):n;function rt(n,e){let t=0;const r=n.map((s,i)=>m(()=>(t=i,s()),void 0,ce));return m(()=>r.map(s=>s())[t],void 0,e)}function he(n,e,t){let r=()=>e;const[s,i]=I(e,ce),c=m(nt(n,()=>r()),e,ce);return[r=rt([s,c],t),(u=>i(()=>typeof u=="function"?u(M(r)):u))]}var ot=n=>{const e=p({enabled:!0},n);x(()=>{l(e.enabled)&&(document.addEventListener("keydown",t),R(()=>{document.removeEventListener("keydown",t)}))});const t=r=>{r.key==="Escape"&&e.onEscapeKeyDown(r)}},st=ot,it=n=>{const e=p({enabled:!0},n);x(()=>{const{body:t}=document;l(e.enabled)&&Je({key:"no-pointer-events",element:t,style:{pointerEvents:"none"}})})},at=it,lt="dismissible.outsideFocus",ct={bubbles:!1,cancelable:!0},ut=n=>{const e=p({enabled:!0,ignorePointerEvents:!1},n);let t=!1;x(()=>{if(!l(e.enabled))return;const i=l(e.ignorePointerEvents);document.addEventListener("focusin",r),i&&document.addEventListener("pointerdown",s),R(()=>{document.removeEventListener("focusin",r),i&&document.removeEventListener("pointerdown",s)})});const r=i=>{if(t){t=!1;return}const c=l(e.element);if(c&&!ae(c,i.target)){const u=new CustomEvent(lt,ct);c.dispatchEvent(u),e.onFocus(u)}},s=()=>{t=!0}},dt=ut,gt=n=>{const e=p({enabled:!0,strategy:"pointerup"},n);x(()=>{if(!l(e.enabled))return;const r=l(e.strategy);document.addEventListener(r,t),R(()=>{document.removeEventListener(r,t)})});const t=r=>{const s=l(e.element),i=l(e.ignore);s&&!ae(s,r.target)&&!(i&&i.some(c=>c&&ae(c,r.target)))&&e.onPointer(r)}},ft=gt,pt=n=>{const e=p({dismissOnEscapeKeyDown:!0,dismissOnOutsideFocus:!0,dismissOnOutsidePointer:!0,outsidePointerStrategy:"pointerup",noOutsidePointerEvents:!0},n);st({enabled:()=>l(e.dismissOnEscapeKeyDown),onEscapeKeyDown:t=>{e.onEscapeKeyDown?.(t),t.defaultPrevented||e.onDismiss("escapeKey")}}),dt({enabled:()=>l(e.dismissOnOutsideFocus),onFocus:t=>{e.onOutsideFocus?.(t),t.defaultPrevented||e.onDismiss("outsideFocus")},element:()=>l(e.element),ignorePointerEvents:()=>l(e.noOutsidePointerEvents)||l(e.dismissOnOutsidePointer)}),ft({enabled:()=>l(e.dismissOnOutsidePointer),strategy:()=>l(e.outsidePointerStrategy),ignore:()=>l(e.outsidePointerIgnore)??[],onPointer:t=>{if(e.onOutsidePointer?.(t),!t.defaultPrevented){const r=t.button===0&&t.ctrlKey===!0;if(t.button===2||r)return;e.onDismiss("outsidePointer")}},element:()=>l(e.element)}),at({enabled:()=>l(e.noOutsidePointerEvents)})},mt=pt,ue=q(),vt=n=>{const e=p({dismissibleId:V()},n);return m(()=>{if(Z(ue))return d(Pe,n);const[s,i]=I([e.dismissibleId]),c=o=>{i(g=>[...g,o])},u=o=>{i(g=>g.filter(P=>P!==o))};return d(ue.Provider,{value:{layers:s,onLayerShow:c,onLayerDismiss:u},get children(){return d(Pe,n)}})})},[_n,re]=I([]),Pe=n=>{const e=p({enabled:!0,dismissibleId:V(),dismissOnEscapeKeyDown:!0,dismissOnOutsideFocus:!0,dismissOnOutsidePointer:!0,outsidePointerStrategy:"pointerup",noOutsidePointerEvents:!0},n),[t,r]=w(e,["enabled","children","dismissOnEscapeKeyDown","dismissOnOutsideFocus","dismissOnOutsidePointer","outsidePointerStrategy","outsidePointerIgnore","noOutsidePointerEvents","onDismiss"]),s=Z(ue);R(()=>{s.onLayerDismiss(e.dismissibleId),re(o=>o.filter(g=>g!==e.dismissibleId))}),x(()=>{t.enabled?(s.onLayerShow(e.dismissibleId),re(o=>[...o,e.dismissibleId])):(s.onLayerDismiss(e.dismissibleId),re(o=>o.filter(g=>g!==e.dismissibleId)))});const i=()=>s.layers()[s.layers().length-1]===e.dismissibleId;mt({dismissOnEscapeKeyDown:()=>l(t.dismissOnEscapeKeyDown)&&i()&&t.enabled,dismissOnOutsideFocus:()=>l(t.dismissOnOutsideFocus)&&i()&&t.enabled,dismissOnOutsidePointer:()=>l(t.dismissOnOutsidePointer)&&i()&&t.enabled,outsidePointerStrategy:t.outsidePointerStrategy,outsidePointerIgnore:t.outsidePointerIgnore,noOutsidePointerEvents:()=>l(t.noOutsidePointerEvents)&&t.enabled,onDismiss:o=>{t.onDismiss(o)},...r});const c=m(()=>t.children),u=()=>{const o=c();return fe(o)?o({get isLastLayer(){return i()}}):o};return M(()=>u())},bt=vt,ht=bt,Pt='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]), input:not([tabindex="-1"]), textarea:not([tabindex="-1"]), select:not([tabindex="-1"]), details:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])',oe="focusTrap.initialFocus",se="focusTrap.finalFocus",Se={bubbles:!1,cancelable:!0},St=n=>{const e=p({enabled:!0,observeChanges:!0,restoreFocus:!0},n),[t,r]=I(null),s=m(()=>{const a=t();return a?a[0]??null:null}),i=m(()=>{const a=t();return a?a[a.length-1]??null:null});let c=null;const u=()=>{j(()=>{o(l(e.element)),(document.activeElement===null||document.activeElement===document.body)&&g(l(e.element))})};x(()=>{const a=l(e.element);if(a&&l(e.enabled)){c=document.activeElement,M(()=>{o(a),g(a)});const y=new MutationObserver(u);l(e.observeChanges)&&y.observe(a,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabindex"]}),R(()=>{l(e.observeChanges)&&y.disconnect(),r(null),k(a)})}}),x(()=>{const a=t();a===null||a.length!==0||(document.addEventListener("keydown",h),R(()=>{document.removeEventListener("keydown",h)}))}),x(()=>{const a=s();a&&(a.addEventListener("keydown",P),R(()=>{a.removeEventListener("keydown",P)}))}),x(()=>{const a=i();a&&(a.addEventListener("keydown",O),R(()=>{a.removeEventListener("keydown",O)}))});const o=a=>{const y=Array.from(a.querySelectorAll(Pt)).map((v,S)=>({element:v,domIndex:S,tabIndex:v.tabIndex})).sort((v,S)=>v.tabIndex===S.tabIndex?v.domIndex-S.domIndex:v.tabIndex-S.tabIndex);r(y.map(({element:v})=>v))},g=a=>{j(()=>{const y=l(e.initialFocusElement)??s()??a,v=e.onInitialFocus;let S;v&&(S=new CustomEvent(oe,Se),a.addEventListener(oe,v),a.dispatchEvent(S),a.removeEventListener(oe,v)),S?.defaultPrevented!==!0&&y.focus()})},P=a=>{a.key==="Tab"&&a.shiftKey&&(a.preventDefault(),i().focus())},O=a=>{a.key==="Tab"&&!a.shiftKey&&(a.preventDefault(),s().focus())},h=a=>{a.key==="Tab"&&a.preventDefault()},k=a=>{j(()=>{if(!l(e.restoreFocus))return;const v=l(e.finalFocusElement)??c;if(!v)return;let S;const T=e.onFinalFocus;T&&(S=new CustomEvent(se,Se),a.addEventListener(se,T),a.dispatchEvent(S),a.removeEventListener(se,T)),S?.defaultPrevented!==!0&&v.focus()})}},Ot=St,wt=Ot,yt=n=>{const e=m(()=>{const u=l(n.element);if(u)return getComputedStyle(u)}),t=()=>e()?.animationName??"none",[r,s]=I(l(n.show)?"present":"hidden"),i=u=>{s(u),n.onStateChange?.(u)};let c="none";return x(u=>{const o=l(n.show);return M(()=>{if(u===o)return o;const g=c,P=t();o?i("present"):P==="none"||e()?.display==="none"?i("hidden"):i(u===!0&&g!==P?"hiding":"hidden")}),o},l(n.show)),x(()=>{const u=l(n.element);if(!u)return;const o=P=>{P.target===u&&(c=t())},g=P=>{const h=t().includes(P.animationName);P.target===u&&h&&r()==="hiding"&&i("hidden")};u.addEventListener("animationstart",o),u.addEventListener("animationcancel",g),u.addEventListener("animationend",g),R(()=>{u.removeEventListener("animationstart",o),u.removeEventListener("animationcancel",g),u.removeEventListener("animationend",g)})}),{present:()=>r()==="present"||r()==="hiding",state:r}},Et=yt,Oe=Et,Dt=n=>{const e=p({initialRegistered:!1},n),[t,r]=I(e.initialRegistered);return[m(()=>{if(t())return l(e.value)}),()=>{r(!0)},()=>{r(!1)}]},we=Dt,Le=q(),xt=n=>n===void 0?Le:te(`dialog-${n}`),_e=n=>{if(n===void 0){const t=Z(Le);if(!t)throw new Error("[corvu]: Dialog context not found. Make sure to wrap Dialog components in <Dialog.Root>");return t}const e=J(`dialog-${n}`);if(!e)throw new Error(`[corvu]: Dialog context with id "${n}" not found. Make sure to wrap Dialog components in <Dialog.Root contextId="${n}">`);return e},Ae=q(),Ct=n=>n===void 0?Ae:te(`dialog-internal-${n}`),N=n=>{if(n===void 0){const t=Z(Ae);if(!t)throw new Error("[corvu]: Dialog context not found. Make sure to wrap Dialog components in <Dialog.Root>");return t}const e=J(`dialog-internal-${n}`);if(!e)throw new Error(`[corvu]: Dialog context with id "${n}" not found. Make sure to wrap Dialog components in <Dialog.Root contextId="${n}">`);return e},Ft=n=>{const[e,t]=w(n,["contextId","onClick"]),r=m(()=>N(e.contextId));return d(Re,p({onClick:i=>{!Ie(e.onClick,i)&&r().setOpen(!1)},"aria-label":"close","data-corvu-dialog-close":""},t))},It=Ft,Rt=n=>{const[e,t]=w(n,["forceMount","contextId","ref","style"]),r=m(()=>N(e.contextId)),s=()=>me(r().open,()=>e.forceMount,r().contentPresent),i=m(()=>r().open()||r().contentPresent());return d(ht,{get element(){return r().contentRef},get enabled(){return i()},get dismissibleId(){return r().dialogId()},onDismiss:()=>r().setOpen(!1),get dismissOnEscapeKeyDown(){return r().closeOnEscapeKeyDown},get dismissOnOutsideFocus(){return r().closeOnOutsideFocus},get dismissOnOutsidePointer(){return r().closeOnOutsidePointer},get outsidePointerStrategy(){return r().closeOnOutsidePointerStrategy},outsidePointerIgnore:()=>[r().triggerRef()],get noOutsidePointerEvents(){return r().noOutsidePointerEvents},get onEscapeKeyDown(){return r().onEscapeKeyDown},get onOutsideFocus(){return r().onOutsideFocus},get onOutsidePointer(){return r().onOutsidePointer},children:c=>d(de,{get when(){return s()},get children(){return d(ee,p({as:"div",ref(u){var o=pe(r().setContentRef,e.ref);typeof o=="function"&&o(u)},get style(){return ge({"pointer-events":c.isLastLayer?"auto":void 0},e.style)},get id(){return r().dialogId()},get role(){return r().role()},tabIndex:"-1",get"aria-describedby"(){return r().descriptionId()},get"aria-labelledby"(){return r().labelId()},get"aria-modal"(){return r().modal()?"true":"false"},get"data-closed"(){return C(!r().open())},get"data-open"(){return C(r().open())},"data-corvu-dialog-content":""},t))}})})},Tt=Rt,Lt=n=>{const[e,t]=w(n,["contextId"]),r=m(()=>N(e.contextId));return x(()=>{const s=r();s.registerDescriptionId(),R(()=>s.unregisterDescriptionId())}),d(ee,p({as:"p",get id(){return r().descriptionId()},"data-corvu-dialog-description":""},t))},_t=Lt,At=n=>{const[e,t]=w(n,["contextId"]),r=m(()=>N(e.contextId));return x(()=>{const s=r();s.registerLabelId(),R(()=>s.unregisterLabelId())}),d(ee,p({as:"h2",get id(){return r().labelId()},"data-corvu-dialog-label":""},t))},kt=At,$t=n=>{const[e,t]=w(n,["forceMount","contextId","ref","style"]),r=m(()=>N(e.contextId)),s=()=>me(r().open,()=>e.forceMount,r().overlayPresent);return d(de,{get when(){return s()},get children(){return d(ee,p({as:"div",ref(i){var c=pe(r().setOverlayRef,e.ref);typeof c=="function"&&c(i)},get style(){return ge({"pointer-events":"auto"},e.style)},"aria-hidden":"true",get"data-closed"(){return C(!r().open())},get"data-open"(){return C(r().open())},"data-corvu-dialog-overlay":""},t))}})},zt=$t,Mt=n=>{const[e,t]=w(n,["forceMount","contextId"]),r=m(()=>N(e.contextId)),s=()=>me(r().open,()=>e.forceMount,r().contentPresent,r().overlayPresent);return d(de,{get when(){return s()},get children(){return d(Ge,t)}})},ve=Mt,ie=!0,Kt=n=>{const e=p({role:"dialog",initialOpen:!1,modal:!0,closeOnEscapeKeyDown:!0,closeOnOutsideFocus:()=>n.trapFocus??!0,closeOnOutsidePointer:()=>n.modal??ie,closeOnOutsidePointerStrategy:"pointerup",noOutsidePointerEvents:()=>n.modal??ie,preventScroll:()=>n.modal??ie,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!0,trapFocus:!0,restoreFocus:!0,dialogId:V()},n),[t,r]=le({value:()=>e.open,initialValue:e.initialOpen,onChange:e.onOpenChange}),[s,i,c]=we({value:()=>e.labelId??V()}),[u,o,g]=we({value:()=>e.descriptionId??V()}),[P,O]=I(null),[h,k]=I(null),[a,y]=I(null),{present:v}=Oe({show:t,element:h,onStateChange:b=>{b==="present"?e.onContentPresentChange?.(!0):b==="hidden"&&e.onContentPresentChange?.(!1)}}),{present:S}=Oe({show:t,element:a,onStateChange:b=>{b==="present"?e.onOverlayPresentChange?.(!0):b==="hidden"&&e.onOverlayPresentChange?.(!1)}});wt({element:h,enabled:()=>t()&&e.trapFocus,initialFocusElement:()=>e.initialFocusEl??null,restoreFocus:()=>e.restoreFocus,finalFocusElement:()=>e.finalFocusEl??null,onFinalFocus:e.onFinalFocus,onInitialFocus:e.onInitialFocus}),et({element:h,enabled:()=>v()&&l(e.preventScroll),hideScrollbar:()=>e.hideScrollbar,preventScrollbarShift:()=>e.preventScrollbarShift,preventScrollbarShiftMode:()=>e.preventScrollbarShiftMode,restoreScrollPosition:()=>e.restoreScrollPosition,allowPinchZoom:()=>e.allowPinchZoom});const T={get role(){return e.role},get open(){return t()},setOpen:r,get modal(){return e.modal},get closeOnEscapeKeyDown(){return e.closeOnEscapeKeyDown},get closeOnOutsideFocus(){return l(e.closeOnOutsideFocus)},get closeOnOutsidePointer(){return l(e.closeOnOutsidePointer)},get closeOnOutsidePointerStrategy(){return e.closeOnOutsidePointerStrategy},get noOutsidePointerEvents(){return l(e.noOutsidePointerEvents)},get preventScroll(){return l(e.preventScroll)},get hideScrollbar(){return e.hideScrollbar},get preventScrollbarShift(){return l(e.preventScrollbarShift)},get preventScrollbarShiftMode(){return e.preventScrollbarShiftMode},get restoreScrollPosition(){return e.restoreScrollPosition},get allowPinchZoom(){return e.allowPinchZoom},get trapFocus(){return e.trapFocus},get restoreFocus(){return e.restoreFocus},get initialFocusEl(){return e.initialFocusEl},get finalFocusEl(){return e.finalFocusEl},get contentPresent(){return v()},get contentRef(){return h()},get overlayPresent(){return S()},get overlayRef(){return a()},get dialogId(){return e.dialogId},get labelId(){return s()},get descriptionId(){return u()}},K=Te(()=>e.children),F=()=>{const b=K()();return fe(b)?b(T):b};return m(()=>{const b=xt(e.contextId),_=Ct(e.contextId);return d(b.Provider,{value:{role:()=>e.role,open:t,setOpen:r,modal:()=>e.modal,closeOnEscapeKeyDown:()=>e.closeOnEscapeKeyDown,closeOnOutsideFocus:()=>l(e.closeOnOutsideFocus),closeOnOutsidePointer:()=>l(e.closeOnOutsidePointer),closeOnOutsidePointerStrategy:()=>e.closeOnOutsidePointerStrategy,noOutsidePointerEvents:()=>l(e.noOutsidePointerEvents),preventScroll:()=>l(e.preventScroll),hideScrollbar:()=>e.hideScrollbar,preventScrollbarShift:()=>l(e.preventScrollbarShift),preventScrollbarShiftMode:()=>e.preventScrollbarShiftMode,restoreScrollPosition:()=>e.restoreScrollPosition,allowPinchZoom:()=>e.allowPinchZoom,trapFocus:()=>e.trapFocus,restoreFocus:()=>e.restoreFocus,initialFocusEl:()=>e.initialFocusEl,finalFocusEl:()=>e.finalFocusEl,contentPresent:v,contentRef:h,overlayPresent:S,overlayRef:a,dialogId:()=>e.dialogId,labelId:s,descriptionId:u},get children(){return d(_.Provider,{get value(){return{role:()=>e.role,open:t,setOpen:r,modal:()=>e.modal,closeOnEscapeKeyDown:()=>e.closeOnEscapeKeyDown,onEscapeKeyDown:e.onEscapeKeyDown,closeOnOutsideFocus:()=>l(e.closeOnOutsideFocus),closeOnOutsidePointer:()=>l(e.closeOnOutsidePointer),closeOnOutsidePointerStrategy:()=>e.closeOnOutsidePointerStrategy,onOutsideFocus:e.onOutsideFocus,onOutsidePointer:e.onOutsidePointer,noOutsidePointerEvents:()=>l(e.noOutsidePointerEvents),preventScroll:()=>l(e.preventScroll),hideScrollbar:()=>e.hideScrollbar,preventScrollbarShift:()=>l(e.preventScrollbarShift),preventScrollbarShiftMode:()=>e.preventScrollbarShiftMode,restoreScrollPosition:()=>e.restoreScrollPosition,allowPinchZoom:()=>e.allowPinchZoom,trapFocus:()=>e.trapFocus,restoreFocus:()=>e.restoreFocus,initialFocusEl:()=>e.initialFocusEl,finalFocusEl:()=>e.finalFocusEl,contentPresent:v,contentRef:h,overlayPresent:S,overlayRef:a,dialogId:()=>e.dialogId,labelId:s,registerLabelId:i,unregisterLabelId:c,descriptionId:u,registerDescriptionId:o,unregisterDescriptionId:g,setContentRef:k,setOverlayRef:y,triggerRef:P,setTriggerRef:O}},get children(){return M(()=>F())}})}})})},Nt=Kt,Ht=n=>{const[e,t]=w(n,["contextId","ref","onClick"]),r=m(()=>N(e.contextId));return d(Re,p({ref(i){var c=pe(r().setTriggerRef,e.ref);typeof c=="function"&&c(i)},onClick:i=>{!Ie(e.onClick,i)&&r().setOpen(c=>!c)},get"aria-controls"(){return r().dialogId()},get"aria-expanded"(){return r().open()?"true":"false"},"aria-haspopup":"dialog",get"data-closed"(){return C(!r().open())},get"data-open"(){return C(r().open())},"data-corvu-dialog-trigger":""},t))},Zt=Ht,Bt=Object.assign(Nt,{Trigger:Zt,Portal:ve,Overlay:zt,Content:Tt,Label:kt,Description:_t,Close:It,useContext:_e}),z=Bt,W=n=>typeof n=="function"?n():n,ye=n=>requestAnimationFrame(()=>requestAnimationFrame(n));function Ut(n){const e=p({enabled:!0,dimension:"both"},n),[t,r]=I(!1),[s,i]=I(null);let c=null;x(()=>{const g=W(e.element),P=W(e.enabled);if(!g||!P)return;const O=new ResizeObserver(u);O.observe(g),g.addEventListener("transitionend",o),R(()=>{O.disconnect(),g.removeEventListener("transitionend",o),o()})});const u=([g])=>{if(t())return;const P=g.target,O=[P.offsetWidth,P.offsetHeight],h=W(e.dimension);h==="both"?c?c[0]!==O[0]&&c[1]!==O[1]&&(A(()=>{i(c),r(!0)}),ye(()=>{i(O),parseFloat(getComputedStyle(g.target).transitionDuration)===0&&o()})):c=O:c?X(h,c)!==X(h,O)&&(A(()=>{i(X(h,c)),r(!0)}),ye(()=>{i(X(h,O)),parseFloat(getComputedStyle(g.target).transitionDuration)===0&&o()})):c=O},o=()=>{if(!t())return;const g=W(e.element);g?c=[g.offsetWidth,g.offsetHeight]:c=null,A(()=>{r(!1),i(null)})};return{transitioning:t,transitionSize:s}}var X=(n,e)=>{switch(n){case"width":return e[0];case"height":return e[1]}},Vt=Ut,jt=Vt,qt=n=>d(z.Close,p({"data-corvu-drawer-close":"","data-corvu-dialog-close":null},n)),ke=qt,$e=(n,e,t,r)=>{if(t===void 0||r===void 0)return{value:n,offset:G(n,e)};const s=r[t-1]!==void 0&&r[t-1]!==null?G(r[t-1],e):void 0,i=r[t]!==void 0&&r[t]!==null?G(r[t],e):void 0;return{value:n,offset:G(n,e),lowerBreakPoint:i,upperBreakPoint:s}},G=(n,e)=>{if(typeof n=="number")return e-n*e;if(!n.endsWith("px"))throw new Error(`[corvu] Snap and break points must be a number or a string ending with 'px'. Got ${n}`);return e-parseInt(n,10)},Yt=(n,e,t,r)=>{const s=Ee("upper",n,r?t:e),i=Ee("lower",n,r?t:e);return s?i?i.upperBreakPoint===void 0||s.lowerBreakPoint===void 0?Math.abs(i.offset-t)<Math.abs(s.offset-t)?i:s:t<s.lowerBreakPoint?i:s:s:i},Ee=(n,e,t)=>e.reduce((r,s)=>n=="upper"&&s.offset>=t&&(!r||s.offset<r.offset)||n=="lower"&&s.offset<=t&&(!r||s.offset>r.offset)?s:r,void 0),Wt=(n,e,t)=>{let r=n,s=!1;do{if(r.hasAttribute("data-corvu-no-drag")||r.type==="range"||r.tagName==="SELECT"&&t==="mouse")return!1;r===e?s=!0:r=r.parentElement}while(r&&!s);return!0},ze=q(),Xt=n=>n===void 0?ze:te(`drawer-${n}`),Me=n=>{if(n===void 0){const t=Z(ze);if(!t)throw new Error("[corvu]: Drawer context not found. Make sure to wrap Drawer components in <Drawer.Root>");return t}const e=J(`drawer-${n}`);if(!e)throw new Error(`[corvu]: Drawer context with id "${n}" not found. Make sure to wrap Drawer components in <Drawer.Root contextId="${n}">`);return e},Ke=q(),Gt=n=>n===void 0?Ke:te(`drawer-internal-${n}`),Ne=n=>{if(n===void 0){const t=Z(Ke);if(!t)throw new Error("[corvu]: Drawer context not found. Make sure to wrap Drawer components in <Drawer.Root>");return t}const e=J(`drawer-internal-${n}`);if(!e)throw new Error(`[corvu]: Drawer context with id "${n}" not found. Make sure to wrap Drawer components in <Drawer.Root contextId="${n}">`);return e},Qt=n=>{const[e,t]=w(n,["contextId","style"]);let r=!1,s=null,i=[0,0],c,u=0;const o=m(()=>Ne(e.contextId)),g=m(()=>z.useContext(e.contextId)),P=m(()=>o().snapPoints().map((f,b)=>$e(f,o().drawerSize(),b,o().breakPoints()))),O=m(()=>{switch(o().side()){case"top":return`translate3d(0, ${-o().translate()}px, 0)`;case"bottom":return`translate3d(0, ${o().translate()}px, 0)`;case"right":return`translate3d(${o().translate()}px, 0, 0)`;case"left":return`translate3d(${-o().translate()}px, 0, 0)`}}),h=m(()=>{const f=o().transitionSize();if(f!==null)switch(o().side()){case"top":case"bottom":return`${f}px`}}),k=m(()=>{const f=o().transitionSize();if(f!==null)switch(o().side()){case"left":case"right":return`${f}px`}});x(()=>{g().open()&&(document.addEventListener("pointermove",y),document.addEventListener("touchmove",v),document.addEventListener("pointerup",T),document.addEventListener("touchend",K),document.addEventListener("contextmenu",F),R(()=>{document.removeEventListener("pointermove",y),document.removeEventListener("touchmove",v),document.removeEventListener("pointerup",T),document.removeEventListener("touchend",K),document.removeEventListener("contextmenu",F)}))}),x(()=>{o().transitionState()==="closing"&&o().setIsDragging(!1)});const a=f=>{f.button===0&&Wt(f.target,g().contentRef(),f.pointerType)&&o().transitionState()!=="closing"&&(r=!0,o().handleScrollableElements()&&(i=[f.clientX,f.clientY]))},y=f=>{S(f.target,f.clientX,f.clientY)},v=f=>{f.touches[0]&&S(f.target,f.touches[0].clientX,f.touches[0].clientY)},S=(f,b,_)=>{if(!r)return;if(!o().isDragging()||s===null){const Y=window.getSelection();if(Y&&Y.toString().length>0){F();return}if(o().handleScrollableElements()){const H=[b,_].map((We,Xe)=>i[Xe]-We),ne=Math.abs(H[0])>Math.abs(H[1])?"x":"y",D=ne==="x"?H[0]:H[1];if(Math.abs(D)<.3)return;const L=g().contentRef(),[$,Ye]=tt(f,ne,L);if(D>0&&Math.abs($)>1||D<0&&Math.abs(Ye)>0){F();return}}switch(o().side()){case"top":case"bottom":s=_;break;case"right":case"left":s=b}c=new Date,u=o().translate(),A(()=>{o().setIsDragging(!0),o().setTransitionState(null)})}let E;switch(o().side()){case"top":E=-(s-_);break;case"bottom":E=s-_;break;case"right":E=s-b;break;case"left":E=-(s-b);break}E-=o().resolvedActiveSnapPoint().offset,E>0&&(E=o().dampFunction(E));const U=new Date;U.getTime()-c.getTime()>o().velocityCacheReset()&&(c=U,u=o().translate()),o().setTranslate(-E)},T=f=>{f.pointerType!=="touch"&&F()},K=f=>{f.touches.length===0&&F()},F=()=>{if(r=!1,!o().isDragging())return;const f=new Date,b=o().velocityFunction(-(u-o().translate()),f.getTime()-c.getTime()||1),_=o().translate()*b,E=Yt(P(),o().translate(),_,o().allowSkippingSnapPoints());A(()=>{o().setTransitionState("snapping"),o().setIsDragging(!1)}),A(()=>{o().setActiveSnapPoint(E.value),E.offset===o().drawerSize()?g().setOpen(!1):(o().setTranslate(E.offset),parseFloat(o().drawerStyles().transitionDuration)===0&&o().setTransitionState(null))})};return d(z.Content,p({get contextId(){return e.contextId},get style(){return ge({transform:O(),"transition-duration":o().isDragging()?"0ms":void 0,height:h(),width:k()},e.style)},onPointerDown:a,onTouchStart:f=>{f.touches.length===1&&(s=null)},onTransitionEnd:f=>{f.target===g().contentRef()&&A(()=>{o().transitionState()==="closing"&&o().closeDrawer(),o().transitionState()!=="resizing"&&o().setTransitionState(null)})},get"data-side"(){return o().side()},get"data-opening"(){return C(o().transitionState()==="opening")},get"data-closing"(){return C(o().transitionState()==="closing")},get"data-snapping"(){return C(o().transitionState()==="snapping")},get"data-transitioning"(){return C(o().isTransitioning())},get"data-resizing"(){return C(o().transitionState()==="resizing")},"data-corvu-drawer-content":"","data-corvu-dialog-content":null},t))},He=Qt,Jt=n=>d(z.Description,p({"data-corvu-drawer-description":"","data-corvu-dialog-description":null},n)),Ze=Jt,en=n=>d(z.Label,p({"data-corvu-drawer-label":"","data-corvu-dialog-label":null},n)),Be=en,tn=n=>{const[e,t]=w(n,["contextId"]),r=m(()=>Ne(e.contextId));return d(z.Overlay,p({get contextId(){return e.contextId},get"data-side"(){return r().side()},get"data-opening"(){return C(r().transitionState()==="opening")},get"data-closing"(){return C(r().transitionState()==="closing")},get"data-snapping"(){return C(r().transitionState()==="snapping")},get"data-transitioning"(){return C(r().isTransitioning())},get"data-resizing"(){return C(r().transitionState()==="resizing")},"data-corvu-drawer-overlay":"","data-corvu-dialog-overlay":null},t))},Ue=tn,nn=n=>{const e=p({initialOpen:!1,snapPoints:[0,1],breakPoints:[null],defaultSnapPoint:1,side:"bottom",dampFunction:D=>6*Math.log(D+1),velocityFunction:(D,L)=>{const $=D/L;return $<1&&$>-1?1:$},velocityCacheReset:200,allowSkippingSnapPoints:!0,handleScrollableElements:!0,transitionResize:!1,closeOnOutsidePointer:!0,allowPinchZoom:!1},n),[t,r]=w(e,["snapPoints","breakPoints","defaultSnapPoint","activeSnapPoint","onActiveSnapPointChange","side","dampFunction","velocityFunction","velocityCacheReset","allowSkippingSnapPoints","handleScrollableElements","transitionResize","open","initialOpen","onOpenChange","closeOnOutsidePointer","contextId","children"]),[s,i]=le({value:()=>t.open,initialValue:t.initialOpen,onChange:t.onOpenChange}),[c,u]=le({value:()=>t.activeSnapPoint,initialValue:0,onChange:t.onActiveSnapPointChange}),[o,g]=I(),{transitioning:P,transitionSize:O}=jt({element:()=>o()?.contentRef()??null,enabled:()=>s()&&t.transitionResize,dimension:()=>{switch(t.side){case"top":case"bottom":return"height";case"left":case"right":return"width"}}}),[h,k]=I(!1),[a,y]=he(()=>P()?"resizing":null),v=m(()=>{const D=o()?.contentRef();if(D)return getComputedStyle(D)}),[S,T]=I(!1);x(()=>{const D=s();M(()=>{S()!==D&&(D?(T(!0),j(()=>{A(()=>{y("opening"),u(t.defaultSnapPoint)}),parseFloat(v().transitionDuration)===0&&y(null)})):(A(()=>{y("closing"),u(0)}),j(()=>{parseFloat(v().transitionDuration)===0&&K()})))})});const K=()=>{A(()=>{T(!1),y(null)})},F=Qe({element:()=>o()?.contentRef()??null,dimension:()=>{switch(t.side){case"top":case"bottom":return"height";case"left":case"right":return"width"}}}),f=m(()=>$e(c(),F())),[b,_]=he(()=>f().offset),E=m(()=>F()?(F()-b())/F():0),U={get snapPoints(){return t.snapPoints},get breakPoints(){return t.breakPoints},get defaultSnapPoint(){return t.defaultSnapPoint},get activeSnapPoint(){return c()},setActiveSnapPoint:u,get side(){return t.side},get isDragging(){return h()},get isTransitioning(){return a()!==null},get transitionState(){return a()},get openPercentage(){return E()},get translate(){return b()},get velocityCacheReset(){return t.velocityCacheReset},get allowSkippingSnapPoints(){return t.allowSkippingSnapPoints},get handleScrollableElements(){return t.handleScrollableElements},get transitionResize(){return t.transitionResize}},Y=Te(()=>t.children),H=D=>{g(z.useContext(t.contextId));const L=Y()();if(fe(L)){const $=p(D,U);return L($)}return L};return m(()=>{const D=Xt(t.contextId),L=Gt(t.contextId);return M(()=>d(D.Provider,{value:{snapPoints:()=>t.snapPoints,breakPoints:()=>t.breakPoints,defaultSnapPoint:()=>t.defaultSnapPoint,activeSnapPoint:c,setActiveSnapPoint:u,side:()=>t.side,isDragging:h,isTransitioning:()=>a()!==null,transitionState:a,openPercentage:E,translate:b,velocityCacheReset:()=>t.velocityCacheReset,allowSkippingSnapPoints:()=>t.allowSkippingSnapPoints,handleScrollableElements:()=>t.handleScrollableElements,transitionResize:()=>t.transitionResize},get children(){return d(L.Provider,{get value(){return{snapPoints:()=>t.snapPoints,breakPoints:()=>t.breakPoints,defaultSnapPoint:()=>t.defaultSnapPoint,activeSnapPoint:c,setActiveSnapPoint:u,side:()=>t.side,isDragging:h,isTransitioning:()=>a()!==null,transitionState:a,openPercentage:E,translate:b,velocityCacheReset:()=>t.velocityCacheReset,allowSkippingSnapPoints:()=>t.allowSkippingSnapPoints,handleScrollableElements:()=>t.handleScrollableElements,transitionResize:()=>t.transitionResize,dampFunction:t.dampFunction,velocityFunction:t.velocityFunction,setIsDragging:k,setTranslate:_,drawerSize:F,resolvedActiveSnapPoint:f,drawerStyles:v,setTransitionState:y,transitionSize:O,closeDrawer:K}},get children(){return d(z,p({get open(){return S()},onOpenChange:i,get contextId(){return t.contextId},get closeOnOutsidePointer(){return xe(()=>!h())()&&t.closeOnOutsidePointer}},r,{children:$=>H($)}))}})}}))})},Ve=nn,rn=n=>d(z.Trigger,p({"data-corvu-drawer-trigger":"","data-corvu-dialog-trigger":null},n)),je=rn;Object.assign(Ve,{Trigger:je,Portal:ve,Overlay:Ue,Content:He,Label:Be,Description:Ze,Close:ke,useContext:Me,useDialogContext:_e});var on=Ce('<div class="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted">'),qe=Ce("<div>");function De(n){const[e,t]=w(n,[]);return d(Ve,p(t,{"bool:n$":!1}))}function sn(n){const[e,t]=w(n,[]);return d(je,p(t,{"bool:n$":!1}))}function an(n){const[e,t]=w(n,[]);return d(ve,p(t,{"bool:n$":!1}))}function ln(n){const[e,t]=w(n,[]);return d(ke,p(t,{"bool:n$":!1}))}function cn(n){const[e,t]=w(n,["class"]),r=Me();return d(Ue,p({get class(){return B(["fixed inset-0 z-50 data-[transitioning]:transition-colors data-[transitioning]:duration-300",e.class])}},t,{"bool:n$":!1,get style(){return{"background-color":`rgb(0 0 0 / ${.8*r.openPercentage()})`}}}))}function un(n){const[e,t]=w(n,["class","children"]);return d(an,{get children(){return[d(cn,{}),d(He,p({get class(){return B([`fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto\r
                flex-col rounded-t-[10px] border bg-background\r
                after:absolute after:inset-x-0 after:top-full\r
                after:h-1/2 after:bg-inherit data-[transitioning]:transition-transform\r
                data-[transitioning]:duration-300 md:select-none`,e.class])}},t,{"bool:n$":!1,get children(){return[on(),xe(()=>e.children)]}}))]}})}function dn(n){const[e,t]=w(n,["class"]);return(()=>{var r=qe();return Fe(r,p({get class(){return B(["grid gap-1.5 p-4 text-center sm:text-left",e.class])}},t),!1,!1),r})()}function gn(n){const[e,t]=w(n,["class"]);return(()=>{var r=qe();return Fe(r,p({get class(){return B(["t-auto flex flex-col gap-2 p-4",e.class])}},t),!1,!1),r})()}function fn(n){const[e,t]=w(n,["class"]);return d(Be,p({get class(){return B(["text-lg font-semibold leading-none tracking-tight",e.class])}},t,{"bool:n$":!1}))}function pn(n){const[e,t]=w(n,["class"]);return d(Ze,p({get class(){return B(["text-sm text-muted-foreground",e.class])}},t,{"bool:n$":!1}))}const{fn:mn}=__STORYBOOK_MODULE_TEST__,An={args:{onActiveSnapPointChange:mn()},argTypes:{snapPoints:{control:{type:"object"},table:{type:{summary:"Array of Number (Float64, Empty)"}}},breakPoints:{control:{type:"object"},table:{type:{summary:"Array of Number (Float64, Empty)"}}},defaultSnapPoint:{control:{type:"number"},table:{type:{summary:"float64"}}},activeSnapPoint:{control:{type:"number"},table:{type:{summary:"float64"}}},onActiveSnapPointChange:{control:{type:!1},table:{type:{summary:"function"}}},side:{control:{type:"text"},table:{type:{summary:"string"}}},dampFunction:{control:{type:!1},table:{type:{summary:"function"}}},velocityFunction:{control:{type:!1},table:{type:{summary:"function"}}},velocityCacheReset:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}},allowSkippingSnapPoints:{control:{type:"boolean"},table:{type:{summary:"bool"}}},handleScrollableElements:{control:{type:"boolean"},table:{type:{summary:"bool"}}},transitionResize:{control:{type:"boolean"},table:{type:{summary:"bool"}}}},render:n=>d(De,p(n,{"bool:n$":!1,get children(){return[d(sn,{children:"Click me"}),d(un,{get children(){return[d(dn,{get children(){return[d(fn,{children:"Are you absolutely sure?"}),d(pn,{children:"This action cannot be undone."})]}}),d(gn,{get children(){return[d(be,{children:"Submit"}),d(ln,{get children(){return d(be,{variant:"outline",children:"Cancel"})}})]}})]}})]}})),component:De},Q={args:{}};Q.parameters={...Q.parameters,docs:{...Q.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...Q.parameters?.docs?.source}}};const kn=["Default"];export{Q as Default,kn as __namedExportsOrder,An as default};
