import{c as y,m as I,s as R,d as F,e as Te,t as Pe,p as Se,h as Z,o as xe,g as ee,a as B,u as te}from"./iframe-rVoFtZu9.js";import{a as Ce,c as De}from"./SOM3K36D-CmiAbsf-.js";import{a as we,u as ye}from"./LR7LBJN3-Cn4krSpU.js";import{F as ne,c as ae}from"./NGHEENNE-CgvBP-lB.js";import{u as Fe,F as Me,c as Ee,a as Ie,b as Le,d as re,e as oe,f as se}from"./ZZYKR3VO-NDDEU6Nn.js";import{c as Be}from"./FN6EICGO-g7b9VqP4.js";import{P as k}from"./FLVHQV4A-Gi-kDcar.js";import{_ as Re}from"./5WXHJDCZ-DghNgBBa.js";import{m as K,c as ke,a as C,y as A,z as ie,v as ze}from"./index-kLgwDL5l.js";import{m as q}from"./index-TjBUJP2H.js";import{a as Q}from"./index-Riw0p3ms.js";import{c as H}from"./combineProps-CsPhi8Vl.js";function $(a,t,e){const m=[...a];return m[e]=t,m.sort((r,u)=>r-u)}function _e(a,t){if(a.length===1)return 0;const e=a.map(u=>Math.abs(u-t)),m=Math.min(...e),r=e.indexOf(m);return t<a[r]?r:e.lastIndexOf(m)}function Oe(a){return a.slice(0,-1).map((t,e)=>a[e+1]-t)}function N(a,t){if(t>0){const e=Oe(a);return Math.min(...e)>=t}return!0}function Ke(a,t){return e=>{if(a[0]===a[1]||t[0]===t[1])return t[0];const m=(t[1]-t[0])/(a[1]-a[0]);return t[0]+m*(e-a[0])}}function E(a){a.preventDefault(),a.stopPropagation()}var Ue=Pe("<input type=range>"),Xe={};Re(Xe,{Description:()=>se,ErrorMessage:()=>oe,Fill:()=>ue,Input:()=>de,Label:()=>re,Root:()=>ge,Slider:()=>$e,Thumb:()=>ce,Track:()=>be,ValueLabel:()=>fe,useSliderContext:()=>L});var le=ee();function L(){const a=te(le);if(a===void 0)throw new Error("[kobalte]: `useSliderContext` must be used within a `Slider.Root` component");return a}function ue(a){const t=L(),[e,m]=R(a,["style"]),r=()=>t.state.values().map(d=>t.state.getValuePercent(d)*100),u=()=>t.state.values().length>1?Math.min(...r()):0,p=()=>100-Math.max(...r());return y(k,I({as:"div",get style(){return H({[t.startEdge()]:`${u()}%`,[t.endEdge()]:`${p()}%`},e.style)}},()=>t.dataset(),m))}function ce(a){let t;const e=L(),m=K({id:e.generateId(`thumb-${Z()}`)},a),[r,u,p]=R(m,["ref","style","onKeyDown","onPointerDown","onPointerMove","onPointerUp","onFocus","onBlur"],ne),{fieldProps:d}=ae(u);Ce({getItem:()=>({ref:()=>t,disabled:e.state.isDisabled(),key:d.id(),textValue:"",type:"item"})});const b=()=>t?e.thumbs().findIndex(s=>s.ref()===t):-1,S=()=>e.state.getThumbValue(b()),o=()=>e.state.getThumbPercent(b()),l=()=>e.state.orientation()==="vertical"?e.inverted()?"translateY(-50%)":"translateY(50%)":e.inverted()?"translateX(50%)":"translateX(-50%)";let c=0;const V=s=>{C(s,r.onKeyDown),e.onStepKeyDown(s,b())},h=s=>{C(s,r.onPointerDown);const v=s.currentTarget;s.preventDefault(),s.stopPropagation(),v.setPointerCapture(s.pointerId),v.focus(),c=e.state.orientation()==="horizontal"?s.clientX:s.clientY,S()!==void 0&&e.onSlideStart?.(b(),S())},x=s=>{if(s.stopPropagation(),C(s,r.onPointerMove),s.currentTarget.hasPointerCapture(s.pointerId)){const T={deltaX:s.clientX-c,deltaY:s.clientY-c};e.onSlideMove?.(T),c=e.state.orientation()==="horizontal"?s.clientX:s.clientY}},D=s=>{s.stopPropagation(),C(s,r.onPointerUp);const v=s.currentTarget;v.hasPointerCapture(s.pointerId)&&(v.releasePointerCapture(s.pointerId),e.onSlideEnd?.())},P=s=>{C(s,r.onFocus),e.state.setFocusedThumb(b())},M=s=>{C(s,r.onBlur),e.state.setFocusedThumb(void 0)};return xe(()=>{e.state.setThumbEditable(b(),!e.state.isDisabled())}),y(me.Provider,{value:{index:b},get children(){return y(k,I({as:"span",ref(s){var v=q(T=>t=T,r.ref);typeof v=="function"&&v(s)},role:"slider",get id(){return d.id()},get tabIndex(){return e.state.isDisabled()?void 0:0},get style(){return H({display:S()===void 0?"none":void 0,position:"absolute",[e.startEdge()]:`calc(${o()*100}%)`,transform:l(),"touch-action":"none"},r.style)},get"aria-valuetext"(){return e.state.getThumbValueLabel(b())},get"aria-valuemin"(){return e.minValue()},get"aria-valuenow"(){return S()},get"aria-valuemax"(){return e.maxValue()},get"aria-orientation"(){return e.state.orientation()},get"aria-label"(){return d.ariaLabel()},get"aria-labelledby"(){return d.ariaLabelledBy()},get"aria-describedby"(){return d.ariaDescribedBy()},onKeyDown:V,onPointerDown:h,onPointerMove:x,onPointerUp:D,onFocus:P,onBlur:M},()=>e.dataset(),p))}})}var me=ee();function Ye(){const a=te(me);if(a===void 0)throw new Error("[kobalte]: `useThumbContext` must be used within a `Slider.Thumb` component");return a}function de(a){const t=Fe(),e=L(),m=Ye(),r=K({id:e.generateId("input")},a),[u,p,d]=R(r,["style","onChange"],ne),{fieldProps:b}=ae(p),[S,o]=F(""),l=c=>{C(c,u.onChange);const V=c.target;e.state.setThumbValue(m.index(),Number.parseFloat(V.value)),V.value=String(e.state.values()[m.index()])??""};return Te(()=>{o(m.index()===-1?"":e.state.getThumbValueLabel(m.index()))}),(()=>{var c=Ue();return c.addEventListener("change",l),Se(c,I({get id(){return b.id()},get name(){return t.name()},get tabIndex(){return e.state.isDisabled()?void 0:-1},get min(){return e.state.getThumbMinValue(m.index())},get max(){return e.state.getThumbMaxValue(m.index())},get step(){return e.state.step()},get value(){return e.state.values()[m.index()]},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return H({...ze},u.style)},get"aria-orientation"(){return e.state.orientation()},get"aria-valuetext"(){return S()},get"aria-label"(){return b.ariaLabel()},get"aria-labelledby"(){return b.ariaLabelledBy()},get"aria-describedby"(){return b.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0}},()=>e.dataset(),d),!1,!1),c})()}function Ae(a){let t=!1;const e=K({minValue:()=>0,maxValue:()=>100,step:()=>1,minStepsBetweenThumbs:()=>0,orientation:()=>"horizontal",isDisabled:()=>!1},a),m=B(()=>{let n=(e.maxValue()-e.minValue())/10;return n=A(n,0,n+e.step(),e.step()),Math.max(n,e.step())}),r=B(()=>e.defaultValue()??[e.minValue()]),[u,p]=Be({value:()=>e.value(),defaultValue:r,onChange:n=>e.onChange?.(n)}),[d,b]=F(new Array(u().length).fill(!1)),[S,o]=F(new Array(u().length).fill(!1)),[l,c]=F(void 0),V=()=>{p(r())},h=n=>(n-e.minValue())/(e.maxValue()-e.minValue()),x=n=>n===0?a.minValue():u()[n-1]+a.minStepsBetweenThumbs()*a.step(),D=n=>n===u().length-1?a.maxValue():u()[n+1]-a.minStepsBetweenThumbs()*a.step(),P=n=>S()[n],M=n=>{o(f=>(f[n]=!0,f))},s=(n,f)=>{if(e.isDisabled()||!P(n))return;const w=A(f,x(n),D(n),e.step()),i=$(u(),w,n);N(i,e.minStepsBetweenThumbs()*e.step())&&p(g=>[...W(g,n,w)])},v=(n,f)=>{if(e.isDisabled()||!P(n))return;const w=d()[n];b(i=>[...W(i,n,f)]),w&&!d().some(Boolean)&&e.onChangeEnd?.(u())},T=n=>e.numberFormatter.format(n),U=(n,f)=>{s(n,z(f))},X=n=>Math.round((n-e.minValue())/e.step())*e.step()+e.minValue(),z=n=>{const f=n*(e.maxValue()-e.minValue())+e.minValue();return ie(X(f),e.minValue(),e.maxValue())},_=(n,f)=>{const w=u()[n]+f,i=$(u(),w,n);N(i,e.minStepsBetweenThumbs()*e.step())&&s(n,A(w,e.minValue(),e.maxValue(),e.step()))};return{values:u,getThumbValue:n=>u()[n],setThumbValue:s,setThumbPercent:U,isThumbDragging:n=>d()[n],setThumbDragging:v,focusedThumb:l,setFocusedThumb:n=>{n===void 0&&t&&(t=!1,e.onChangeEnd?.(u())),c(n)},getThumbPercent:n=>h(u()[n]),getValuePercent:h,getThumbValueLabel:n=>T(u()[n]),getFormattedValue:T,getThumbMinValue:x,getThumbMaxValue:D,getPercentValue:z,isThumbEditable:P,setThumbEditable:M,incrementThumb:(n,f=1)=>{t=!0,_(n,Math.max(f,a.step()))},decrementThumb:(n,f=1)=>{t=!0,_(n,-Math.max(f,a.step()))},step:e.step,pageSize:m,orientation:e.orientation,isDisabled:e.isDisabled,setValues:p,resetValues:V}}function W(a,t,e){return a[t]===e?a:[...a.slice(0,t),e,...a.slice(t+1)]}function ge(a){let t;const e=`slider-${Z()}`,m=K({id:e,minValue:0,maxValue:100,step:1,minStepsBetweenThumbs:0,orientation:"horizontal",disabled:!1,inverted:!1,getValueLabel:i=>i.values.join(", ")},a),[r,u,p]=R(m,["ref","value","defaultValue","onChange","onChangeEnd","inverted","minValue","maxValue","step","minStepsBetweenThumbs","getValueLabel","orientation"],Me),{formControlContext:d}=Ee(u),b=we(()=>({style:"decimal"})),{direction:S}=ye(),o=Ae({value:()=>r.value,defaultValue:()=>r.defaultValue??[r.minValue],maxValue:()=>r.maxValue,minValue:()=>r.minValue,minStepsBetweenThumbs:()=>r.minStepsBetweenThumbs,isDisabled:()=>d.isDisabled()??!1,orientation:()=>r.orientation,step:()=>r.step,numberFormatter:b(),onChange:r.onChange,onChangeEnd:r.onChangeEnd}),[l,c]=F([]),{DomCollectionProvider:V}=De({items:l,onItemsChange:c});Ie(()=>t,()=>o.resetValues());const h=()=>S()==="ltr",x=()=>h()&&!r.inverted||!h()&&r.inverted,D=()=>!r.inverted,P=()=>o.orientation()==="vertical",M=B(()=>({...d.dataset(),"data-orientation":r.orientation})),[s,v]=F();let T=null;const U=(i,g)=>{o.setFocusedThumb(i),o.setThumbDragging(i,!0),o.setThumbValue(i,g),T=null},X=({deltaX:i,deltaY:g})=>{const O=o.focusedThumb();if(O===void 0)return;const{width:he,height:pe}=s().getBoundingClientRect(),J=P()?pe:he;T===null&&(T=o.getThumbPercent(o.focusedThumb())*J);let Y=P()?g:i;(!P()&&r.inverted||P()&&D())&&(Y=-Y),T+=Y;const Ve=ie(T/J,0,1),ve=$(o.values(),T,O);N(ve,r.minStepsBetweenThumbs*o.step())&&(o.setThumbPercent(o.focusedThumb(),Ve),r.onChange?.(o.values()))},z=()=>{const i=o.focusedThumb();i!==void 0&&(o.setThumbDragging(i,!1),l()[i].ref().focus())},_=i=>{const g=o.focusedThumb();!d.isDisabled()&&g!==void 0&&(E(i),o.setThumbValue(g,o.getThumbMinValue(g)))},j=i=>{const g=o.focusedThumb();!d.isDisabled()&&g!==void 0&&(E(i),o.setThumbValue(g,o.getThumbMaxValue(g)))},G=(i,g)=>{if(!d.isDisabled())switch(i.key){case"Left":case"ArrowLeft":case"Down":case"ArrowDown":E(i),h()?o.decrementThumb(g,i.shiftKey?o.pageSize():o.step()):o.incrementThumb(g,i.shiftKey?o.pageSize():o.step());break;case"Right":case"ArrowRight":case"Up":case"ArrowUp":E(i),h()?o.incrementThumb(g,i.shiftKey?o.pageSize():o.step()):o.decrementThumb(g,i.shiftKey?o.pageSize():o.step());break;case"Home":_(i);break;case"End":j(i);break;case"PageUp":E(i),o.incrementThumb(g,o.pageSize());break;case"PageDown":E(i),o.decrementThumb(g,o.pageSize());break}},n=B(()=>P()?D()?"bottom":"top":x()?"left":"right"),f=B(()=>P()?D()?"top":"bottom":x()?"right":"left"),w={dataset:M,state:o,thumbs:l,setThumbs:c,onSlideStart:U,onSlideMove:X,onSlideEnd:z,onStepKeyDown:G,isSlidingFromLeft:x,isSlidingFromBottom:D,trackRef:s,minValue:()=>r.minValue,maxValue:()=>r.maxValue,inverted:()=>r.inverted,startEdge:n,endEdge:f,registerTrack:i=>v(i),generateId:ke(()=>Q(u.id)),getValueLabel:r.getValueLabel};return y(V,{get children(){return y(Le.Provider,{value:d,get children(){return y(le.Provider,{value:w,get children(){return y(k,I({as:"div",ref(i){var g=q(O=>t=O,r.ref);typeof g=="function"&&g(i)},role:"group",get id(){return Q(u.id)}},M,p))}})}})}})}function be(a){const t=L(),[e,m]=R(a,["onPointerDown","onPointerMove","onPointerUp"]),[r,u]=F();function p(l){const c=r()||t.trackRef().getBoundingClientRect(),V=[0,t.state.orientation()==="vertical"?c.height:c.width];let h=t.isSlidingFromLeft()?[t.minValue(),t.maxValue()]:[t.maxValue(),t.minValue()];t.state.orientation()==="vertical"&&(h=t.isSlidingFromBottom()?[t.maxValue(),t.minValue()]:[t.minValue(),t.maxValue()]);const x=Ke(V,h);return u(c),x(l-(t.state.orientation()==="vertical"?c.top:c.left))}let d=0;return y(k,I({as:"div",ref(l){var c=q(t.registerTrack,a.ref);typeof c=="function"&&c(l)},onPointerDown:l=>{C(l,e.onPointerDown),l.target.setPointerCapture(l.pointerId),l.preventDefault();const V=p(t.state.orientation()==="horizontal"?l.clientX:l.clientY);d=t.state.orientation()==="horizontal"?l.clientX:l.clientY;const h=_e(t.state.values(),V);t.onSlideStart?.(h,V)},onPointerMove:l=>{C(l,e.onPointerMove),l.target.hasPointerCapture(l.pointerId)&&(t.onSlideMove?.({deltaX:l.clientX-d,deltaY:l.clientY-d}),d=t.state.orientation()==="horizontal"?l.clientX:l.clientY)},onPointerUp:l=>{C(l,e.onPointerUp);const c=l.target;c.hasPointerCapture(l.pointerId)&&(c.releasePointerCapture(l.pointerId),u(void 0),t.onSlideEnd?.())}},()=>t.dataset(),m))}function fe(a){const t=L();return y(k,I({as:"div"},()=>t.dataset(),a,{get children(){return t.getValueLabel?.({values:t.state.values(),max:t.maxValue(),min:t.minValue()})}}))}var $e=Object.assign(ge,{Description:se,ErrorMessage:oe,Fill:ue,Input:de,Label:re,Thumb:ce,Track:be,ValueLabel:fe});export{fe as S,be as a,de as b,ce as c,ue as d,ge as e,Ke as l,L as u};
