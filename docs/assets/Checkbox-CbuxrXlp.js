import{s as x,a as v,b as N,c as a,g as z,m as u,h as H,p as W,d as A,u as j,S as G,e as O,f as L}from"./iframe-BHVPMPJn.js";import{c as U}from"./VI7QYH27-BunYCgaO.js";import{F as Z,c as J}from"./NGHEENNE-YKRVzZ2g.js";import{F as Q,c as V,a as X,b as Y,u as P,f as ee,e as te,d as re}from"./ZZYKR3VO-D0rzgNsV.js";import{P as y}from"./FLVHQV4A-C_-euiFy.js";import{_ as oe}from"./5WXHJDCZ-DghNgBBa.js";import{m as I,c as ne,a as C,v as ae,x as se,E as ce}from"./index-DeTOQkeb.js";import{s as ie}from"./index-CdhZt3CN.js";import{a as M}from"./index-DzweoC3U.js";import{m as F}from"./index-BWY3wABR.js";import{c as de}from"./combineProps-C_bsadWN.js";import{m as le}from"./minus-Bd0N6Tjj.js";import{c as ue}from"./check-K22Y-rl-.js";import{L as fe}from"./Utils-CAhjhIiz.js";var me={};oe(me,{Checkbox:()=>ge,Control:()=>_,Description:()=>$,ErrorMessage:()=>q,Indicator:()=>D,Input:()=>S,Label:()=>B,Root:()=>w,useCheckboxContext:()=>g});var T=z();function g(){const r=j(T);if(r===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return r}function _(r){const t=P(),e=g(),o=I({id:e.generateId("control")},r),[n,c]=x(o,["onClick","onKeyDown"]);return a(y,u({as:"div",onClick:i=>{C(i,n.onClick),e.toggle(),e.inputRef()?.focus()},onKeyDown:i=>{C(i,n.onKeyDown),i.key===ce.Space&&(e.toggle(),e.inputRef()?.focus())}},()=>t.dataset(),()=>e.dataset(),c))}function $(r){const t=g();return a(ee,u(()=>t.dataset(),r))}function q(r){const t=g();return a(te,u(()=>t.dataset(),r))}function D(r){const t=P(),e=g(),[o,n]=v(),c=I({id:e.generateId("indicator")},r),[f,p]=x(c,["ref","forceMount"]),{present:i}=ie({show:()=>f.forceMount||e.indeterminate()||e.checked(),element:()=>o()??null});return a(G,{get when(){return i()},get children(){return a(y,u({as:"div",ref(k){var m=F(n,f.ref);typeof m=="function"&&m(k)}},()=>t.dataset(),()=>e.dataset(),p))}})}function S(r){let t;const e=P(),o=g(),n=I({id:o.generateId("input")},r),[c,f,p]=x(n,["ref","style","onChange","onFocus","onBlur"],Z),{fieldProps:i}=J(f),[k,m]=v(!1),b=s=>{if(C(s,c.onChange),s.stopPropagation(),!k()){const l=s.target;o.setIsChecked(l.checked),l.checked=o.checked()}m(!1)},h=s=>{C(s,c.onFocus),o.setIsFocused(!0)},R=s=>{C(s,c.onBlur),o.setIsFocused(!1)};return O(L([()=>o.checked(),()=>o.value()],()=>{m(!0),t?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),O(L([()=>t,()=>o.indeterminate(),()=>o.checked()],([s,l])=>{s&&(s.indeterminate=l)})),a(y,u({as:"input",ref(s){var l=F(d=>{o.setInputRef(d),t=d},c.ref);typeof l=="function"&&l(s)},type:"checkbox",get id(){return i.id()},get name(){return e.name()},get value(){return o.value()},get checked(){return o.checked()},get required(){return e.isRequired()},get disabled(){return e.isDisabled()},get readonly(){return e.isReadOnly()},get style(){return de(ae,c.style)},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return e.validationState()==="invalid"||void 0},get"aria-required"(){return e.isRequired()},get"aria-disabled"(){return e.isDisabled()},get"aria-readonly"(){return e.isReadOnly()},onChange:b,onFocus:h,onBlur:R},()=>e.dataset(),()=>o.dataset(),p))}function B(r){const t=g();return a(re,u(()=>t.dataset(),r))}function w(r){let t;const e=`checkbox-${H()}`,o=I({value:"on",id:e},r),[n,c,f]=x(o,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],Q),[p,i]=v(),[k,m]=v(!1),{formControlContext:b}=V(c),h=U({isSelected:()=>n.checked,defaultIsSelected:()=>n.defaultChecked,onSelectedChange:d=>n.onChange?.(d),isDisabled:()=>b.isDisabled(),isReadOnly:()=>b.isReadOnly()});X(()=>t,()=>h.setIsSelected(n.defaultChecked??!1));const R=d=>{C(d,n.onPointerDown),k()&&d.preventDefault()},s=N(()=>({"data-checked":h.isSelected()?"":void 0,"data-indeterminate":n.indeterminate?"":void 0})),l={value:()=>n.value,dataset:s,checked:()=>h.isSelected(),indeterminate:()=>n.indeterminate??!1,inputRef:p,generateId:ne(()=>M(c.id)),toggle:()=>h.toggle(),setIsChecked:d=>h.setIsSelected(d),setIsFocused:m,setInputRef:i};return a(Y.Provider,{value:b,get children(){return a(T.Provider,{value:l,get children(){return a(y,u({as:"div",ref(d){var E=F(K=>t=K,n.ref);typeof E=="function"&&E(d)},role:"group",get id(){return M(c.id)},onPointerDown:R},()=>b.dataset(),s,f,{get children(){return a(he,{state:l,get children(){return n.children}})}}))}})}})}function he(r){const t=W(()=>{const e=r.children;return se(e)?e(r.state):e});return A(t)}var ge=Object.assign(w,{Control:_,Description:$,ErrorMessage:q,Indicator:D,Input:S,Label:B});function we(r){const[t,e]=x(r,["indeterminate","class"]);return a(w,u({get indeterminate(){return t.indeterminate},class:"items-top group relative flex space-x-2 peer","data-slot":"checkbox"},e,{"bool:n$":!1,children:o=>[a(S,{class:"peer"}),a(_,{get class(){return fe(["size-4 shrink-0 rounded-[4px] border border-input dark:bg-input/30 transition-shadow shadow-xs outline-none data-[checked]:border-primary data-[invalid]:border-destructive data-[invalid]:ring-destructive/20 dark:data-[invalid]:ring-destructive/40 data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50 peer-focus-visible:focus-ring-offset data-[checked]:border-none data-[checked]:bg-primary data-[checked]:text-primary-foreground data-[indeterminate]:border-none data-[indeterminate]:bg-primary data-[indeterminate]:text-primary-foreground",t.class])},"data-slot":"checkbox-control",get children(){return a(D,{"data-slot":"checkbox-indicator",get children(){return A(()=>!!t.indeterminate)()?a(le,{class:"size-4",strokeWidth:2}):a(ue,{class:"size-4",strokeWidth:2})}})}})]}))}export{we as C};
