import{s as g,c,m as C,d as S,a as p,o as _,e as f,f as x,S as D,b as $,g as A,u as B,h as N,j as v}from"./iframe-BLvaHOrW.js";import{c as T}from"./E53DB7BS-DgMsdUV6.js";import{B as j}from"./UKTBL2JL-mrSn-dg4.js";import{c as q}from"./JNCCF6MP-4sxnBYeu.js";import{P as y}from"./FLVHQV4A-ByRBKILc.js";import{_ as E}from"./5WXHJDCZ-DghNgBBa.js";import{m as I,c as F,a as H}from"./index-TpYiyspx.js";import{s as G}from"./index-D5LuZuuz.js";import{c as U}from"./combineProps-TuyxsfEg.js";import{m as W}from"./index-BbcR3rHk.js";var z={};E(z,{Collapsible:()=>J,Content:()=>P,Root:()=>R,Trigger:()=>k,useCollapsibleContext:()=>b});var w=A();function b(){const n=B(w);if(n===void 0)throw new Error("[kobalte]: `useCollapsibleContext` must be used within a `Collapsible.Root` component");return n}function P(n){const[e,r]=p(),t=b(),i=I({id:t.generateId("content")},n),[s,u]=g(i,["ref","id","style"]),{present:o}=G({show:t.shouldMount,element:()=>e()??null}),[l,m]=p(0),[d,M]=p(0);let h=t.isOpen()||o();return _(()=>{const a=requestAnimationFrame(()=>{h=!1});v(()=>{cancelAnimationFrame(a)})}),f(x(o,()=>{if(!e())return;e().style.transitionDuration="0s",e().style.animationName="none";const a=e().getBoundingClientRect();m(a.height),M(a.width),h||(e().style.transitionDuration="",e().style.animationName="")})),f(x(t.isOpen,a=>{!a&&e()&&(e().style.transitionDuration="",e().style.animationName="")},{defer:!0})),f(()=>v(t.registerContentId(s.id))),c(D,{get when(){return o()},get children(){return c(y,C({as:"div",ref(a){var O=W(r,s.ref);typeof O=="function"&&O(a)},get id(){return s.id},get style(){return U({"--kb-collapsible-content-height":l()?`${l()}px`:void 0,"--kb-collapsible-content-width":d()?`${d()}px`:void 0},s.style)}},()=>t.dataset(),u))}})}function R(n){const e=`collapsible-${N()}`,r=I({id:e},n),[t,i]=g(r,["open","defaultOpen","onOpenChange","disabled","forceMount"]),[s,u]=p(),o=T({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:d=>t.onOpenChange?.(d)}),l=$(()=>({"data-expanded":o.isOpen()?"":void 0,"data-closed":o.isOpen()?void 0:"","data-disabled":t.disabled?"":void 0})),m={dataset:l,isOpen:o.isOpen,disabled:()=>t.disabled??!1,shouldMount:()=>t.forceMount||o.isOpen(),contentId:s,toggle:o.toggle,generateId:F(()=>i.id),registerContentId:q(u)};return c(w.Provider,{value:m,get children(){return c(y,C({as:"div"},l,i))}})}function k(n){const e=b(),[r,t]=g(n,["onClick"]);return c(j,C({get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return S(()=>!!e.isOpen())()?e.contentId():void 0},get disabled(){return e.disabled()},onClick:s=>{H(s,r.onClick),e.toggle()}},()=>e.dataset(),t))}var J=Object.assign(R,{Content:P,Trigger:k});export{k as C,P as a,R as b,b as u};
