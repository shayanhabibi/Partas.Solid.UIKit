import{a as O,j as R,m as L,s as F,e as P,t as X,n as B,q as V,r as q,c as H}from"./iframe-CSkHCzVC.js";import{d as S,r as D}from"./Util-CLBO94nE.js";import{h as _}from"./Array-ClWTAlF8.js";import{L as j}from"./Utils-Bukfxs-o.js";import{m as k}from"./common-BGlP7dfX.js";import"./preload-helper-PPVm8Dsz.js";import"./Option-C1D3-SyF.js";import"./index-BqxmMzY1.js";import"./eventListener-C81Bj2cO.js";function E(a,i){return a<i?a:i}function K(a){const[i,m]=O(!1);let n=0;const u=x=>{n=requestAnimationFrame(u),a(x)},f=()=>{i()||(m(!0),n=requestAnimationFrame(u))},l=()=>{m(!1),cancelAnimationFrame(n)};return R(l),[i,f,l]}function U(a,i){const m=(()=>{const l=Math.floor(1e3/i);return()=>l})();let n=0,u=0,f=0;return l=>{n=l-u,Math.ceil(n+f)>=m()&&(u=l,f=Math.max(n-m(),0),a(l))}}var W=X("<div><canvas class=size-full>");function Z(){const a=O({x:0,y:0});return P(()=>{let i;i=k(window,m=>{a[1]({x:m.x,y:m.y})},{}),R(()=>{i()})}),a[0]}function I(a){a=L({quantity:100,staticity:50,ease:50,size:.4,refresh:!1,vx:0,vy:0},a);const[i,m]=F(a,["size","quantity","refresh","class"]);let n=S(),u=S(),f=S(),l=[];const x=Z();let b={x:0,y:0},r={h:0,w:0};const h=typeof window>"u"?1:window.devicePixelRatio;let v;const M=()=>{f&&f.clearRect(0,0,r.w,r.h)},T=()=>{let s;const e=o=>Math.floor(o),t=()=>Math.random();return{x:e(t()*r.w),y:e(t()*r.h),translateX:0,translateY:0,size:(s=i.size,e(t()*2)+s),alpha:0,targetAlpha:D(.1+t()*.6,1),dx:.1*(t()-.5),dy:.1*(t()-.5),magnetism:.1+4*t()}},z=(s,e)=>{let t;if(f){let o,y,p,d,g;const w=f;w.translate(e.translateX,e.translateY),g=w,g.beginPath(),d=g,d.arc(e.x,e.y,e.size,0,2*Math.PI),p=d,p.fillStyle=`${t=u.style.getPropertyValue("--particle-color"),t.slice(0,t.length-3+1)}${e.alpha})`,y=p,y.fill(),o=y,o.setTransform(h,0,0,h,0,0),s||l.push(e)}},C=()=>{if(u&&n&&f){r.w=u.offsetWidth,r.h=u.offsetHeight,n.width=r.w*h,n.height=r.h*h,n.style.width=`${r.w}px`,n.style.height=`${r.h}px`,f.scale(h,h),l=[];for(let e=0;e<=a.quantity;e++)z(!1,T())}M();const s=i.quantity;for(let e=0;e<=s;e++)z(!1,T())},c=K(U(s=>{M(),_((e,t)=>{let o,y,p,d,g;const w=D((o=[(y=[t.x+t.translateX-t.size,r.w-t.x-t.translateX-t.size,t.y+t.translateY-t.size,r.h-t.y-t.translateY-t.size],y.reduce(E)),0,20,0,1],p=o[1],d=o[3],g=(o[0]-p)*(o[4]-d)/(o[2]-p)+d,Math.abs(g)),2);w>1?t.alpha=E(t.alpha+.02,t.targetAlpha):t.alpha=t.targetAlpha*w,t.x=t.dx+a.vx+t.x,t.y=t.y+t.dy+a.vy,t.translateX=t.translateX+(b.x/(a.staticity/t.magnetism)-t.translateX)/a.ease,t.translateY=t.translateY+(b.y/(a.staticity/t.magnetism)-t.translateY)/a.ease,z(!0,t),(t.x<-t.size||t.x>r.w+t.size||t.y<-t.size||t.y>r.h+t.size)&&(l.splice(e,1),z(!1,T()))},l)},120)),$=c[2];return c[0]()||c[1](),P(()=>{let s;return n&&(f=n.getContext("2d")),s=void 0,()=>{s(),C();const e=()=>{v&&clearTimeout(v),v=setTimeout(()=>{C()},200)|0};window.addEventListener("resize",t=>{e()}),R(()=>{$();let t;return v&&clearTimeout(v),t=void 0,()=>{t(),window.removeEventListener("resize",o=>{e()})}})}}),P(()=>{i.refresh&&C()}),P(()=>{if(x(),n){const s=n.getBoundingClientRect(),e=r.w,t=r.h,o=x().x-s.left-r.w/2,y=x().y-s.top-r.h/2;o<e/2&&o>-e/2&&y<t/2&&y>-t/2&&(b.x=o,b.y=y)}}),R(()=>{$()}),(()=>{var s=W(),e=s.firstChild,t=u;typeof t=="function"?q(t,s):u=s,B(s,"ariahidden",!0),V(s,L({get class(){return j(["pointer-events-none",i.class])}},m),!1,!0);var o=n;return typeof o=="function"?q(o,e):n=e,s})()}const{fn:G}=__STORYBOOK_MODULE_TEST__,rt={args:{onDrawCircle:G()},argTypes:{quantity:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}},staticity:{control:{type:"number"},table:{type:{summary:"float64"}}},ease:{control:{type:"number"},table:{type:{summary:"float64"}}},size:{control:{type:"number"},table:{type:{summary:"float64"}}},refresh:{control:{type:"boolean"},table:{type:{summary:"bool"}}},vx:{control:{type:"number"},table:{type:{summary:"float64"}}},vy:{control:{type:"number"},table:{type:{summary:"float64"}}},onDrawCircle:{control:{type:!1},table:{type:{summary:"function"}}}},render:a=>H(I,L(a,{"bool:n$":!1})),component:I},A={args:{}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...A.parameters?.docs?.source}}};const it=["Default"];export{A as Default,it as __namedExportsOrder,rt as default};
