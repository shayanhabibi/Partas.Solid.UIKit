import{d as g,e as u,f as x,c as o,m as l,S as C,b as w,s as c,g as P,u as R,j as L}from"./iframe-Clet01EE.js";import{P as d}from"./FLVHQV4A-BgLTf8G_.js";import{_}from"./5WXHJDCZ-DghNgBBa.js";import{L as m}from"./Utils-cFOJcEDI.js";var k={};_(k,{Fallback:()=>S,Image:()=>y,Img:()=>b,Root:()=>A,useImageContext:()=>f});var h=P();function f(){const e=R(h);if(e===void 0)throw new Error("[kobalte]: `useImageContext` must be used within an `Image.Root` component");return e}function S(e){const a=f(),[t,s]=g(a.fallbackDelay()===void 0);return u(()=>{const n=a.fallbackDelay();if(n!==void 0){const i=window.setTimeout(()=>s(!0),n);L(()=>window.clearTimeout(i))}}),o(C,{get when(){return w(()=>!!t())()&&a.imageLoadingStatus()!=="loaded"},get children(){return o(d,l({as:"span"},e))}})}function b(e){const a=f(),[t,s]=g("idle");return u(x(()=>e.src,n=>{if(!n){s("error");return}let i=!0;const r=new window.Image,I=v=>()=>{i&&s(v)};s("loading"),e.crossOrigin!==void 0&&(r.crossOrigin=e.crossOrigin),e.referrerPolicy!==void 0&&(r.referrerPolicy=e.referrerPolicy),r.onload=I("loaded"),r.onerror=I("error"),r.src=n,L(()=>{i=!1})})),u(()=>{const n=t();n!=="idle"&&a.onImageLoadingStatusChange(n)}),o(C,{get when(){return t()==="loaded"},get children(){return o(d,l({as:"img"},e))}})}function A(e){const[a,t]=c(e,["fallbackDelay","onLoadingStatusChange"]),[s,n]=g("idle"),i={fallbackDelay:()=>a.fallbackDelay,imageLoadingStatus:s,onImageLoadingStatusChange:r=>{n(r),a.onLoadingStatusChange?.(r)}};return o(h.Provider,{value:i,get children(){return o(d,l({as:"span"},t))}})}var y=Object.assign(A,{Fallback:S,Img:b});function E(e){const[a,t]=c(e,["class"]);return o(A,l({get class(){return m(["relative flex size-10 shrink-0 overflow-hidden rounded-full",a.class])}},t,{"bool:n$":!1}))}function F(e){const[a,t]=c(e,["class"]);return o(b,l({get class(){return m(["aspect-square size-full",a.class])}},t,{"bool:n$":!1}))}function j(e){const[a,t]=c(e,["class"]);return o(S,l({get class(){return m(["flex size-full items-center justify-center bg-muted",a.class])}},t,{"bool:n$":!1}))}export{E as A,F as a,j as b};
