import{s as I,d as R,e as N,f as U,c as n,m as d,S as G,a as Y,g as Z,u as J,h as Q,y as X,b as q,t as ee,i as C}from"./iframe-CYoISbNW.js";import{c as te}from"./VI7QYH27-o4jp_KKx.js";import{F as re,c as oe}from"./NGHEENNE-pUbobkHr.js";import{u as P,F as ne,c as ae,a as se,b as ce,f as ie,e as le,d as de}from"./ZZYKR3VO-CLjAHQeX.js";import{P as D}from"./FLVHQV4A-DrEHBAB-.js";import{_ as ue}from"./5WXHJDCZ-DghNgBBa.js";import{m as E,v as he,c as me,a as k,E as pe,x as fe}from"./index-CNJVeY88.js";import{s as be}from"./index-bM4TQhDa.js";import{m as w}from"./index-aQTIg_kX.js";import{a as W}from"./index-_wS-z7e_.js";import{c as ge}from"./combineProps-C6tzB3Qj.js";import{I as ke}from"./Icon-DTwW8kzS.js";import{c as Ce}from"./check-yC_GvZJC.js";import{L as xe}from"./Utils-zL6guu6T.js";import{L as F}from"./Label-CNG6sJth.js";var ye={};ue(ye,{Checkbox:()=>_e,Control:()=>O,Description:()=>H,ErrorMessage:()=>z,Indicator:()=>T,Input:()=>M,Label:()=>j,Root:()=>A,useCheckboxContext:()=>f});var K=Z();function f(){const r=J(K);if(r===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return r}function O(r){const e=P(),t=f(),o=E({id:t.generateId("control")},r),[a,c]=I(o,["onClick","onKeyDown"]);return n(D,d({as:"div",onClick:i=>{k(i,a.onClick),t.toggle(),t.inputRef()?.focus()},onKeyDown:i=>{k(i,a.onKeyDown),i.key===pe.Space&&(t.toggle(),t.inputRef()?.focus())}},()=>e.dataset(),()=>t.dataset(),c))}function H(r){const e=f();return n(ie,d(()=>e.dataset(),r))}function z(r){const e=f();return n(le,d(()=>e.dataset(),r))}function T(r){const e=P(),t=f(),[o,a]=R(),c=E({id:t.generateId("indicator")},r),[h,b]=I(c,["ref","forceMount"]),{present:i}=be({show:()=>h.forceMount||t.indeterminate()||t.checked(),element:()=>o()??null});return n(G,{get when(){return i()},get children(){return n(D,d({as:"div",ref(x){var m=w(a,h.ref);typeof m=="function"&&m(x)}},()=>e.dataset(),()=>t.dataset(),b))}})}function M(r){let e;const t=P(),o=f(),a=E({id:o.generateId("input")},r),[c,h,b]=I(a,["ref","style","onChange","onFocus","onBlur"],re),{fieldProps:i}=oe(h),[x,m]=R(!1),g=s=>{if(k(s,c.onChange),s.stopPropagation(),!x()){const u=s.target;o.setIsChecked(u.checked),u.checked=o.checked()}m(!1)},p=s=>{k(s,c.onFocus),o.setIsFocused(!0)},L=s=>{k(s,c.onBlur),o.setIsFocused(!1)};return N(U([()=>o.checked(),()=>o.value()],()=>{m(!0),e?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),e?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),N(U([()=>e,()=>o.indeterminate(),()=>o.checked()],([s,u])=>{s&&(s.indeterminate=u)})),n(D,d({as:"input",ref(s){var u=w(l=>{o.setInputRef(l),e=l},c.ref);typeof u=="function"&&u(s)},type:"checkbox",get id(){return i.id()},get name(){return t.name()},get value(){return o.value()},get checked(){return o.checked()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return ge(he,c.style)},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()},get"aria-disabled"(){return t.isDisabled()},get"aria-readonly"(){return t.isReadOnly()},onChange:g,onFocus:p,onBlur:L},()=>t.dataset(),()=>o.dataset(),b))}function j(r){const e=f();return n(de,d(()=>e.dataset(),r))}function A(r){let e;const t=`checkbox-${Q()}`,o=E({value:"on",id:t},r),[a,c,h]=I(o,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],ne),[b,i]=R(),[x,m]=R(!1),{formControlContext:g}=ae(c),p=te({isSelected:()=>a.checked,defaultIsSelected:()=>a.defaultChecked,onSelectedChange:l=>a.onChange?.(l),isDisabled:()=>g.isDisabled(),isReadOnly:()=>g.isReadOnly()});se(()=>e,()=>p.setIsSelected(a.defaultChecked??!1));const L=l=>{k(l,a.onPointerDown),x()&&l.preventDefault()},s=Y(()=>({"data-checked":p.isSelected()?"":void 0,"data-indeterminate":a.indeterminate?"":void 0})),u={value:()=>a.value,dataset:s,checked:()=>p.isSelected(),indeterminate:()=>a.indeterminate??!1,inputRef:b,generateId:me(()=>W(c.id)),toggle:()=>p.toggle(),setIsChecked:l=>p.setIsSelected(l),setIsFocused:m,setInputRef:i};return n(ce.Provider,{value:g,get children(){return n(K.Provider,{value:u,get children(){return n(D,d({as:"div",ref(l){var B=w(V=>e=V,a.ref);typeof B=="function"&&B(l)},role:"group",get id(){return W(c.id)},onPointerDown:L},()=>g.dataset(),s,h,{get children(){return n(ve,{state:u,get children(){return a.children}})}}))}})}})}function ve(r){const e=X(()=>{const t=r.children;return fe(t)?t(r.state):t});return q(e)}var _e=Object.assign(A,{Control:O,Description:H,ErrorMessage:z,Indicator:T,Input:M,Label:j}),Re=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ie=r=>n(ke,d(r,{iconNode:Re,name:"minus"})),Se=Ie;function S(r){const[e,t]=I(r,["indeterminate","class"]);return n(A,d({get indeterminate(){return e.indeterminate},get class(){return xe(["items-top group relative flex space-x-2",e.class])}},t,{"bool:n$":!1,children:o=>[n(M,{class:"peer"}),n(O,{class:`size-4 shrink-0 rounded-sm border border-primary\r
                data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50\r
                peer-focus-visible:focus-ring-offset data-[checked]:border-none\r
                data-[indeterminate]:border-none data-[checked]:bg-primary\r
                data-[indeterminate]:bg-primary data-[checked]:text-primary-foreground\r
                data-[indeterminate]:text-primary-foreground`,get children(){return n(T,{get children(){return q(()=>!!e.indeterminate)()?n(Se,{class:"size-4",strokeWidth:2}):n(Ce,{class:"size-4",strokeWidth:2})}})}})]}))}var $=ee('<div class="flex flex-row place-items-center gap-2">');const{fn:De}=__STORYBOOK_MODULE_TEST__,Ee={args:{onChange:De()},argTypes:{checked:{control:{type:"boolean"},description:"The controlled checked state of the checkbox.",table:{type:{summary:"bool"}}},defaultChecked:{control:{type:"boolean"},description:"The default checked state when initially rendered. Useful when you do not need to control the checked state.",table:{type:{summary:"bool"}}},disabled:{control:{type:"boolean"},description:"Whether the checkbox is disabled",table:{type:{summary:"bool"}}},indeterminate:{control:{type:"boolean"},description:"Whether the checkbox is in an indeterminate state.",table:{type:{summary:"bool"}}},name:{control:{type:"text"},description:"The name of the checkbox, used when submitting an HTML form.",table:{type:{summary:"string"}}},onChange:{control:{type:!1},description:"Event handler called when the checked state of the checkbox changes.",table:{type:{summary:"function"}}},readOnly:{control:{type:"boolean"},description:"Whether the checkbox can be checked but not changed by the user.",table:{type:{summary:"bool"}}},required:{control:{type:"boolean"},description:"Whether the user must check the checkbox before the owning form can be submitted.",table:{type:{summary:"bool"}}},validationState:{control:{type:"radio"},description:'Whether the checkbox should display its "valid" or "invalid" visual styling.',options:["invalid","valid"],table:{type:{summary:"[<StringEnum>]"}}},value:{control:{type:"text"},description:"The value of the checkbox, used when submitting an HTML form.",table:{type:{summary:"string"}}}},render:r=>(()=>{var e=$();return C(e,n(S,d(r,{"bool:n$":!1})),null),C(e,n(F,{children:"Checkbox Text"}),null),e})(),component:S},y={args:{}},v={render:r=>(()=>{var e=$();return C(e,n(S,d({id:"checkbox1"},r,{"bool:n$":!1})),null),C(e,n(F,{for:"checkbox1-input",children:"Click me!"}),null),e})()},_={render:r=>{const e=R(!1),t=e[0];return(()=>{var o=$();return C(o,n(S,{id:"checkbox2",onChange:a=>{e[1](a)},get checked(){return t()},get validationState(){return t()?"invalid":"valid"}}),null),C(o,n(F,{for:"checkbox2-input",children:"Don't want to be checked!"}),null),o})()}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...y.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: PARTAS_RENDER_BUILDER => <div class="flex flex-row place-items-center gap-2">\r
            <Checkbox id="checkbox1" {...PARTAS_RENDER_BUILDER} bool:n$={false} />\r
            <Label for="checkbox1-input">\r
                Click me!\r
            </Label>\r
        </div>
}`,...v.parameters?.docs?.source}}};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:`{
  render: PARTAS_RENDER_BUILDER_2 => {
    const patternInput = createSignal(false);
    const value_2 = patternInput[0];
    return <div class="flex flex-row place-items-center gap-2">\r
                <Checkbox id="checkbox2" onChange={value_3 => {
        patternInput[1](value_3);
      }} checked={value_2()} validationState={value_2() ? "invalid" : "valid"} />\r
                <Label for="checkbox2-input">\r
                    Don't want to be checked!\r
                </Label>\r
            </div>;
  }
}`,..._.parameters?.docs?.source}}};const Le=["Default","ConnectedLabel","Validation"],ze=Object.freeze(Object.defineProperty({__proto__:null,ConnectedLabel:v,Default:y,Validation:_,__namedExportsOrder:Le,default:Ee},Symbol.toStringTag,{value:"Module"}));export{ze as C,y as D,_ as V,v as a};
