import{s as g,c,m as C,g as _,b as p,o as D,h as f,k as x,l as S,f as $,n as q,u as A,p as B,q as v}from"./iframe-mHl6JQ-c.js";import{c as N}from"./E53DB7BS-D596icfy.js";import{B as T}from"./UKTBL2JL-CJMXQYms.js";import{c as E}from"./JNCCF6MP-4sxnBYeu.js";import{P as y}from"./FLVHQV4A-DzmScvHC.js";import{_ as F}from"./5WXHJDCZ-DghNgBBa.js";import{m as I,c as H,a as j}from"./index-DaBFbvzD.js";import{s as G}from"./index-QgBfygXE.js";import{c as U}from"./combineProps-D0kUtwZR.js";import{m as W}from"./index-ncGqb3xy.js";var z={};F(z,{Collapsible:()=>J,Content:()=>P,Root:()=>k,Trigger:()=>R,useCollapsibleContext:()=>b});var w=q();function b(){const n=A(w);if(n===void 0)throw new Error("[kobalte]: `useCollapsibleContext` must be used within a `Collapsible.Root` component");return n}function P(n){const[e,r]=p(),t=b(),i=I({id:t.generateId("content")},n),[s,u]=g(i,["ref","id","style"]),{present:o}=G({show:t.shouldMount,element:()=>e()??null}),[l,m]=p(0),[d,M]=p(0);let h=t.isOpen()||o();return D(()=>{const a=requestAnimationFrame(()=>{h=!1});v(()=>{cancelAnimationFrame(a)})}),f(x(o,()=>{if(!e())return;e().style.transitionDuration="0s",e().style.animationName="none";const a=e().getBoundingClientRect();m(a.height),M(a.width),h||(e().style.transitionDuration="",e().style.animationName="")})),f(x(t.isOpen,a=>{!a&&e()&&(e().style.transitionDuration="",e().style.animationName="")},{defer:!0})),f(()=>v(t.registerContentId(s.id))),c(S,{get when(){return o()},get children(){return c(y,C({as:"div",ref(a){var O=W(r,s.ref);typeof O=="function"&&O(a)},get id(){return s.id},get style(){return U({"--kb-collapsible-content-height":l()?`${l()}px`:void 0,"--kb-collapsible-content-width":d()?`${d()}px`:void 0},s.style)}},()=>t.dataset(),u))}})}function k(n){const e=`collapsible-${B()}`,r=I({id:e},n),[t,i]=g(r,["open","defaultOpen","onOpenChange","disabled","forceMount"]),[s,u]=p(),o=N({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:d=>t.onOpenChange?.(d)}),l=$(()=>({"data-expanded":o.isOpen()?"":void 0,"data-closed":o.isOpen()?void 0:"","data-disabled":t.disabled?"":void 0})),m={dataset:l,isOpen:o.isOpen,disabled:()=>t.disabled??!1,shouldMount:()=>t.forceMount||o.isOpen(),contentId:s,toggle:o.toggle,generateId:H(()=>i.id),registerContentId:E(u)};return c(w.Provider,{value:m,get children(){return c(y,C({as:"div"},l,i))}})}function R(n){const e=b(),[r,t]=g(n,["onClick"]);return c(T,C({get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return _(()=>!!e.isOpen())()?e.contentId():void 0},get disabled(){return e.disabled()},onClick:s=>{j(s,r.onClick),e.toggle()}},()=>e.dataset(),t))}var J=Object.assign(k,{Content:P,Trigger:R});export{R as C,P as a,k as b,b as u};
