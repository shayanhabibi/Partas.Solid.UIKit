import{m as w,s as D,f as v,t as g,y as T,i as d,g as N,c as m,B as S,v as h,F as M,l as L,w as O,E as b}from"./iframe-mHl6JQ-c.js";import{d as P,m as U,a as V}from"./Option-B9lMbA8r.js";import{t as H,i as $,b as F,c as B}from"./Array-DTFxpKaG.js";import{t as Z,d as E,c as z,a as G,e as R,s as K}from"./Seq-FpC0yOqC.js";import{L as y,C as q,b as J}from"./Utils-CYryE0IK.js";import{d as Q}from"./Util-jMr-gVD5.js";import{T as W,a as X,b as Y}from"./Tooltip-BA-ssJmt.js";import{i as ee}from"./String-DLdTzCOk.js";var te=g('<div><div class="absolute bottom-0 left-0 flex items-center">0</div><div class="absolute right-0 bottom-0 flex items-center">'),re=g('<span class="block translate-x-1/2 text-sm tabular-nums">'),ae=g('<div class="flex items-center justify-end pr-0.5">'),oe=g('<div><div class="absolute size-7 -translate-x-[45%] -translate-y-[15%]">'),C=g("<div>"),le=g('<div arialabel="Category bar"><div class="relative flex h-2 w-full items-center"><div class="flex h-full flex-1 items-center gap-0.5 overflow-hidden rounded-full">');function se(o,e,f){let l,s;return P(U(t=>$(t,f).bg,o!=null?o===0?B(t=>0<t,e):(l=o,s=0,V(B(t=>(s=s+t,s>=l),e),f.length-1)):void 0),"")}function I(o,e){return P(U(f=>f/e*100,o),0)}function ne(o){o=w({values:[]},o);const[e,f]=D(o,["values"]),l=v(()=>F(e.values,{GetZero:()=>0,Add:(t,i)=>t+i})),s=v(()=>{let t=0,i=0;return Z(E(()=>z(a=>{t=t+a;const c=(a>=.1*l()?!0:i>=.09*l())&&l()-t>=.1*l()&&t>=.1*l()&&t<.9*l();return G(c?(i=0,R()):(i=i+a,R()),E(()=>{const p=I(a,l());return K({prefixSum:~~t,showLabel:c,widthPositionleft:p})}))},e.values)))});return(()=>{var t=te(),i=t.firstChild,a=i.nextSibling;return d(t,m(M,{get each(){return e.values},children:(c,p)=>(()=>{var n=ae();return d(n,m(L,{get when(){return $(p(),s()).showLabel},get children(){var r=re();return d(r,()=>$(p(),s()).prefixSum),r}})),h(r=>S(n,"width",`${$(p(),s()).widthPositionleft}%`)),n})()}),a),d(a,()=>~~l()),h(()=>b(t,y(["relative mb-2 flex h-5 w-full text-sm font-medium text-primary"]))),t})()}function j(o){o=w({values:[],colors:q,showLabels:!0,showAnimation:!1,tooltip:Q()},o);const[e,f]=D(o,["marker","values","colors","showLabels","showAnimation","tooltip"]),l=v(()=>se(e.marker,e.values,e.colors)),s=v(()=>F(e.values,{GetZero:()=>0,Add:(a,c)=>a+c})),t=v(()=>{const a=e.marker;return a!=null?a<0?0:a>s()?s():a:void 0}),i=v(()=>I(t(),s()));return(()=>{var a=le(),c=a.firstChild,p=c.firstChild;return T(a,w({get ariaValueNow(){return e.marker}},f),!1,!0),d(a,(()=>{var n=N(()=>!!e.showLabels);return()=>n()?m(ne,{get values(){return e.values}}):void 0})(),c),d(p,m(M,{get each(){return e.values},children:(n,r)=>{let u;const x=P((u=e.colors,H(r(),u)),J),k=n/s()*100;return(()=>{var A=C();return S(A,"width",`${k}%`),h(()=>b(A,y(["h-full",x.bg,k<=0?"hidden":null]))),A})()}})),d(c,m(L,{get when(){return e.marker},get children(){var n=C();return d(n,m(L,{get when(){return!ee(e.tooltip)},get fallback(){return(()=>{var r=C();return h(()=>b(r,y(["mx-auto h-4 w-1 rounded-full ring-2 ring-background",l()]))),r})()},get children(){return m(W,{get children(){return[m(X,{as:r=>(()=>{var u=C();return T(u,w(r,{"on:n$":!1}),!1,!1),u})(),get children(){var r=oe(),u=r.firstChild;return O(r,"ariahidden",!0),O(u,"ariahidden",!0),h(()=>b(r,y(["relative mx-auto h-4 w-1 rounded-full ring-2 ring-background",l()]))),r}}),m(Y,{get children(){return e.tooltip}})]}})}})),h(r=>{var u=y(["absolute w-2 -translate-x-1/2",e.showAnimation&&"transform-gpu transition-all duration-300 ease-in-out"]),x=`${i()}%`;return u!==r.e&&b(n,r.e=u),x!==r.t&&S(n,"left",r.t=x),r},{e:void 0,t:void 0}),n}}),null),a})()}const ie={args:{},argTypes:{values:{control:{type:"object"},table:{type:{summary:"Array of Number (Float64, Empty)"}}},colors:{control:{type:"object"},table:{type:{summary:`Array of DeclaredType
  ({ FullName = "Partas.Solid.UI.Utils.Charts.ChartColor"
     Path =
      SourcePath
        "C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/Utils.fs" },
   [])`}}},marker:{control:{type:"number"},table:{type:{summary:"float64"}}},tooltip:{control:{type:"text"},table:{type:{summary:"string"}}},showAnimation:{control:{type:"boolean"},table:{type:{summary:"bool"}}},showLabels:{control:{type:"boolean"},table:{type:{summary:"bool"}}}},render:o=>m(j,w({class:"mx-auto max-w-sm"},o,{"bool:n$":!1})),component:j},_={args:{values:[10,10,20],marker:17,tooltip:"68",showAnimation:!0}};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:`{
  args: {
    values: [10, 10, 20],
    marker: 17,
    tooltip: "68",
    showAnimation: true
  }
}`,..._.parameters?.docs?.source}}};const ue=["Default"],be=Object.freeze(Object.defineProperty({__proto__:null,Default:_,__namedExportsOrder:ue,default:ie},Symbol.toStringTag,{value:"Module"}));export{be as C,_ as D};
