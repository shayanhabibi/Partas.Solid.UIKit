import{s as p,a as f,b as X,c as s,m as l,d as ee,e as B,f as A,h as I,S as H,P as te,j as oe,u as ne}from"./iframe-BM9GGKTp.js";import{P as z,a as N}from"./2CTBMVJ4-DG2h0Klq.js";import{a as re,c as se}from"./FBCYWU27-Yipwsrve.js";import{D as ae}from"./3VFJM5NZ-CreZ2OA8.js";import{c as ie}from"./E53DB7BS-B2C1aW5R.js";import{B as U}from"./UKTBL2JL-CrYdqGSi.js";import{c as x}from"./JNCCF6MP-4sxnBYeu.js";import{P as S}from"./FLVHQV4A-_6vtjyov.js";import{_ as le}from"./5WXHJDCZ-DghNgBBa.js";import{m as h,c as ce,a as D,f as pe,h as F}from"./index--l9EKEpl.js";import{s as de}from"./index-BWo5OhQR.js";import{s as ue}from"./index-BIk3ptco.js";import{m as T}from"./index-Dpxw9ahN.js";import{c as me}from"./combineProps-apv8T_dJ.js";import{L as fe}from"./Utils-D0o1erub.js";import"./preload-helper-PPVm8Dsz.js";import"./LR7LBJN3-D9uC7BFP.js";import"./index-Ch2EAVXv.js";import"./floating-ui.dom-BNE0r0Ci.js";import"./JHMNWOLY-BFBiVkBi.js";import"./FN6EICGO-DoVQvj8v.js";import"./OYES4GOP-Dtjhg5s6.js";import"./U42ECMND-BDjyePcW.js";import"./GZJAOTUE-C8veUlZR.js";var ge={};le(ge,{Anchor:()=>j,Arrow:()=>N,CloseButton:()=>V,Content:()=>_,Description:()=>q,Popover:()=>ye,Portal:()=>w,Root:()=>M,Title:()=>G,Trigger:()=>k,usePopoverContext:()=>u});var W=ee();function u(){const o=ne(W);if(o===void 0)throw new Error("[kobalte]: `usePopoverContext` must be used within a `Popover` component");return o}function j(o){const t=u(),[e,n]=p(o,["ref"]);return s(S,l({as:"div",ref(a){var c=T(t.setDefaultAnchorRef,e.ref);typeof c=="function"&&c(a)}},()=>t.dataset(),n))}function V(o){const t=u(),[e,n]=p(o,["aria-label","onClick"]);return s(U,l({get"aria-label"(){return e["aria-label"]||t.translations().dismiss},onClick:c=>{D(c,e.onClick),t.close()}},()=>t.dataset(),n))}function _(o){let t;const e=u(),n=h({id:e.generateId("content")},o),[a,c]=p(n,["ref","style","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let i=!1,d=!1,g=!1;const y=r=>{a.onCloseAutoFocus?.(r),e.isModal()?(r.preventDefault(),i||F(e.triggerRef())):(r.defaultPrevented||(d||F(e.triggerRef()),r.preventDefault()),d=!1,g=!1)},O=r=>{a.onPointerDownOutside?.(r),e.isModal()&&(i=r.detail.isContextMenu)},C=r=>{a.onFocusOutside?.(r),e.isOpen()&&e.isModal()&&r.preventDefault()},R=r=>{a.onInteractOutside?.(r),!e.isModal()&&(r.defaultPrevented||(d=!0,r.detail.originalEvent.type==="pointerdown"&&(g=!0)),pe(e.triggerRef(),r.target)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&g&&r.preventDefault())};return re({isDisabled:()=>!(e.isOpen()&&e.isModal()),targets:()=>t?[t]:[]}),de({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),se({trapFocus:()=>e.isOpen()&&e.isModal(),onMountAutoFocus:a.onOpenAutoFocus,onUnmountAutoFocus:y},()=>t),A(()=>I(e.registerContentId(c.id))),s(H,{get when(){return e.contentPresent()},get children(){return s(z.Positioner,{get children(){return s(ae,l({ref(r){var b=T(P=>{e.setContentRef(P),t=P},a.ref);typeof b=="function"&&b(r)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return B(()=>!!e.isOpen())()&&e.isModal()},get excludedElements(){return[e.triggerRef]},get style(){return me({"--kb-popover-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},a.style)},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},onPointerDownOutside:O,onFocusOutside:C,onInteractOutside:R,get onDismiss(){return e.close}},()=>e.dataset(),c))}})}})}function q(o){const t=u(),e=h({id:t.generateId("description")},o),[n,a]=p(e,["id"]);return A(()=>I(t.registerDescriptionId(n.id))),s(S,l({as:"p",get id(){return n.id}},()=>t.dataset(),a))}function w(o){const t=u();return s(H,{get when(){return t.contentPresent()},get children(){return s(te,o)}})}var L={dismiss:"Dismiss"};function M(o){const t=`popover-${oe()}`,e=h({id:t,modal:!1,translations:L},o),[n,a]=p(e,["translations","id","open","defaultOpen","onOpenChange","modal","preventScroll","forceMount","anchorRef"]),[c,i]=f(),[d,g]=f(),[y,O]=f(),[C,R]=f(),[r,b]=f(),[P,K]=f(),m=ie({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:Q=>n.onOpenChange?.(Q)}),Y=()=>n.anchorRef?.()??c()??d(),{present:Z}=ue({show:()=>n.forceMount||m.isOpen(),element:()=>y()??null}),J=X(()=>({"data-expanded":m.isOpen()?"":void 0,"data-closed":m.isOpen()?void 0:""})),E={translations:()=>n.translations??L,dataset:J,isOpen:m.isOpen,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??E.isModal(),contentPresent:Z,triggerRef:d,contentId:C,titleId:r,descriptionId:P,setDefaultAnchorRef:i,setTriggerRef:g,setContentRef:O,close:m.close,toggle:m.toggle,generateId:ce(()=>n.id),registerContentId:x(R),registerTitleId:x(b),registerDescriptionId:x(K)};return s(W.Provider,{value:E,get children(){return s(z,l({anchorRef:Y,contentRef:y},a))}})}function G(o){const t=u(),e=h({id:t.generateId("title")},o),[n,a]=p(e,["id"]);return A(()=>I(t.registerTitleId(n.id))),s(S,l({as:"h2",get id(){return n.id}},()=>t.dataset(),a))}function k(o){const t=u(),[e,n]=p(o,["ref","onClick","onPointerDown"]);return s(U,l({ref(i){var d=T(t.setTriggerRef,e.ref);typeof d=="function"&&d(i)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return B(()=>!!t.isOpen())()?t.contentId():void 0},onPointerDown:i=>{D(i,e.onPointerDown),i.preventDefault()},onClick:i=>{D(i,e.onClick),t.toggle()}},()=>t.dataset(),n))}var ye=Object.assign(M,{Anchor:j,Arrow:N,CloseButton:V,Content:_,Description:q,Portal:w,Title:G,Trigger:k});function be(o){const[t,e]=p(o,[]);return s(k,l(e,{"bool:n$":!1}))}function $(o){const[t,e]=p(o,[]);return s(M,l({gutter:4},e,{"bool:n$":!1}))}function Pe(o){const[t,e]=p(o,["class"]);return s(w,{get children(){return s(_,l({get class(){return fe([`z-50 w-72 origin-[var(--kb-popover-content-transform-origin)]\r
                rounded-md border bg-popover p-4 text-popover-foreground shadow-md\r
                outline-none data-[expanded]:animate-in data-[closed]:animate-out\r
                data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95\r
                data-[expanded]:zoom-in-95`,t.class])}},e,{"bool:n$":!1}))}})}const{fn:ve}=__STORYBOOK_MODULE_TEST__,je={args:{onOpenChange:ve()},argTypes:{open:{control:{type:"boolean"},table:{type:{summary:"bool"}}},defaultOpen:{control:{type:"boolean"},table:{type:{summary:"bool"}}},onOpenChange:{control:{type:!1},table:{type:{summary:"function"}}},id:{control:{type:"text"},table:{type:{summary:"string"}}},modal:{control:{type:"boolean"},table:{type:{summary:"bool"}}},preventScroll:{control:{type:"boolean"},table:{type:{summary:"bool"}}},forceMount:{control:{type:"boolean"},table:{type:{summary:"bool"}}},translations:{control:{type:"text"},table:{type:{summary:"string"}}},getAnchorRect:{control:{type:!1},table:{type:{summary:"function"}}},anchorRef:{control:{type:!1},table:{type:{summary:"function"}}},placement:{control:{type:"select"},options:["bottom","left","right","top-start","bottom-start","left-start","right-start","top-end","bottom-end","left-end","right-end","top"],table:{type:{summary:"[<StringEnum>]"}}},gutter:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}},shift:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}},flip:{control:{type:"boolean"},table:{type:{summary:"bool"}}},slide:{control:{type:"boolean"},table:{type:{summary:"bool"}}},overlap:{control:{type:"boolean"},table:{type:{summary:"bool"}}},sameWidth:{control:{type:"boolean"},table:{type:{summary:"bool"}}},fitViewport:{control:{type:"boolean"},table:{type:{summary:"bool"}}},hideWhenDetached:{control:{type:"boolean"},table:{type:{summary:"bool"}}},detachedPadding:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}},arrowPadding:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}},overflowPadding:{control:{type:"number",max:2147483647,min:-2147483648,step:1},table:{type:{summary:"int32"}}}},render:o=>s($,l(o,{"bool:n$":!1,get children(){return[s(be,{children:"Click me"}),s(Pe,{children:"Popover content"})]}})),component:$},v={args:{}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...v.parameters?.docs?.source}}};const Ve=["Default"];export{v as Default,Ve as __namedExportsOrder,je as default};
