import{s as g,a as p,b as S,c,m as C,d as _,e as D,u as $,o as A,f,g as x,h as v,S as B,i as N}from"./iframe-DpV9HfhM.js";import{c as T}from"./E53DB7BS-BEG_Abf7.js";import{B as q}from"./UKTBL2JL-DSgYaW5S.js";import{c as E}from"./JNCCF6MP-4sxnBYeu.js";import{P as y}from"./FLVHQV4A-DEl4WC3m.js";import{_ as F}from"./5WXHJDCZ-DghNgBBa.js";import{m as I,c as H,a as j}from"./index-CmLBBZhh.js";import{s as G}from"./index-CPNFGJdg.js";import{c as U}from"./combineProps-DJFXUCSD.js";import{m as W}from"./index-Ffqm9YWZ.js";var z={};F(z,{Collapsible:()=>J,Content:()=>P,Root:()=>R,Trigger:()=>k,useCollapsibleContext:()=>b});var w=_();function b(){const n=$(w);if(n===void 0)throw new Error("[kobalte]: `useCollapsibleContext` must be used within a `Collapsible.Root` component");return n}function P(n){const[e,r]=p(),t=b(),i=I({id:t.generateId("content")},n),[s,u]=g(i,["ref","id","style"]),{present:o}=G({show:t.shouldMount,element:()=>e()??null}),[l,m]=p(0),[d,M]=p(0);let h=t.isOpen()||o();return A(()=>{const a=requestAnimationFrame(()=>{h=!1});v(()=>{cancelAnimationFrame(a)})}),f(x(o,()=>{if(!e())return;e().style.transitionDuration="0s",e().style.animationName="none";const a=e().getBoundingClientRect();m(a.height),M(a.width),h||(e().style.transitionDuration="",e().style.animationName="")})),f(x(t.isOpen,a=>{!a&&e()&&(e().style.transitionDuration="",e().style.animationName="")},{defer:!0})),f(()=>v(t.registerContentId(s.id))),c(B,{get when(){return o()},get children(){return c(y,C({as:"div",ref(a){var O=W(r,s.ref);typeof O=="function"&&O(a)},get id(){return s.id},get style(){return U({"--kb-collapsible-content-height":l()?`${l()}px`:void 0,"--kb-collapsible-content-width":d()?`${d()}px`:void 0},s.style)}},()=>t.dataset(),u))}})}function R(n){const e=`collapsible-${D()}`,r=I({id:e},n),[t,i]=g(r,["open","defaultOpen","onOpenChange","disabled","forceMount"]),[s,u]=p(),o=T({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:d=>t.onOpenChange?.(d)}),l=S(()=>({"data-expanded":o.isOpen()?"":void 0,"data-closed":o.isOpen()?void 0:"","data-disabled":t.disabled?"":void 0})),m={dataset:l,isOpen:o.isOpen,disabled:()=>t.disabled??!1,shouldMount:()=>t.forceMount||o.isOpen(),contentId:s,toggle:o.toggle,generateId:H(()=>i.id),registerContentId:E(u)};return c(w.Provider,{value:m,get children(){return c(y,C({as:"div"},l,i))}})}function k(n){const e=b(),[r,t]=g(n,["onClick"]);return c(q,C({get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return N(()=>!!e.isOpen())()?e.contentId():void 0},get disabled(){return e.disabled()},onClick:s=>{j(s,r.onClick),e.toggle()}},()=>e.dataset(),t))}var J=Object.assign(R,{Content:P,Trigger:k});export{R as C,k as a,P as b,b as u};
