import{c as g,h as He,b as he,m as Q,s as Ge,P as qe,t as Fe,i as W,l as pe,w as ne,a as Je}from"./iframe-BHVPMPJn.js";import{B as Qe}from"./Button-DF4RW6v0.js";import{c as ce,s as De,a as Le,P as Ne}from"./4LUY46IM-DEAMh8Sn.js";import{b as et,J as tt,r as ie,X as nt,Y as re,Z as D,i as Ue,p as it,$ as st,a0 as rt,N as z,I as ot,a1 as me,d as at,a2 as lt,a3 as dt,a4 as ct,a5 as Y,a6 as ye,e as We,a as gt,_ as ut,S as O,T as k,c as ee,R as ht,Q as pt,f as mt,u as yt,U as ft}from"./index-BybUFuJn.js";import{g as Pt}from"./grip-vertical-CZ3Vcsa2.js";import{L as S}from"./Utils-CAhjhIiz.js";import{m as bt}from"./minus-Bd0N6Tjj.js";import{I as je}from"./Icon-DcpizePo.js";import{x as zt}from"./x-CNVgNsoI.js";var vt=Object.defineProperty,St=(e,t,n)=>t in e?vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t,n)=>St(e,typeof t!="symbol"?t+"":t,n),fe=class v{constructor([t,n,i,s,r,a]=[0,0,0,0,0,0]){A(this,"m00"),A(this,"m01"),A(this,"m02"),A(this,"m10"),A(this,"m11"),A(this,"m12"),A(this,"rotate",(...o)=>this.prepend(v.rotate(...o))),A(this,"scale",(...o)=>this.prepend(v.scale(...o))),A(this,"translate",(...o)=>this.prepend(v.translate(...o))),this.m00=t,this.m01=n,this.m02=i,this.m10=s,this.m11=r,this.m12=a}applyTo(t){const{x:n,y:i}=t,{m00:s,m01:r,m02:a,m10:o,m11:l,m12:c}=this;return{x:s*n+r*i+a,y:o*n+l*i+c}}prepend(t){return new v([this.m00*t.m00+this.m01*t.m10,this.m00*t.m01+this.m01*t.m11,this.m00*t.m02+this.m01*t.m12+this.m02,this.m10*t.m00+this.m11*t.m10,this.m10*t.m01+this.m11*t.m11,this.m10*t.m02+this.m11*t.m12+this.m12])}append(t){return new v([t.m00*this.m00+t.m01*this.m10,t.m00*this.m01+t.m01*this.m11,t.m00*this.m02+t.m01*this.m12+t.m02,t.m10*this.m00+t.m11*this.m10,t.m10*this.m01+t.m11*this.m11,t.m10*this.m02+t.m11*this.m12+t.m12])}get determinant(){return this.m00*this.m11-this.m01*this.m10}get isInvertible(){const t=this.determinant;return isFinite(t)&&isFinite(this.m02)&&isFinite(this.m12)&&t!==0}invert(){const t=this.determinant;return new v([this.m11/t,-this.m01/t,(this.m01*this.m12-this.m11*this.m02)/t,-this.m10/t,this.m00/t,(this.m10*this.m02-this.m00*this.m12)/t])}get array(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,0,0,1]}get float32Array(){return new Float32Array(this.array)}static get identity(){return new v([1,0,0,0,1,0])}static rotate(t,n){const i=new v([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0]);return n&&(n.x!==0||n.y!==0)?v.multiply(v.translate(n.x,n.y),i,v.translate(-n.x,-n.y)):i}static scale(t,n=t,i={x:0,y:0}){const s=new v([t,0,0,0,n,0]);return i.x!==0||i.y!==0?v.multiply(v.translate(i.x,i.y),s,v.translate(-i.x,-i.y)):s}static translate(t,n){return new v([1,0,t,0,1,n])}static multiply(...[t,...n]){return t?n.reduce((i,s)=>i.prepend(s),t):v.identity}get a(){return this.m00}get b(){return this.m10}get c(){return this.m01}get d(){return this.m11}get tx(){return this.m02}get ty(){return this.m12}get scaleComponents(){return{x:this.a,y:this.d}}get translationComponents(){return{x:this.tx,y:this.ty}}get skewComponents(){return{x:this.c,y:this.b}}toString(){return`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`}},Pe=(e,t,n)=>Math.min(Math.max(e,t),n),H=(e,t,n)=>{const i=Pe(e.x,n.x,n.x+n.width-t.width),s=Pe(e.y,n.y,n.y+n.height-t.height);return{x:i,y:s}},wt={width:0,height:0},xt={width:1/0,height:1/0},G=(e,t=wt,n=xt)=>({width:Math.min(Math.max(e.width,t.width),n.width),height:Math.min(Math.max(e.height,t.height),n.height)}),ge=(e,t)=>({x:e,y:t}),be=(e,t)=>t?ge(e.x-t.x,e.y-t.y):e,Et=(e,t)=>ge(e.x+t.x,e.y+t.y);function te(e){const{x:t,y:n,width:i,height:s}=e,r=t+i/2,a=n+s/2;return{x:t,y:n,width:i,height:s,minX:t,minY:n,maxX:t+i,maxY:n+s,midX:r,midY:a,center:ge(r,a)}}var Tt=(e,t)=>{const n=Math.max(t.x,Math.min(e.x,t.x+t.width-e.width)),i=Math.max(t.y,Math.min(e.y,t.y+t.height-e.height));return{x:n,y:i,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},Ot=(e,t)=>e.width===t?.width&&e.height===t?.height,Ct=(e,t)=>e.x===t?.x&&e.y===t?.y,se=new WeakMap;function Rt(e){if(!se.has(e)){const t=e.ownerDocument.defaultView||window;se.set(e,t.getComputedStyle(e))}return se.get(e)}function Be(e,t={}){return te(Mt(e,t))}function Mt(e,t={}){const{excludeScrollbar:n=!1,excludeBorders:i=!1}=t,{x:s,y:r,width:a,height:o}=e.getBoundingClientRect(),l={x:s,y:r,width:a,height:o},c=Rt(e),{borderLeftWidth:u,borderTopWidth:P,borderRightWidth:b,borderBottomWidth:x}=c,w=ze(u,b),h=ze(P,x);if(i&&(l.width-=w,l.height-=h,l.x+=oe(u),l.y+=oe(P)),n){const R=e.offsetWidth-e.clientWidth-w,_=e.offsetHeight-e.clientHeight-h;l.width-=R,l.height-=_}return l}var oe=e=>parseFloat(e.replace("px","")),ze=(...e)=>e.reduce((t,n)=>t+(n?oe(n):0),0);function kt(e,t={}){return te(It(e,t))}function It(e,t){const{excludeScrollbar:n=!1}=t,{innerWidth:i,innerHeight:s,document:r,visualViewport:a}=e,o=a?.width||i,l=a?.height||s,c={x:0,y:0,width:o,height:l};if(n){const u=i-r.documentElement.clientWidth,P=s-r.documentElement.clientHeight;c.width-=u,c.height-=P}return c}var ve={n:{x:.5,y:0},ne:{x:1,y:0},e:{x:1,y:.5},se:{x:1,y:1},s:{x:.5,y:1},sw:{x:0,y:1},w:{x:0,y:.5},nw:{x:0,y:0}},At={n:"s",ne:"sw",e:"w",se:"nw",s:"n",sw:"ne",w:"e",nw:"se"},{sign:q,abs:B,min:Se}=Math;function we(e,t){const{minX:n,minY:i,maxX:s,maxY:r,midX:a,midY:o}=e,l=t.includes("w")?n:t.includes("e")?s:a,c=t.includes("n")?i:t.includes("s")?r:o;return{x:l,y:c}}function _t(e){return At[e]}function Ft(e,t,n,i){const{scalingOriginMode:s,lockAspectRatio:r}=i,a=we(e,n),o=_t(n),l=we(e,o);s==="center"&&(t={x:t.x*2,y:t.y*2});const c={x:a.x+t.x,y:a.y+t.y},u={x:ve[n].x*2-1,y:ve[n].y*2-1},P={width:c.x-l.x,height:c.y-l.y},b=u.x*P.width/e.width,x=u.y*P.height/e.height,w=B(b)>B(x)?b:x,h=r?{x:w,y:w}:{x:a.x===l.x?1:b,y:a.y===l.y?1:x};switch(a.y===l.y?h.y=B(h.y):q(h.y)!==q(x)&&(h.y*=-1),a.x===l.x?h.x=B(h.x):q(h.x)!==q(b)&&(h.x*=-1),s){case"extent":return xe(e,fe.scale(h.x,h.y,l),!1);case"center":return xe(e,fe.scale(h.x,h.y,{x:e.midX,y:e.midY}),!1)}}function Dt(e,t,n=!0){return n?{x:Se(t.x,e.x),y:Se(t.y,e.y),width:B(t.x-e.x),height:B(t.y-e.y)}:{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}}function xe(e,t,n=!0){const i=t.applyTo({x:e.minX,y:e.minY}),s=t.applyTo({x:e.maxX,y:e.maxY});return Dt(i,s,n)}const Lt=Symbol(),Ee=Object.getPrototypeOf,ae=new WeakMap,Nt=e=>e&&(ae.has(e)?ae.get(e):Ee(e)===Object.prototype||Ee(e)===Array.prototype),Ut=e=>Nt(e)&&e[Lt]||null,Te=(e,t=!0)=>{ae.set(e,t)};function Wt(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function $e(e,t){const n=Wt();return n?(n[e]||(n[e]=t()),n[e]):t()}var J=$e("__zag__refSet",()=>new WeakSet),jt=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Bt=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,$t=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Vt=e=>jt(e)||Bt(e)||$t(e),le=e=>e!==null&&typeof e=="object",Oe=e=>le(e)&&!J.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Vt(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),L=$e("__zag__proxyStateMap",()=>new WeakMap),Xt=(e=Object.is,t=(o,l)=>new Proxy(o,l),n=new WeakMap,i=(o,l)=>{const c=n.get(o);if(c?.[0]===l)return c[1];const u=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return Te(u,!0),n.set(o,[l,u]),Reflect.ownKeys(o).forEach(P=>{const b=Reflect.get(o,P);J.has(b)?(Te(b,!1),u[P]=b):L.has(b)?u[P]=Yt(b):u[P]=b}),Object.freeze(u)},s=new WeakMap,r=[1,1],a=o=>{if(!le(o))throw new Error("object required");const l=s.get(o);if(l)return l;let c=r[0];const u=new Set,P=(p,m=++r[0])=>{c!==m&&(c=m,u.forEach(f=>f(p,m)))};let b=r[1];const x=(p=++r[1])=>(b!==p&&!u.size&&(b=p,h.forEach(([m])=>{const f=m[1](p);f>c&&(c=f)})),c),w=p=>(m,f)=>{const T=[...m];T[1]=[p,...T[1]],P(T,f)},h=new Map,R=(p,m)=>{if(u.size){const f=m[3](w(p));h.set(p,[m,f])}else h.set(p,[m])},_=p=>{const m=h.get(p);m&&(h.delete(p),m[1]?.())},$=p=>(u.add(p),u.size===1&&h.forEach(([f,T],U)=>{const V=f[3](w(U));h.set(U,[f,V])}),()=>{u.delete(p),u.size===0&&h.forEach(([f,T],U)=>{T&&(T(),h.set(U,[f]))})}),d=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),I=t(d,{deleteProperty(p,m){const f=Reflect.get(p,m);_(m);const T=Reflect.deleteProperty(p,m);return T&&P(["delete",[m],f]),T},set(p,m,f,T){const U=Reflect.has(p,m),V=Reflect.get(p,m,T);if(U&&(e(V,f)||s.has(f)&&e(V,s.get(f))))return!0;_(m),le(f)&&(f=Ut(f)||f);let K=f;if(!Object.getOwnPropertyDescriptor(p,m)?.set){!L.has(f)&&Oe(f)&&(K=Ve(f));const ue=!J.has(K)&&L.get(K);ue&&R(m,ue)}return Reflect.set(p,m,K,T),P(["set",[m],f,V]),!0}});s.set(o,I);const N=[d,x,i,$];return L.set(I,N),Reflect.ownKeys(o).forEach(p=>{const m=Object.getOwnPropertyDescriptor(o,p);m.get||m.set?Object.defineProperty(d,p,m):I[p]=o[p]}),I})=>[a,L,J,e,t,Oe,n,i,s,r],[Zt]=Xt();function Ve(e={}){return Zt(e)}function Kt(e,t,n){const i=L.get(e);let s;const r=[],a=i[3];let o=!1;const c=a(u=>{r.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,o&&t(r.splice(0))}))});return o=!0,()=>{o=!1,c()}}function Yt(e){const t=L.get(e),[n,i,s]=t;return s(n,i())}var Ht=ot("floating-panel").parts("trigger","positioner","content","header","body","title","resizeTrigger","dragTrigger","stageTrigger","closeTrigger","control"),M=Ht.build(),Xe=e=>e.ids?.trigger??`float:${e.id}:trigger`,Ze=e=>e.ids?.positioner??`float:${e.id}:positioner`,de=e=>e.ids?.content??`float:${e.id}:content`,Ce=e=>e.ids?.title??`float:${e.id}:title`,Ke=e=>e.ids?.header??`float:${e.id}:header`,Re=e=>e.getById(Xe(e)),Me=e=>e.getById(Ze(e)),ke=e=>e.getById(de(e)),Gt=e=>e.getById(Ke(e)),F=(e,t,n)=>{let i;return Ue(t)?i=Be(t):i=kt(e.getWin()),n&&(i=te({x:-i.width,y:i.minY,width:i.width*3,height:i.height*2})),D(i,["x","y","width","height"])};function qt(e){switch(e){case"n":return{cursor:"n-resize",width:"100%",left:"50%",translate:"-50%"};case"e":return{cursor:"e-resize",height:"100%",right:0,top:"50%",translate:"0 -50%"};case"s":return{cursor:"s-resize",width:"100%",bottom:0,left:"50%",translate:"-50%"};case"w":return{cursor:"w-resize",height:"100%",left:0,top:"50%",translate:"0 -50%"};case"se":return{cursor:"se-resize",bottom:0,right:0};case"sw":return{cursor:"sw-resize",bottom:0,left:0};case"ne":return{cursor:"ne-resize",top:0,right:0};case"nw":return{cursor:"nw-resize",top:0,left:0};default:throw new Error(`Invalid axis: ${e}`)}}var Ie=new Set(["minimized","maximized","default"]);function Jt(e,t){const{state:n,send:i,scope:s,prop:r,computed:a,context:o}=e,l=n.hasTag("open"),c=n.matches("open.dragging"),u=n.matches("open.resizing"),P=o.get("isTopmost"),b=o.get("size"),x=o.get("position"),w=a("isMaximized"),h=a("isMinimized"),R=a("isStaged"),_=a("canResize"),$=a("canDrag");return{open:l,resizable:r("resizable"),draggable:r("draggable"),setOpen(d){n.hasTag("open")!==d&&i({type:d?"OPEN":"CLOSE"})},dragging:c,resizing:u,position:x,size:b,setPosition(d){i({type:"SET_POSITION",position:d})},setSize(d){i({type:"SET_SIZE",size:d})},minimize(){i({type:"MINIMIZE"})},maximize(){i({type:"MAXIMIZE"})},restore(){i({type:"RESTORE"})},getTriggerProps(){return t.button({...M.trigger.attrs,type:"button",disabled:r("disabled"),id:Xe(s),"data-state":l?"open":"closed","data-dragging":z(c),"aria-controls":de(s),onClick(d){if(d.defaultPrevented||r("disabled"))return;const y=n.hasTag("open");i({type:y?"CLOSE":"OPEN",src:"trigger"})}})},getPositionerProps(){return t.element({...M.positioner.attrs,id:Ze(s),style:{"--width":Y(b?.width),"--height":Y(b?.height),"--x":Y(x?.x),"--y":Y(x?.y),position:r("strategy"),top:"var(--y)",left:"var(--x)"}})},getContentProps(){return t.element({...M.content.attrs,role:"dialog",tabIndex:0,hidden:!l,id:de(s),"aria-labelledby":Ce(s),"data-state":l?"open":"closed","data-dragging":z(c),"data-topmost":z(P),"data-behind":z(!P),"data-minimized":z(h),"data-maximized":z(w),"data-staged":z(R),style:{width:"var(--width)",height:"var(--height)",overflow:h?"hidden":void 0},onFocus(){i({type:"CONTENT_FOCUS"})},onKeyDown(d){if(d.defaultPrevented||!lt(d))return;const y=dt(d)*r("gridSize"),N={Escape(){P&&i({type:"ESCAPE"})},ArrowLeft(){i({type:"MOVE",direction:"left",step:y})},ArrowRight(){i({type:"MOVE",direction:"right",step:y})},ArrowUp(){i({type:"MOVE",direction:"up",step:y})},ArrowDown(){i({type:"MOVE",direction:"down",step:y})}}[ct(d,{dir:r("dir")})];N&&(d.preventDefault(),N(d))}})},getCloseTriggerProps(){return t.button({...M.closeTrigger.attrs,disabled:r("disabled"),"aria-label":"Close Window",type:"button",onClick(d){d.defaultPrevented||i({type:"CLOSE"})}})},getStageTriggerProps(d){if(!Ie.has(d.stage))throw new Error(`[zag-js] Invalid stage: ${d.stage}. Must be one of: ${Array.from(Ie).join(", ")}`);const y=r("translations"),I=re(d.stage,{minimized:()=>({"aria-label":y.minimize,hidden:R}),maximized:()=>({"aria-label":y.maximize,hidden:R}),default:()=>({"aria-label":y.restore,hidden:!R})});return t.button({...M.stageTrigger.attrs,disabled:r("disabled"),...I,type:"button",onClick(N){if(N.defaultPrevented)return;const p=re(d.stage,{minimized:()=>"MINIMIZE",maximized:()=>"MAXIMIZE",default:()=>"RESTORE"});i({type:p.toUpperCase()})}})},getResizeTriggerProps(d){return t.element({...M.resizeTrigger.attrs,"data-disabled":z(!_),"data-axis":d.axis,onPointerDown(y){_&&me(y)&&(y.currentTarget.setPointerCapture(y.pointerId),y.stopPropagation(),i({type:"RESIZE_START",axis:d.axis,position:{x:y.clientX,y:y.clientY}}))},onPointerUp(y){if(!_)return;const I=y.currentTarget;I.hasPointerCapture(y.pointerId)&&I.releasePointerCapture(y.pointerId)},style:{position:"absolute",touchAction:"none",...qt(d.axis)}})},getDragTriggerProps(){return t.element({...M.dragTrigger.attrs,"data-disabled":z(!$),onPointerDown(d){if(!$||!me(d))return;const y=at(d);y?.closest("button")||y?.closest("[data-no-drag]")||(d.currentTarget.setPointerCapture(d.pointerId),d.stopPropagation(),i({type:"DRAG_START",pointerId:d.pointerId,position:{x:d.clientX,y:d.clientY}}))},onPointerUp(d){if(!$)return;const y=d.currentTarget;y.hasPointerCapture(d.pointerId)&&y.releasePointerCapture(d.pointerId)},onDoubleClick(){i({type:w?"RESTORE":"MAXIMIZE"})},style:{WebkitUserSelect:"none",userSelect:"none",touchAction:"none",cursor:"move"}})},getControlProps(){return t.element({...M.control.attrs,"data-disabled":z(r("disabled")),"data-stage":o.get("stage"),"data-minimized":z(h),"data-maximized":z(w),"data-staged":z(R)})},getTitleProps(){return t.element({...M.title.attrs,id:Ce(s)})},getHeaderProps(){return t.element({...M.header.attrs,id:Ke(s),"data-dragging":z(c),"data-topmost":z(P),"data-behind":z(!P),"data-minimized":z(h),"data-maximized":z(w),"data-staged":z(R)})},getBodyProps(){return t.element({...M.body.attrs,"data-dragging":z(c),"data-minimized":z(h),"data-maximized":z(w),"data-staged":z(R),hidden:h})}}}var X=Ve({stack:[],count(){return this.stack.length},add(e){this.stack.includes(e)||this.stack.push(e)},remove(e){const t=this.stack.indexOf(e);t<0||this.stack.splice(t,1)},bringToFront(e){this.remove(e),this.add(e)},isTopmost(e){return this.stack[this.stack.length-1]===e},indexOf(e){return this.stack.indexOf(e)}}),{not:Ae,and:Qt}=tt(),en={minimize:"Minimize window",maximize:"Maximize window",restore:"Restore window"},tn=et({props({props:e}){return rt(e,["id"],"floating-panel"),{strategy:"fixed",gridSize:1,defaultSize:{width:320,height:240},defaultPosition:{x:300,y:100},allowOverflow:!0,resizable:!0,draggable:!0,...e,hasSpecifiedPosition:!!e.defaultPosition||!!e.position,translations:{...en,...e.translations}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({prop:e,bindable:t}){return{size:t(()=>({defaultValue:e("defaultSize"),value:e("size"),isEqual:Ot,sync:!0,hash(n){return`W:${n.width} H:${n.height}`},onChange(n){e("onSizeChange")?.({size:n})}})),position:t(()=>({defaultValue:e("defaultPosition"),value:e("position"),isEqual:Ct,sync:!0,hash(n){return`X:${n.x} Y:${n.y}`},onChange(n){e("onPositionChange")?.({position:n})}})),stage:t(()=>({defaultValue:"default",onChange(n){e("onStageChange")?.({stage:n})}})),lastEventPosition:t(()=>({defaultValue:null})),prevPosition:t(()=>({defaultValue:null})),prevSize:t(()=>({defaultValue:null})),isTopmost:t(()=>({defaultValue:void 0}))}},computed:{isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isStaged:({context:e})=>e.get("stage")!=="default",canResize:({context:e,prop:t})=>(t("resizable")||!t("disabled"))&&e.get("stage")==="default",canDrag:({prop:e,computed:t})=>(e("draggable")||!e("disabled"))&&!t("isMaximized")},watch({track:e,context:t,action:n,prop:i}){e([()=>t.hash("position")],()=>{n(["setPositionStyle"])}),e([()=>t.hash("size")],()=>{n(["setSizeStyle"])}),e([()=>i("open")],()=>{n(["toggleVisibility"])})},effects:["trackPanelStack"],on:{CONTENT_FOCUS:{actions:["bringToFrontOfPanelStack"]},SET_POSITION:{actions:["setPosition"]},SET_SIZE:{actions:["setSize"]}},states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setAnchorPosition","setPositionStyle","setSizeStyle","focusContentEl"]}]}},open:{tags:["open"],entry:["bringToFrontOfPanelStack"],effects:["trackBoundaryRect"],on:{DRAG_START:{guard:Ae("isMaximized"),target:"open.dragging",actions:["setPrevPosition"]},RESIZE_START:{guard:Ae("isMinimized"),target:"open.resizing",actions:["setPrevSize"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect","focusTriggerEl"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],ESCAPE:[{guard:Qt("isOpenControlled","closeOnEsc"),actions:["invokeOnClose"]},{guard:"closeOnEsc",target:"closed",actions:["invokeOnClose","resetRect","focusTriggerEl"]}],MINIMIZE:{actions:["setMinimized"]},MAXIMIZE:{actions:["setMaximized"]},RESTORE:{actions:["setRestored"]},MOVE:{actions:["setPositionFromKeyboard"]}}},"open.dragging":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevPosition"],on:{DRAG:{actions:["setPosition"]},DRAG_END:{target:"open",actions:["invokeOnDragEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}},"open.resizing":{tags:["open"],effects:["trackPointerMove"],exit:["clearPrevSize"],on:{DRAG:{actions:["setSize"]},DRAG_END:{target:"open",actions:["invokeOnResizeEnd"]},"CONTROLLED.CLOSE":{target:"closed",actions:["resetRect"]},CLOSE:[{guard:"isOpenControlled",target:"closed",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","resetRect"]}],ESCAPE:{target:"open"}}}},implementations:{guards:{closeOnEsc:({prop:e})=>!!e("closeOnEscape"),isMaximized:({context:e})=>e.get("stage")==="maximized",isMinimized:({context:e})=>e.get("stage")==="minimized",isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPointerMove({scope:e,send:t,event:n,prop:i}){const s=e.getDoc(),r=i("getBoundaryEl")?.(),a=F(e,r,!1);return st(s,{onPointerMove({point:o,event:l}){const{altKey:c,shiftKey:u}=l;let P=ye(o.x,a.x,a.x+a.width),b=ye(o.y,a.y,a.y+a.height);t({type:"DRAG",position:{x:P,y:b},axis:n.axis,altKey:c,shiftKey:u})},onPointerUp(){t({type:"DRAG_END"})}})},trackBoundaryRect({context:e,scope:t,prop:n,computed:i}){const s=t.getWin();let r=!0;const a=()=>{if(r){r=!1;return}const l=n("getBoundaryEl")?.();let c=F(t,l,!1);if(!i("isMaximized")){const u={...e.get("position"),...e.get("size")};c=Tt(u,c)}e.set("size",D(c,["width","height"])),e.set("position",D(c,["x","y"]))},o=n("getBoundaryEl")?.();if(Ue(o)){const l=new s.ResizeObserver(a);return l.observe(o),()=>l.disconnect()}return it(s,"resize",a)},trackPanelStack({context:e,scope:t}){const n=Kt(X,()=>{e.set("isTopmost",X.isTopmost(t.id));const i=ke(t);if(!i)return;const s=X.indexOf(t.id);s!==-1&&i.style.setProperty("--z-index",`${s+1}`)});return()=>{X.remove(t.id),n()}}},actions:{setAnchorPosition({context:e,prop:t,scope:n}){if(t("hasSpecifiedPosition"))return;const i=e.get("prevPosition")||e.get("prevSize");t("persistRect")&&i||ie(()=>{const s=Re(n),r=F(n,t("getBoundaryEl")?.(),!1);let a=t("getAnchorPosition")?.({triggerRect:s?DOMRect.fromRect(Be(s)):null,boundaryRect:DOMRect.fromRect(r)});if(!a){const o=e.get("size");a={x:r.x+(r.width-o.width)/2,y:r.y+(r.height-o.height)/2}}a&&e.set("position",a)})},setPrevPosition({context:e,event:t}){e.set("prevPosition",{...e.get("position")}),e.set("lastEventPosition",t.position)},clearPrevPosition({context:e,prop:t}){t("persistRect")||e.set("prevPosition",null),e.set("lastEventPosition",null)},setPosition({context:e,event:t,prop:n,scope:i}){let s=be(t.position,e.get("lastEventPosition"));s.x=Math.round(s.x/n("gridSize"))*n("gridSize"),s.y=Math.round(s.y/n("gridSize"))*n("gridSize");const r=e.get("prevPosition");if(!r)return;let a=Et(r,s);const o=n("getBoundaryEl")?.(),l=F(i,o,n("allowOverflow"));a=H(a,e.get("size"),l),e.set("position",a)},setPositionStyle({scope:e,context:t}){const n=Me(e),i=t.get("position");n?.style.setProperty("--x",`${i.x}px`),n?.style.setProperty("--y",`${i.y}px`)},resetRect({context:e,prop:t}){e.set("stage","default"),t("persistRect")||(e.set("position",e.initial("position")),e.set("size",e.initial("size")))},setPrevSize({context:e,event:t}){e.set("prevSize",{...e.get("size")}),e.set("prevPosition",{...e.get("position")}),e.set("lastEventPosition",t.position)},clearPrevSize({context:e}){e.set("prevSize",null),e.set("prevPosition",null),e.set("lastEventPosition",null)},setSize({context:e,event:t,scope:n,prop:i}){const s=e.get("prevSize"),r=e.get("prevPosition"),a=e.get("lastEventPosition");if(!s||!r||!a)return;const o=te({...r,...s}),l=be(t.position,a),c=Ft(o,l,t.axis,{scalingOriginMode:t.altKey?"center":"extent",lockAspectRatio:!!i("lockAspectRatio")||t.shiftKey});let u=D(c,["width","height"]),P=D(c,["x","y"]);const b=i("getBoundaryEl")?.(),x=F(n,b,!1);if(u=G(u,i("minSize"),i("maxSize")),u=G(u,i("minSize"),x),e.set("size",u),P){const w=H(P,u,x);e.set("position",w)}},setSizeStyle({scope:e,context:t}){queueMicrotask(()=>{const n=Me(e),i=t.get("size");n?.style.setProperty("--width",`${i.width}px`),n?.style.setProperty("--height",`${i.height}px`)})},setMaximized({context:e,prop:t,scope:n}){e.set("stage","maximized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));const i=t("getBoundaryEl")?.(),s=F(n,i,!1);e.set("position",D(s,["x","y"])),e.set("size",D(s,["height","width"]))},setMinimized({context:e,scope:t}){e.set("stage","minimized"),e.set("prevSize",e.get("size")),e.set("prevPosition",e.get("position"));const n=Gt(t);if(!n)return;const i={...e.get("size"),height:n?.offsetHeight};e.set("size",i)},setRestored({context:e,prop:t,scope:n}){const i=F(n,t("getBoundaryEl")?.(),!1);e.set("stage","default");const s=e.get("prevSize");if(s){let r=s;r=G(r,t("minSize"),t("maxSize")),r=G(r,t("minSize"),i),e.set("size",r),e.set("prevSize",null)}if(e.get("prevPosition")){let r=e.get("prevPosition");r=H(r,e.get("size"),i),e.set("position",r),e.set("prevPosition",null)}},setPositionFromKeyboard({context:e,event:t,prop:n,scope:i}){nt(t.step==null,"step is required");const s=e.get("position"),r=t.step;let a=re(t.direction,{left:{x:s.x-r,y:s.y},right:{x:s.x+r,y:s.y},up:{x:s.x,y:s.y-r},down:{x:s.x,y:s.y+r}});const o=n("getBoundaryEl")?.(),l=F(i,o,!1);a=H(a,e.get("size"),l),e.set("position",a)},bringToFrontOfPanelStack({prop:e}){X.bringToFront(e("id"))},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},invokeOnDragEnd({context:e,prop:t}){t("onPositionChangeEnd")?.({position:e.get("position")})},invokeOnResizeEnd({context:e,prop:t}){t("onSizeChangeEnd")?.({size:e.get("size")})},focusTriggerEl({scope:e}){ie(()=>{Re(e)?.focus()})},focusContentEl({scope:e}){ie(()=>{ke(e)?.focus()})},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}});We()(["allowOverflow","closeOnEscape","defaultOpen","defaultPosition","defaultSize","dir","disabled","draggable","getAnchorPosition","getBoundaryEl","getRootNode","gridSize","id","ids","lockAspectRatio","maxSize","minSize","onOpenChange","onPositionChange","onPositionChangeEnd","onSizeChange","onSizeChangeEnd","onStageChange","open","persistRect","position","resizable","size","strategy","translations"]);We()(["axis"]);var[Ye,C]=gt({hookName:"useFloatingPanelContext",providerName:"<FloatingPanelProvider />"}),nn=e=>{const t=C(),n=O(()=>t().getBodyProps(),e);return g(k.div,n)},sn=e=>{const t=C(),n=O(()=>t().getCloseTriggerProps(),e);return g(k.button,n)},rn=e=>{const t=C(),n=ce(),i=O(()=>t().getContentProps(),()=>n().presenceProps,e);return n().unmounted?null:g(k.div,i)},on=e=>e.children(C()),an=e=>{const t=C(),n=O(()=>t().getDragTriggerProps(),e);return g(k.div,n)},ln=e=>{const t=C(),n=O(()=>t().getHeaderProps(),e);return g(k.div,n)},dn=e=>{const t=C(),n=O(()=>t().getPositionerProps(),e);return ce()().unmounted?null:g(k.div,n)},cn=e=>{const[t,n]=ee()(e,["axis"]),i=C(),s=O(()=>i().getResizeTriggerProps(t),n);return g(k.div,s)},gn=e=>{const[t,n]=ee()(e,["stage"]),i=C(),s=O(()=>i().getStageTriggerProps(t),n);return g(k.button,s)},un=(e={})=>{const t=ht(),n=pt(),i=He(),s=he(()=>({id:i,dir:n().dir,getRootNode:t().getRootNode,...mt(e)})),r=yt(tn,s);return he(()=>Jt(r,ft))},hn=e=>{const[t,n]=De(e),[i,s]=ee()(n,["allowOverflow","closeOnEscape","defaultOpen","defaultPosition","defaultSize","dir","disabled","draggable","getAnchorPosition","getBoundaryEl","gridSize","id","ids","lockAspectRatio","maxSize","minSize","onOpenChange","onPositionChange","onPositionChangeEnd","onSizeChange","onSizeChangeEnd","onStageChange","open","persistRect","position","resizable","size","strategy","translations"]),r=un(i),a=O(()=>({present:r().open}),t),o=Le(a);return g(Ye,{value:r,get children(){return g(Ne,{value:o,get children(){return s.children}})}})},pn=e=>{const[t,n]=De(e),[i,s]=ee()(n,["value"]),r=Le(O(()=>({present:i.value().open}),t));return g(Ye,{get value(){return i.value},get children(){return g(Ne,{value:r,get children(){return s.children}})}})},mn=e=>{const t=C(),n=O(()=>t().getTitleProps(),e);return g(k.h2,n)},yn=e=>{const t=C(),n=ce(),i=O(()=>{const s=t().getTriggerProps();return{...s,"aria-controls":n().unmounted?void 0:s["aria-controls"]}},e);return g(k.button,i)},fn=e=>{const t=C(),n=O(()=>t().getControlProps(),e);return g(k.div,n)},E={};ut(E,{Body:()=>nn,CloseTrigger:()=>sn,Content:()=>rn,Context:()=>on,Control:()=>fn,DragTrigger:()=>an,Header:()=>ln,Positioner:()=>dn,ResizeTrigger:()=>cn,Root:()=>hn,RootProvider:()=>pn,StageTrigger:()=>gn,Title:()=>mn,Trigger:()=>yn});var Pn=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],bn=e=>g(je,Q(e,{iconNode:Pn,name:"maximize-2"})),zn=bn,vn=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Sn=e=>g(je,Q(e,{iconNode:vn,name:"arrow-down-left"})),wn=Sn,xn=Fe("<div><h3>"),En=Fe("<div>");function _e(e){e=Q({defaultSize:{height:240,width:320},minSize:{height:180,width:280},maxSize:{height:400,width:500},slots:{}},e);const[t,n]=Ge(e,["slots","class","title","children"]);return g(E.Root,Q({get class(){return S([t.slots.root,t.class])}},n,{"bool:n$":!1,get children(){return g(qe,{get children(){return g(E.Positioner,{get class(){return S(["fixed",t.slots.positioner])},get children(){return g(E.Content,{get class(){return S(["bg-background border border-border rounded-lg shadow-lg data-[stage=maximized]:rounded-none",t.slots.content])},get children(){return[g(E.DragTrigger,{get children(){return g(E.Header,{get class(){return S(["flex items-center justify-between p-4 border-b border-border rounded-t-lg",t.slots.header])},get children(){return[(()=>{var i=xn(),s=i.firstChild;return W(i,g(Pt,{get class(){return S(["w-4 h-4 text-accent",t.slots.grip])}}),s),W(s,()=>t.title),pe(r=>{var a=S(["flex items-center gap-2",t.slots.gripContainer]),o=S(["text-sm font-medium text-muted-foreground",t.slots.title]);return a!==r.e&&ne(i,r.e=a),o!==r.t&&ne(s,r.t=o),r},{e:void 0,t:void 0}),i})(),(()=>{var i=En();return W(i,g(E.StageTrigger,{get class(){return S(["w-6 h-6 flex items-center justify-center text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",t.slots.minimizeTrigger])},stage:"minimized",get children(){return g(bt,{get class(){return S(["size-3",t.slots.minus])}})}}),null),W(i,g(E.StageTrigger,{get class(){return S(["w-6 h-6 flex items-center justify-center text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",t.slots.minimizeTrigger])},stage:"maximized",get children(){return g(zn,{get class(){return S(["size-3",t.slots.minus])}})}}),null),W(i,g(E.StageTrigger,{stage:"default",get class(){return S(["w-6 h-6 flex items-center justify-center text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",t.slots.minimizeTrigger])},get children(){return g(wn,{get class(){return S(["size-3",t.slots.minus])}})}}),null),W(i,g(E.CloseTrigger,{get class(){return S(["w-6 h-6 flex items-center justify-center text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",t.slots.closeTrigger])},get children(){return g(zt,{get class(){return S(["size-3",t.slots.x])}})}}),null),pe(()=>ne(i,S(["flex items-center gap-1",t.slots.actionContainer]))),i})()]}})}}),g(E.Body,{get class(){return S(["p-4",t.slots.body])},get children(){return t.children}}),g(E.ResizeTrigger,{axis:"e",class:"size-[6px]"}),g(E.ResizeTrigger,{axis:"s",class:"size-[6px]"}),g(E.ResizeTrigger,{axis:"se",class:"size-[6px]"})]}})}})}})}}))}const{fn:j}=__STORYBOOK_MODULE_TEST__,Tn={args:{onOpenChange:j(),onPositionChange:j(),onPositionChangeEnd:j(),onSizeChange:j(),onSizeChangeEnd:j(),onStageChange:j()},argTypes:{slots:{control:{type:"object"},table:{type:{summary:"Slots",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/Components/FloatingPanel.fs"}}},allowOverflow:{control:{type:"boolean"},description:"Whether the panel should be strictly contained within the boundary when dragging",table:{type:{summary:"bool"}}},closeOnEscape:{control:{type:"boolean"},description:"Whether the panel should close when the escape key is pressed",table:{type:{summary:"bool"}}},defaultOpen:{control:{type:"boolean"},description:`The initial open state of the panel when rendered.
 Use when you don't need to control the open state of the panel.`,table:{type:{summary:"bool"}}},defaultPosition:{control:{type:"object"},description:`The initial position of the panel when rendered.
 Use when you don't need to control the position of the panel.`,table:{type:{summary:"any"}}},defaultSize:{control:{type:"object"},description:"The default size of the panel",table:{type:{summary:"Size",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/fable_modules/Partas.Solid.Zag.0.1.3/FloatingPanel.fs"}}},disabled:{control:{type:"boolean"},description:"Whether the panel is disabled",table:{type:{summary:"bool"}}},draggable:{control:{type:"boolean"},description:"Whether the panel is draggable",table:{type:{summary:"bool"}}},getAnchorPosition:{control:{type:!1},description:`Function that returns the initial position of the panel when it is opened.
 If provided, will be used instead of the default position.`,table:{type:{summary:"function"}}},getBoundaryEl:{control:{type:!1},description:`The boundary of the panel. Useful for recalculating the boundary rect when
 the it is resized.`,table:{type:{summary:"function"}}},gridSize:{control:{type:"number"},description:"The snap grid for the panel",table:{type:{summary:"float64"}}},ids:{control:{type:"object"},description:"The ids of the elements in the floating panel. Useful for composition.",table:{type:{summary:"ElementIds",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/fable_modules/Partas.Solid.Zag.0.1.3/FloatingPanel.fs"}}},immediate:{control:{type:"boolean"},table:{type:{summary:"bool"}}},lazyMount:{control:{type:"boolean"},table:{type:{summary:"bool"}}},lockAspectRatio:{control:{type:"boolean"},description:"Whether the panel is locked to its aspect ratio",table:{type:{summary:"bool"}}},maxSize:{control:{type:"object"},description:"The maximum size of the panel",table:{type:{summary:"Size",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/fable_modules/Partas.Solid.Zag.0.1.3/FloatingPanel.fs"}}},minSize:{control:{type:"object"},description:"The minimum size of the panel",table:{type:{summary:"Size",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/fable_modules/Partas.Solid.Zag.0.1.3/FloatingPanel.fs"}}},onOpenChange:{control:{type:!1},description:"Function called when the panel is opened or closed",table:{type:{summary:"function"}}},onPositionChange:{control:{type:!1},description:"Function called when the position of the panel changes via dragging",table:{type:{summary:"function"}}},onPositionChangeEnd:{control:{type:!1},description:"Function called when the position of the panel changes via dragging ends",table:{type:{summary:"function"}}},onSizeChange:{control:{type:!1},description:"Function called when the size of the panel changes via resizing",table:{type:{summary:"function"}}},onSizeChangeEnd:{control:{type:!1},description:"Function called when the size of the panel changes via resizing ends",table:{type:{summary:"function"}}},onStageChange:{control:{type:!1},description:"Function called when the stage of the panel changes",table:{type:{summary:"function"}}},open:{control:{type:"boolean"},description:"The controlled open state of the panel",table:{type:{summary:"bool"}}},persistRect:{control:{type:"boolean"},description:"Whether the panel size and position should be preserved when it is closed",table:{type:{summary:"bool"}}},position:{control:{type:"object"},description:"The controlled position of the panel",table:{type:{summary:"any"}}},present:{control:{type:"boolean"},table:{type:{summary:"bool"}}},resizable:{control:{type:"boolean"},description:"Whether the panel is resizable",table:{type:{summary:"bool"}}},size:{control:{type:"object"},description:"The size of the panel",table:{type:{summary:"Size",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/fable_modules/Partas.Solid.Zag.0.1.3/FloatingPanel.fs"}}},skipAnimationOnMount:{control:{type:"boolean"},table:{type:{summary:"bool"}}},strategy:{control:{type:"text"},description:"The strategy to use for positioning",table:{type:{summary:"string"}}},translations:{control:{type:"object"},description:"The translations for the floating panel.",table:{type:{summary:"IntlTranslations",detail:"C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/fable_modules/Partas.Solid.Zag.0.1.3/FloatingPanel.fs"}}},unmountOnExit:{control:{type:"boolean"},table:{type:{summary:"bool"}}}},render:e=>{const t=Je(!1),n=t[1];return[g(Qe,{onClick:i=>{n(s=>!s)},children:"Click"}),g(_e,{get open(){return t[0]()},onOpenChange:i=>{n(i.open)}})]},component:_e},Z={args:{}};Z.parameters={...Z.parameters,docs:{...Z.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...Z.parameters?.docs?.source}}};const On=["Default"],Ln=Object.freeze(Object.defineProperty({__proto__:null,Default:Z,__namedExportsOrder:On,default:Tn},Symbol.toStringTag,{value:"Module"}));export{Z as D,Ln as S};
