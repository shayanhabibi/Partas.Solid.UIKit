import{s as v,e as x,c as m,m as y,d as R,a as w,o as j,f as I,S as U,g as V,u as q,h as B,b as F,j as N}from"./iframe-BLvaHOrW.js";import{T as X}from"./XTJD7L6B-CHFuNE8o.js";import{a as Y,c as Z,b as G}from"./QZDH5R5B-B67Wfj3u.js";import{a as J,c as Q}from"./SOM3K36D-D7dngB5C.js";import{u as E}from"./LR7LBJN3-DXU4Tgxl.js";import{b as ee}from"./FN6EICGO-DozerlcD.js";import{P as K}from"./FLVHQV4A-ByRBKILc.js";import{_ as te}from"./5WXHJDCZ-DghNgBBa.js";import{m as z,h as S,B as oe,f as ne,n as ae}from"./index-TpYiyspx.js";import{s as se}from"./index-D5LuZuuz.js";import{c as re}from"./index-sj_SDyUt.js";import{m as P}from"./index-BbcR3rHk.js";import{a as O}from"./index-C2xVdcqa.js";import{c as ie}from"./combineProps-TuyxsfEg.js";import{L as M}from"./Utils-BEjpZvS7.js";var le={};te(le,{Content:()=>A,Indicator:()=>L,List:()=>_,Root:()=>k,Tabs:()=>de,Trigger:()=>$,useTabsContext:()=>D});var H=V();function D(){const a=q(H);if(a===void 0)throw new Error("[kobalte]: `useTabsContext` must be used within a `Tabs` component");return a}function A(a){const[e,t]=w(),s=D(),[o,p]=v(a,["ref","id","value","forceMount"]),[f,d]=w(0),l=()=>o.id??s.generateContentId(o.value),i=()=>s.listState().selectedKey()===o.value,{present:n}=se({show:()=>o.forceMount||i(),element:()=>e()??null});return x(I([()=>e(),()=>n()],([u,r])=>{if(u==null||!r)return;const c=()=>{const b=ae(u,{tabbable:!0});d(b.nextNode()?void 0:0)};c();const h=new MutationObserver(c);h.observe(u,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabindex","disabled"]}),N(()=>{h.disconnect()})})),x(I([()=>o.value,l],([u,r])=>{s.contentIdsMap().set(u,r)})),m(U,{get when(){return n()},get children(){return m(K,y({as:"div",ref(u){var r=P(t,o.ref);typeof r=="function"&&r(u)},get id(){return l()},role:"tabpanel",get tabIndex(){return f()},get"aria-labelledby"(){return s.triggerIdsMap().get(o.value)},get"data-orientation"(){return s.orientation()},get"data-selected"(){return i()?"":void 0}},p))}})}function L(a){const e=D(),[t,s]=v(a,["style"]),[o,p]=w({width:void 0,height:void 0}),{direction:f}=E(),d=()=>{const r=e.selectedTab();if(r==null)return;const c={transform:void 0,width:void 0,height:void 0},h=f()==="rtl"?-1*(r.offsetParent?.offsetWidth-r.offsetWidth-r.offsetLeft):r.offsetLeft;c.transform=e.orientation()==="vertical"?`translateY(${r.offsetTop}px)`:`translateX(${h}px)`,e.orientation()==="horizontal"?c.width=`${r.offsetWidth}px`:c.height=`${r.offsetHeight}px`,p(c)};j(()=>{queueMicrotask(()=>{d()})}),x(I([e.selectedTab,e.orientation,f],()=>{d()},{defer:!0}));const[l,i]=w(!1);let n=null,u=null;return re(e.selectedTab,(r,c)=>{if(u!==c){u=c;return}i(!0),n&&clearTimeout(n),n=setTimeout(()=>{n=null,i(!1)},1),d()}),m(K,y({as:"div",role:"presentation",get style(){return ie(o(),t.style)},get"data-orientation"(){return e.orientation()},get"data-resizing"(){return l()}},s))}function _(a){let e;const t=D(),[s,o]=v(a,["ref","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),{direction:p}=E(),f=new X(()=>t.listState().collection(),p,t.orientation),d=Z({selectionManager:()=>t.listState().selectionManager(),keyboardDelegate:()=>f,selectOnFocus:()=>t.activationMode()==="automatic",shouldFocusWrap:!1,disallowEmptySelection:!0},()=>e);return x(()=>{if(e==null)return;const l=e.querySelector(`[data-key="${t.listState().selectedKey()}"]`);l!=null&&t.setSelectedTab(l)}),m(K,y({as:"div",ref(l){var i=P(n=>e=n,s.ref);typeof i=="function"&&i(l)},role:"tablist",get"aria-orientation"(){return t.orientation()},get"data-orientation"(){return t.orientation()},get onKeyDown(){return S([s.onKeyDown,d.onKeyDown])},get onMouseDown(){return S([s.onMouseDown,d.onMouseDown])},get onFocusIn(){return S([s.onFocusIn,d.onFocusIn])},get onFocusOut(){return S([s.onFocusOut,d.onFocusOut])}},o))}function ce(a){const[e,t]=ee({value:()=>O(a.selectedKey),defaultValue:()=>O(a.defaultSelectedKey),onChange:i=>a.onSelectionChange?.(i)}),s=F(()=>{const i=e();return i!=null?[i]:[]}),[,o]=v(a,["onSelectionChange"]),p=y(o,{selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:i=>{const n=i.values().next().value;n===e()&&a.onSelectionChange?.(n),t(n)}}),{collection:f,selectionManager:d}=G(p),l=F(()=>{const i=e();return i!=null?f().getItem(i):void 0});return{collection:f,selectionManager:d,selectedKey:e,setSelectedKey:t,selectedItem:l}}function k(a){const e=`tabs-${B()}`,t=z({id:e,orientation:"horizontal",activationMode:"automatic"},a),[s,o]=v(t,["value","defaultValue","onChange","orientation","activationMode","disabled"]),[p,f]=w([]),[d,l]=w(),{DomCollectionProvider:i}=Q({items:p,onItemsChange:f}),n=ce({selectedKey:()=>s.value,defaultSelectedKey:()=>s.defaultValue,onSelectionChange:b=>s.onChange?.(String(b)),dataSource:p});let u=n.selectedKey();x(I([()=>n.selectionManager(),()=>n.collection(),()=>n.selectedKey()],([b,T,W])=>{let g=W;if(b.isEmpty()||g==null||!T.getItem(g)){g=T.getFirstKey();let C=g!=null?T.getItem(g):void 0;for(;C?.disabled&&C.key!==T.getLastKey();)g=T.getKeyAfter(C.key),C=g!=null?T.getItem(g):void 0;C?.disabled&&g===T.getLastKey()&&(g=T.getFirstKey()),g!=null&&b.setSelectedKeys([g])}(b.focusedKey()==null||!b.isFocused()&&g!==u)&&b.setFocusedKey(g),u=g}));const r=new Map,c=new Map,h={isDisabled:()=>s.disabled??!1,orientation:()=>s.orientation,activationMode:()=>s.activationMode,triggerIdsMap:()=>r,contentIdsMap:()=>c,listState:()=>n,selectedTab:d,setSelectedTab:l,generateTriggerId:b=>`${o.id}-trigger-${b}`,generateContentId:b=>`${o.id}-content-${b}`};return m(i,{get children(){return m(H.Provider,{value:h,get children(){return m(K,y({as:"div",get"data-orientation"(){return h.orientation()}},o))}})}})}function $(a){let e;const t=D(),s=z({type:"button"},a),[o,p]=v(s,["ref","id","value","disabled","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),f=()=>o.id??t.generateTriggerId(o.value),d=()=>t.listState().selectionManager().focusedKey()===o.value,l=()=>o.disabled||t.isDisabled(),i=()=>t.contentIdsMap().get(o.value);J({getItem:()=>({ref:()=>e,type:"item",key:o.value,textValue:"",disabled:l()})});const n=Y({key:()=>o.value,selectionManager:()=>t.listState().selectionManager(),disabled:l},()=>e),u=r=>{oe()&&ne(r.currentTarget)};return x(I([()=>o.value,f],([r,c])=>{t.triggerIdsMap().set(r,c)})),m(K,y({as:"button",ref(r){var c=P(h=>e=h,o.ref);typeof c=="function"&&c(r)},get id(){return f()},role:"tab",get tabIndex(){return R(()=>!l())()?n.tabIndex():void 0},get disabled(){return l()},get"aria-selected"(){return n.isSelected()},get"aria-disabled"(){return l()||void 0},get"aria-controls"(){return R(()=>!!n.isSelected())()?i():void 0},get"data-key"(){return n.dataKey()},get"data-orientation"(){return t.orientation()},get"data-selected"(){return n.isSelected()?"":void 0},get"data-highlighted"(){return d()?"":void 0},get"data-disabled"(){return l()?"":void 0},get onPointerDown(){return S([o.onPointerDown,n.onPointerDown])},get onPointerUp(){return S([o.onPointerUp,n.onPointerUp])},get onClick(){return S([o.onClick,n.onClick,u])},get onKeyDown(){return S([o.onKeyDown,n.onKeyDown])},get onMouseDown(){return S([o.onMouseDown,n.onMouseDown])},get onFocus(){return S([o.onFocus,n.onFocus])}},p))}var de=Object.assign(k,{Content:A,Indicator:L,List:_,Trigger:$});function Ke(a){const[e,t]=v(a,["class"]);return m(k,y({get class(){return M(["flex flex-col gap-2",e.class])},"data-slot":"tabs"},t,{"bool:n$":!1}))}function Me(a){const[e,t]=v(a,["class"]);return m(_,y({get class(){return M(["bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e.class])},"data-slot":"tabs-list"},t,{"bool:n$":!1}))}function De(a){const[e,t]=v(a,["class"]);return m($,y({get class(){return M([`data-[selected]:bg-background dark:data-[selected]:text-foreground focus-visible:input-focus-border dark:data-[selected]:border-input dark:data-[selected]:bg-input/30 data-[selected]:text-foreground text-muted-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md input-border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap\r
            transition-[color,box-shadow] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[selected]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,e.class])},"data-slot":"tabe-trigger"},t,{"bool:n$":!1}))}function Pe(a){const[e,t]=v(a,["class"]);return m(A,y({get class(){return M(["flex-1 outline-none transition-[color,box-shadow] focus-visible:input-focus-border",e.class])},"data-slot":"tabs-content"},t,{"bool:n$":!1}))}function Ae(a){const[e,t]=v(a,["class"]);return m(L,y({get class(){return M([`duration-250ms absolute transition-all data-[orientation=horizontal]:-bottom-px\r
            data-[orientation=vertical]:-right-px data-[orientation=horizontal]:h-[2px]\r
            data-[orientation=vertical]:w-[2px]`,e.class])},"data-slot":"tabs-indicator"},t,{"bool:n$":!1}))}export{Ke as T,Me as a,De as b,Pe as c,$ as d,Ae as e};
