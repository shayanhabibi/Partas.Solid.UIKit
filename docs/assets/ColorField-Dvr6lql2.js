import{s as C,b as x,a as w,c as a,m as g,g as L,h as R,V as F,u as $,e as V,d as v,t as D,i as _,l as E,w as I}from"./iframe-Ss2HFUgg.js";import{d as B}from"./Option-B9lMbA8r.js";import{p as T,C as O}from"./ColorSwatch-DdTdEsf2.js";import{b as k,a as H}from"./MKJEDDFV-Dmc8wFMP.js";import{d as S,e as M,f as W}from"./ZZYKR3VO-B31dcm3B.js";import{b as j}from"./FN6EICGO-DOeDID0N.js";import{m as q,h as z}from"./index-DsOqkTmx.js";import{L as f}from"./Utils-Bv7TLaDt.js";var y=L();function N(){const t=$(y);if(t===void 0)throw new Error("[kobalte]: `useColorFieldContext` must be used within a `ColorField` component");return t}function A(t){const e=N(),[s,l]=C(t,["onBlur"]);return a(H,g({autoComplete:"off",autoCorrect:"off",spellCheck:"false",get onBlur(){return z([s.onBlur,e.onBlur])}},l))}function P(t){const e=`colorfield-${R()}`,s=q({id:e},t),[l,p]=C(s,["value","defaultValue","onChange"]),c=x(()=>{let r=l.defaultValue;try{r=T(r?.startsWith("#")?r:`#${r}`).toString("hex")}catch{r=""}return r}),[n,u]=j({value:()=>l.value,defaultValue:c,onChange:r=>l.onChange?.(r)}),[d,h]=w(n()),i=r=>{U(r)&&u(r)},m={onBlur:r=>{if(!n().length){h("");return}let b;try{b=T(n().startsWith("#")?n():`#${n()}`).toString("hex")}catch{d()?u(d()):u("");return}F(()=>{u(b),h(b)})}};return a(y.Provider,{value:m,get children(){return a(k,g({get value(){return n()},get defaultValue(){return c()},onChange:i},p))}})}function U(t){return t===""||!!t.match(/^#?[0-9a-f]{0,6}$/i)?.[0]}Object.assign(P,{Description:W,ErrorMessage:M,Input:A,Label:S});var Z=D("<div>");function G(t){const e=B(t,"label");return"text-sm font-medium leading-none peer-disabled:cursor-not-allowedpeer-disabled:opacity-70 group-disabled:opacity-70group-disabled:cursor-not-allowed "+(e==="error"?"text-xs text-destructive":e==="label"?"data-[invalid]:text-destructive":"font-normal text-muted-foreground")}function J(t){const[e,s]=C(t,["class"]);return a(S,g({get class(){return f([G("label"),e.class])}},s,{"bool:n$":!1}))}function ne(t){t=g({swatchType:"left",slots:{}},t);const[e,s]=C(t,["value","onChange","onColorChange","color","class","slots","label","swatchType"]),l=w(void 0),p=l[1],c=x(()=>e.value?e.value:l[0]()),n=o=>{e.onChange?e.onChange(o):p(o)},u=w(void 0),d=u[1],h=x(()=>e.onColorChange?o=>{F(()=>{d(o),e.onColorChange(o)})}:d),i=()=>e.color?e.color:u[0]();return V(()=>{i()&&c()&&n(i().toString("hexa"))}),V(()=>{try{h()(T(c()))}catch{}}),a(P,g({get class(){return f(["group flex flex-col gap-1",e.class,e.slots.root])},onChange:o=>{F(()=>{p(o),n(o)})},get value(){return c()}},s,{"bool:n$":!1,get children(){return[v(()=>v(()=>!!e.label)()?a(J,{get class(){return e.slots.label},get children(){return e.label}}):void 0),(()=>{var o=Z();return _(o,(()=>{var m=v(()=>!!(i()&&e.swatchType!=="none"));return()=>m()?a(O,{get value(){return i()},get class(){return f(["place-self-center",e.slots.root])}}):void 0})(),null),_(o,a(A,{get class(){return f(["grow size-full outline-none pl-1",e.slots.input])}}),null),E(()=>I(o,f(["flex h-10 w-full rounded-md border border-input bg-transparent px-2 py-2 text-sm ring-offset-background placeholder:text-muted-foreground has-focus-visible:outline-none has-focus-visible:ring-2 has-focus-visible:ring-ring has-focus-visible:ring-offset-2 has-disabled:cursor-not-allowed has-disabled:opacity-50 has-data-[invalid]:border-error-foreground has-data-[invalid]:text-error-foreground",e.swatchType==="left"?i()?"flex-row pl-1":"flex-row":e.swatchType==="none"?"":"flex-row-reverse pr-1",e.slots.input]))),o})()]}}))}export{ne as C};
