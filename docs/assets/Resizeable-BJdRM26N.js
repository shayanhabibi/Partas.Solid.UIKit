import{m as K,h as Ue,s as X,a as _,b as U,e as Q,f as Be,c as p,d as Ge,S as se,t as ue,v as T,l as xe,k as j,g as ze,u as fe,j as Re,V as ge,i as je}from"./iframe-BHVPMPJn.js";import{d as ne,D as Se,c as We,s as Xe,a as be,o as Ee,i as Ae,u as he}from"./size-Bch4e9pt.js";import{c as ve,a as N,s as Ye}from"./GZJAOTUE-Cj1OtU2l.js";import{m as me,s as qe}from"./U42ECMND-BDjyePcW.js";import{L as Me}from"./Utils-CAhjhIiz.js";import{g as Ze}from"./grip-vertical-CZ3Vcsa2.js";var Je=ue('<div data-corvu-resizable-handle-start-intersection style="aspect-ratio:1 / 1;z-index:1">'),Qe=ue('<div data-corvu-resizable-handle-end-intersection style="aspect-ratio:1 / 1;z-index:1">'),He=ze(),et=e=>e===void 0?He:be(`resizable-${e}`),tt=e=>{if(e===void 0){const t=fe(He);if(!t)throw new Error("[corvu]: Resizable context not found. Make sure to wrap Resizable components in <Resizable.Root>");return t}const n=he(`resizable-${e}`);if(!n)throw new Error(`[corvu]: Resizable context with id "${e}" not found. Make sure to wrap Resizable components in <Resizable.Root contextId="${e}">`);return n},ke=ze(),nt=e=>e===void 0?ke:be(`resizable-internal-${e}`),pe=e=>{if(e===void 0){const t=fe(ke);if(!t)throw new Error("[corvu]: Resizable context not found. Make sure to wrap Resizable components in <Resizable.Root>");return t}const n=he(`resizable-internal-${e}`);if(!n)throw new Error(`[corvu]: Resizable context with id "${e}" not found. Make sure to wrap Resizable components in <Resizable.Root contextId="${e}">`);return n},h=(e,n)=>{if(typeof e=="number")return e;if(!e.endsWith("px"))throw new Error(`[corvu] Sizes must be a number or a string ending with 'px'. Got ${e}`);return M(parseFloat(e)/n)},ee=e=>{const n=e.panels.filter(i=>!!(e.focusedElement.compareDocumentPosition(i.data.element)&Node.DOCUMENT_POSITION_PRECEDING)),t=e.panels.filter(i=>!!(e.focusedElement.compareDocumentPosition(i.data.element)&Node.DOCUMENT_POSITION_FOLLOWING));return[n,t]},it=6,M=e=>parseFloat(e.toFixed(it)),ce=null,F=null,A=0,at={1:"e-resize",2:"w-resize",3:"ew-resize",4:"s-resize",8:"n-resize",12:"ns-resize",5:"se-resize",9:"ne-resize",6:"sw-resize",10:"nw-resize"},le=null,Pe=()=>{if(!ce){F&&(le=null,F.remove(),F=null);return}let e=at[A]??null;if(e===null)switch(ce){case"horizontal":e="col-resize";break;case"vertical":e="row-resize";break;case"both":e="move";break}e!==le&&(le=e,F||(F=document.createElement("style"),document.head.appendChild(F)),F.innerHTML=`*{cursor: ${e}!important;}`)},ye=(e,n)=>{switch(e){case"horizontal":n===1?(A|=1,A&=-3):n===2?(A|=2,A&=-2):n===3?A|=3:A&=-4;break;case"vertical":n===1?(A|=4,A&=-9):n===2?(A|=8,A&=-5):n===3?A|=12:A&=-13;break}Pe()},rt=()=>{A=0,Pe()},de=e=>{ce=e,Pe()},De=e=>{if(M(e.distributablePercentage)!==M(e.desiredPercentage)){let n=null;e.betweenCollapse===!0?n=3:e.desiredPercentage<e.distributablePercentage&&e.revertConstraints!==!0||e.desiredPercentage>e.distributablePercentage&&e.revertConstraints===!0?n=1:n=2,ye(e.orientation,n)}else ye(e.orientation,0)},O=[],V=null,Te=null,lt=1,te=(e,n)=>Math.abs(e-n)<=lt,ot=e=>{O.push(e);for(const n of O)for(const t of O){if(n.orientation===t.orientation||n.element===t.element)continue;const i=n.element.getBoundingClientRect(),a=t.element.getBoundingClientRect();if(n.orientation==="horizontal"&&(i.left>a.right||i.right<a.left)||n.orientation==="vertical"&&(i.top>a.bottom||i.bottom<a.top))continue;const l=n.orientation==="horizontal"?te(i.top,a.bottom):te(i.left,a.right),v=n.orientation==="horizontal"?te(i.bottom,a.top):te(i.right,a.left);l&&n.startIntersection.setHandle(t),v&&n.endIntersection.setHandle(t)}return{onDragStart:(n,t)=>ct(e,n,t),onHoveredChange:n=>{Te=n;const t=!!V;let i=null;ge(()=>{switch(n){case"handle":{const a=e.startIntersection.handle(),l=e.endIntersection.handle();t||(e.setActive(!0),a?.setActive(!1),l?.setActive(!1)),a?.setHoveredAsIntersection(!1),l?.setHoveredAsIntersection(!1),i=e.orientation;break}case"startIntersection":{const a=e.startIntersection.handle();t||a?.setActive(!0),a?.setHoveredAsIntersection(!0),i="both";break}case"endIntersection":{const a=e.endIntersection.handle();t||a?.setActive(!0),a?.setHoveredAsIntersection(!0),i="both";break}case null:{const a=e.startIntersection.handle(),l=e.endIntersection.handle();!t&&!e.focused()&&(e.setActive(!1),a?.setActive(!1),l?.setActive(!1)),a?.setHoveredAsIntersection(!1),l?.setHoveredAsIntersection(!1),i=null;break}}!t&&e.handleCursorStyle()&&de(i)})}}},st=e=>{O.splice(O.indexOf(e),1)},ct=(e,n,t)=>{V={x:n.clientX,y:n.clientY},ge(()=>{e.setDragging(!0),t==="startIntersection"&&e.startIntersection.handle()?.setDragging(!0),t==="endIntersection"&&e.endIntersection.handle()?.setDragging(!0)}),window.addEventListener("pointermove",_e),window.addEventListener("touchmove",Le),window.addEventListener("pointerup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W)},_e=e=>Oe(e.clientX,e.clientY,e.altKey),Le=e=>{e.touches[0]&&Oe(e.touches[0].clientX,e.touches[0].clientY,e.altKey)},Ie=!1,Oe=(e,n,t)=>{if(V){O.some(i=>i.dragging()&&i.altKey==="only")&&(t=!0),O.some(i=>i.dragging()&&i.altKey===!1)&&(t=!1),Ie!==t&&(V={x:e,y:n},Ie=t);for(const i of O)i.dragging()&&i.onDrag(i.orientation==="horizontal"?e-V.x:n-V.y,t)}},W=e=>{ge(()=>{for(const n of O)n.dragging()?(n.setDragging(!1),n.onDragEnd(e),!n.hovered()&&!n.hoveredAsIntersection()&&n.setActive(!1),!Te&&n.handleCursorStyle()&&de(null)):qe(n.hovered,n.focused,n.hoveredAsIntersection)&&(n.setActive(!0),n.handleCursorStyle()&&de(n.orientation))}),rt(),V=null,window.removeEventListener("pointermove",_e),window.removeEventListener("touchmove",Le),window.removeEventListener("pointerup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W)},dt=e=>{const n=K({startIntersection:!0,endIntersection:!0,altKey:!0},e),[t,i]=X(n,["startIntersection","endIntersection","altKey","onHandleDragStart","onHandleDrag","onHandleDragEnd","contextId","ref","style","disabled","children","onMouseEnter","onMouseLeave","onKeyDown","onKeyUp","onFocus","onBlur","onPointerDown"]),[a,l]=_(null),[v,y]=_(!1),[o,d]=_(null),[I,x]=_(!1),[E,b]=_(!1),[C,R]=_(!1),[L,H]=_(null),[S,D]=_(null),g=U(()=>pe(t.contextId)),B=U(()=>{const r=a();if(!r)return;const s=g().panels(),[c,m]=ee({panels:s,focusedElement:r}),P=c[c.length-1]?.data.id,Y=m.reduce((Z,J)=>Z-h(J.data.minSize,g().rootSize()),1),$=c.reduce((Z,J)=>Z+h(J.data.minSize,g().rootSize()),0),q=c.reduce((Z,J)=>Z+h(J.size(),g().rootSize()),0);return{ariaControls:P,ariaValueMax:M(Y),ariaValueMin:M($),ariaValueNow:M(q)}});let G=null;return Q(()=>{if(t.disabled===!0)return;const r=a();if(!r)return;const s={element:r,orientation:g().orientation(),handleCursorStyle:g().handleCursorStyle,altKey:t.altKey,startIntersection:{handle:L,setHandle:c=>{t.startIntersection===!0&&H(c)}},endIntersection:{handle:S,setHandle:c=>{t.endIntersection===!0&&D(c)}},hovered:o,focused:I,hoveredAsIntersection:v,setHoveredAsIntersection:y,active:E,setActive:b,dragging:C,setDragging:R,onDrag:(c,m)=>{if(t.onHandleDrag!==void 0){const P=new CustomEvent("drag",{cancelable:!0});if(t.onHandleDrag(P),P.defaultPrevented)return}g().onDrag(r,c,m)},onDragEnd:c=>{t.onHandleDragEnd?.(c),g().onDragEnd()}};G=ot(s),Re(()=>{st(s),G=null})}),Q(Be(o,()=>{G?.onHoveredChange(o())})),p(Se,K({as:"button",ref(r){var s=me(l,t.ref);typeof s=="function"&&s(r)},get style(){return ve({position:"relative",cursor:g().handleCursorStyle()?"inherit":void 0,"touch-action":"none","flex-shrink":0},t.style)},get disabled(){return t.disabled},onBlur:r=>{N(t.onBlur,r)||(x(!1),!o()&&b(!1))},onFocus:r=>{N(t.onFocus,r)||o()||(x(!0),b(!0))},onKeyDown:r=>{if(N(t.onKeyDown,r)||C())return;const s=a();if(!s)return;const c=t.altKey==="only"||t.altKey!==!1&&r.altKey;g().onKeyDown(s,r,c)},onKeyUp:r=>{N(t.onKeyUp,r)||r.key!=="Tab"||x(!0)},onMouseEnter:r=>{N(t.onMouseEnter,r)||t.disabled===!0||d("handle")},onMouseLeave:r=>{N(t.onMouseLeave,r)||d(null)},onPointerDown:r=>{if(N(t.onPointerDown,r)||N(t.onHandleDragStart,r))return;const s=r.target;s.setPointerCapture(r.pointerId);let c="handle";s.hasAttribute("data-corvu-resizable-handle-start-intersection")&&(c="startIntersection"),s.hasAttribute("data-corvu-resizable-handle-end-intersection")&&(c="endIntersection"),G?.onDragStart(r,c)},role:"separator",get"aria-controls"(){return B()?.ariaControls},get"aria-orientation"(){return g().orientation()},get"aria-valuemax"(){return B()?.ariaValueMax},get"aria-valuemin"(){return B()?.ariaValueMin},get"aria-valuenow"(){return B()?.ariaValueNow},get"data-active"(){return ne(E())},get"data-dragging"(){return ne(C())},get"data-orientation"(){return g().orientation()},"data-corvu-resizable-handle":""},i,{get children(){return[p(se,{get when(){return L()},get children(){var r=Je();return r.addEventListener("mouseleave",s=>{a()?.contains(s.relatedTarget)===!0?d("handle"):d(null)}),r.addEventListener("mouseenter",()=>d("startIntersection")),T(r,"position","absolute"),T(r,"top","0"),T(r,"left","0"),xe(s=>{var c=g().orientation()==="horizontal"?void 0:"100%",m=g().orientation()==="horizontal"?"100%":void 0,P=g().orientation()==="horizontal"?"translate3d(0, -100%, 0)":"translate3d(-100%, 0, 0)";return c!==s.e&&T(r,"height",s.e=c),m!==s.t&&T(r,"width",s.t=m),P!==s.a&&T(r,"transform",s.a=P),s},{e:void 0,t:void 0,a:void 0}),r}}),Ge(()=>t.children),p(se,{get when(){return S()},get children(){var r=Qe();return r.addEventListener("mouseleave",s=>{a()?.contains(s.relatedTarget)===!0?d("handle"):d(null)}),r.addEventListener("mouseenter",()=>d("endIntersection")),T(r,"position","absolute"),T(r,"bottom","0"),T(r,"right","0"),xe(s=>{var c=g().orientation()==="horizontal"?void 0:"100%",m=g().orientation()==="horizontal"?"100%":void 0,P=g().orientation()==="horizontal"?"translate3d(0, 100%, 0)":"translate3d(100%, 0, 0)";return c!==s.e&&T(r,"height",s.e=c),m!==s.t&&T(r,"width",s.t=m),P!==s.a&&T(r,"transform",s.a=P),s},{e:void 0,t:void 0,a:void 0}),r}})]}}))},Ke=dt,Ne=ze(),ut=e=>e===void 0?Ne:be(`resizable-panel-${e}`),zt=e=>{if(e===void 0){const t=fe(Ne);if(!t)throw new Error("[corvu]: Resizable panel context not found. Make sure to call usePanelContext under <Resizable.Panel>");return t}const n=he(`resizable-panel-${e}`);if(!n)throw new Error(`[corvu]: Resizable context with id "${e}" not found. Make sure to call usePanelContext under <Resizable.Panel contextId="${e}">`);return n},ft=e=>{const n=K({initialSize:null,minSize:0,maxSize:1,collapsible:!1,collapsedSize:0,collapseThreshold:.05,panelId:Ue()},e),[t,i]=X(n,["initialSize","minSize","maxSize","collapsible","collapsedSize","collapseThreshold","onResize","onCollapse","onExpand","contextId","panelId","ref","style","children"]),[a,l]=_(null),v=U(()=>pe(t.contextId)),[y,o]=_(null);Q(()=>{const S=a();if(!S)return;const D=v(),g=j(()=>D.registerPanel({id:t.panelId,element:S,initialSize:t.initialSize,minSize:t.minSize,maxSize:t.maxSize,collapsible:t.collapsible,collapsedSize:t.collapsedSize,collapseThreshold:t.collapseThreshold,onResize:t.onResize}));o(g),Re(()=>{D.unregisterPanel(g.data.id)})});const d=()=>{const S=y();return S?S.size():typeof t.initialSize=="number"?t.initialSize:1},I=U(S=>{const D=y();if(t.collapsible!==!0)return!1;const g=D?D.size()===h(t.collapsedSize,v().rootSize()):!1;return D&&S!==g&&(g&&t.onCollapse!==void 0?t.onCollapse(D.size()):!g&&t.onExpand!==void 0&&t.onExpand(D.size())),g}),x=(S,D)=>{const g=y();g&&g.resize(S,D??"both")},E=S=>{const D=y();D&&D.collapse(S??"both")},b=S=>{const D=y();D&&D.expand(S??"both")},C={get size(){return d()},get minSize(){return t.minSize},get maxSize(){return t.maxSize},get collapsible(){return t.collapsible},get collapsedSize(){return t.collapsedSize},get collapseThreshold(){return t.collapseThreshold},get collapsed(){return I()},resize:x,collapse:E,expand:b,get panelId(){return t.panelId}},R=Ee(()=>t.children),L=()=>{const S=R()();return Ae(S)?S(C):S};return U(()=>{const S=ut(t.contextId);return p(S.Provider,{value:{size:d,minSize:()=>t.minSize,maxSize:()=>t.maxSize,collapsible:()=>t.collapsible,collapsedSize:()=>t.collapsedSize,collapseThreshold:()=>t.collapseThreshold,collapsed:I,resize:x,collapse:E,expand:b,panelId:()=>t.panelId},get children(){return p(Se,K({as:"div",ref(D){var g=me(l,t.ref);typeof g=="function"&&g(D)},get style(){return ve({"flex-basis":d()*100+"%"},t.style)},get id(){return t.panelId},get"data-collapsed"(){return ne(I())},get"data-expanded"(){return ne(t.collapsible===!0&&!I())},get"data-orientation"(){return v().orientation()},"data-corvu-resizable-panel":""},i,{get children(){return j(()=>L())}}))}})})},$e=ft,ie=e=>{let n=e.desiredPercentage>=0?1/0:-1/0,t=e.initialSizes;for(const i of e.resizeActions){const a=i.negate!==!0?e.desiredPercentage:-e.desiredPercentage;let[l,v,y]=ae({desiredPercentage:a,side:"preceding",panels:i.precedingPanels,initialSizes:t,initialSizesStartIndex:0,collapsible:e.collapsible,rootSize:e.resizableData.rootSize}),[o,d,I]=ae({desiredPercentage:a,side:"following",panels:i.followingPanels,initialSizes:t,initialSizesStartIndex:i.precedingPanels.length,collapsible:e.collapsible,rootSize:e.resizableData.rootSize});i.negate===!0&&(l=-l,o=-o),y&&(o=l),I&&(l=o),e.desiredPercentage>=0?n=Math.min(n,Math.min(l,o)):n=Math.max(n,Math.max(l,o)),t=[...v,...d]}return n},ae=e=>{e.desiredPercentage=M(e.desiredPercentage);const n=gt({side:e.side,desiredPercentage:e.desiredPercentage});let t=0;const i=e.initialSizes.slice(e.initialSizesStartIndex,e.initialSizesStartIndex+e.panels.length);for(let b=e.side==="preceding"?e.panels.length-1:0;e.side==="preceding"?b>=0:b<e.panels.length;e.side==="preceding"?b--:b++){const C=e.panels[b],R=e.initialSizes[b+e.initialSizesStartIndex],L=h(C.data.collapsedSize??0,e.rootSize);if(C.data.collapsible&&R===L)continue;const H=M(e.desiredPercentage-t);if(H===0)break;switch(n){case"precedingDecreasing":{const S=h(C.data.minSize,e.rootSize);i[b]=Math.max(S,R+H),t+=i[b]-R;break}case"followingDecreasing":{const S=h(C.data.minSize,e.rootSize);i[b]=Math.max(S,R-H),t-=i[b]-R;break}case"precedingIncreasing":{const S=h(C.data.maxSize,e.rootSize);i[b]=Math.min(S,R+H),t+=i[b]-R;break}case"followingIncreasing":{const S=h(C.data.maxSize,e.rootSize);i[b]=Math.min(S,R-H),t-=i[b]-R;break}}}if(t=M(t),!e.collapsible||t===e.desiredPercentage)return[t,i,!1];const a=e.side==="preceding"?e.panels.length-1:0,l=e.panels[a];if(!l.data.collapsible)return[t,i,!1];const v=M(e.desiredPercentage-t);let y=!1;const o=e.initialSizes[a+e.initialSizesStartIndex],d=h(l.data.minSize,e.rootSize),I=h(l.data.collapsedSize??0,e.rootSize),x=Math.min(h(l.data.collapseThreshold??0,e.rootSize),d-I),E=o===I;if(n==="precedingDecreasing"&&!E&&Math.abs(v)>=x)t-=i[a]-o,i[a]=I,t+=i[a]-o,y=!0;else if(n==="precedingIncreasing"&&E&&Math.abs(v)>=x){const b=h(l.data.minSize,e.rootSize);if(i[a]=b,Math.abs(v)>=b-I){const C=h(l.data.maxSize,e.rootSize);i[a]=Math.min(C,o+v)}else y=!0;t+=i[a]-o}else if(n==="followingDecreasing"&&!E&&Math.abs(v)>=x)t+=i[a]-o,i[a]=I,t-=i[a]-o,y=!0;else if(n==="followingIncreasing"&&E&&Math.abs(v)>=x){const b=h(l.data.minSize,e.rootSize);if(i[a]=b,Math.abs(v)>=b-I){const C=h(l.data.maxSize,e.rootSize);i[a]=Math.min(C,o-v)}else y=!0;t-=i[a]-o}return[t,i,y]},gt=e=>{switch(e.side){case"preceding":return e.desiredPercentage>=0?"precedingIncreasing":"precedingDecreasing";case"following":return e.desiredPercentage>=0?"followingDecreasing":"followingIncreasing"}},re=e=>{let n=e.initialSizes;for(const i of e.resizeActions){const[,a]=ae({desiredPercentage:i.deltaPercentage,side:"preceding",panels:i.precedingPanels,initialSizes:n,initialSizesStartIndex:0,collapsible:e.collapsible,rootSize:e.resizableData.rootSize}),[,l]=ae({desiredPercentage:i.deltaPercentage,side:"following",panels:i.followingPanels,initialSizes:n,initialSizesStartIndex:i.precedingPanels.length,collapsible:e.collapsible,rootSize:e.resizableData.rootSize});n=[...a,...l]}n=n.map(M);const t=n.reduce((i,a)=>i+a,0);if(t!==1){const a=(t-1)/n.length;n=n.map(l=>l-a)}e.resizableData.setSizes(n.map(M))},oe=e=>{let[n,t]=ee({panels:e.panels,focusedElement:e.panel.data.element});const i=e.panels.indexOf(e.panel);if(i===0?e.strategy="following":i===e.panels.length-1&&(e.strategy="preceding"),e.strategy==="both"){const a=[...n,e.panel],l=[e.panel,...t],v=ie({desiredPercentage:e.deltaPercentage/2,initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:a,followingPanels:t},{precedingPanels:n,followingPanels:l,negate:!0}],resizableData:{rootSize:e.resizableData.rootSize}});re({initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:a,followingPanels:t,deltaPercentage:v},{precedingPanels:n,followingPanels:l,deltaPercentage:-v}],resizableData:e.resizableData})}else{n=e.strategy==="preceding"?n:[...n,e.panel],t=e.strategy==="following"?t:[e.panel,...t],e.strategy==="preceding"&&(e.deltaPercentage=-e.deltaPercentage);const a=ie({desiredPercentage:e.deltaPercentage,initialSizes:e.initialSizes,collapsible:e.collapsible,resizeActions:[{precedingPanels:n,followingPanels:t}],resizableData:{rootSize:e.resizableData.rootSize}});re({initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:n,followingPanels:t,deltaPercentage:a}],resizableData:e.resizableData})}},Ce=e=>{if(e.altKey&&e.panels.length>2){let n=e.panels.filter(b=>!!(e.handle.compareDocumentPosition(b.data.element)&Node.DOCUMENT_POSITION_PRECEDING)).length-1;const t=n===0;t&&(n++,e.deltaPercentage=-e.deltaPercentage);const i=e.panels[n],a=e.initialSizes[n],l=h(i.data.minSize,e.resizableData.rootSize)-a,v=h(i.data.maxSize,e.resizableData.rootSize)-a,y=Math.max(l,Math.min(e.deltaPercentage*2,v))/2,[o,d]=ee({panels:e.panels,focusedElement:i.data.element}),I=[...o,i],x=[i,...d],E=ie({desiredPercentage:y,initialSizes:e.initialSizes,collapsible:!1,resizeActions:[{precedingPanels:I,followingPanels:d},{precedingPanels:o,followingPanels:x,negate:!0}],resizableData:{rootSize:e.resizableData.rootSize}});e.resizableData.handleCursorStyle===!0&&De({orientation:e.resizableData.orientation,desiredPercentage:e.deltaPercentage,distributablePercentage:E,revertConstraints:t}),re({initialSizes:e.initialSizes,collapsible:!1,resizeActions:[{precedingPanels:I,followingPanels:d,deltaPercentage:E},{precedingPanels:o,followingPanels:x,deltaPercentage:-E}],resizableData:e.resizableData})}else{const[n,t]=ee({panels:e.panels,focusedElement:e.handle}),i=ie({desiredPercentage:e.deltaPercentage,initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:n,followingPanels:t}],resizableData:{rootSize:e.resizableData.rootSize}});if(re({initialSizes:e.initialSizes,collapsible:!0,resizeActions:[{precedingPanels:n,followingPanels:t,deltaPercentage:i}],resizableData:e.resizableData}),e.resizableData.handleCursorStyle){const a=M(e.deltaPercentage),l=M(i);let v=!1;const y=n[n.length-1];if(y.data.collapsible){const d=h(y.data.collapsedSize??0,e.resizableData.rootSize);(y.size()===d&&a>l||y.size()!==d&&a<l)&&(v=!0)}const o=t[0];if(o.data.collapsible){const d=h(o.data.collapsedSize??0,e.resizableData.rootSize);(o.size()===d&&a<l||o.size()!==d&&a>l)&&(v=!0)}De({orientation:e.resizableData.orientation,desiredPercentage:e.deltaPercentage,distributablePercentage:i,betweenCollapse:v})}}},St=e=>{const n=K({orientation:"horizontal",initialSizes:[],keyboardDelta:.1,handleCursorStyle:!0},e),[t,i]=X(n,["orientation","sizes","onSizesChange","initialSizes","keyboardDelta","handleCursorStyle","contextId","ref","style","children"]),[a,l]=We({value:()=>t.sizes,initialValue:[],onChange:t.onSizesChange}),[v,y]=_(null),o=Xe({element:v,dimension:()=>t.orientation==="horizontal"?"width":"height"}),[d,I]=_([]),x=[],E=z=>{const f=d().filter(m=>!!(z.element.compareDocumentPosition(m.data.element)&Node.DOCUMENT_POSITION_PRECEDING)).length,u=x[f]===void 0||x[f]===z.id,k=a()[f]!==void 0;let r=null;z.initialSize!==null?r=h(z.initialSize,o()):t.initialSizes[f]!==void 0&&u&&(r=h(t.initialSizes[f],o())),r=r??.5,l(m=>{let P=[...m];const Y=P.reduce(($,q)=>$+q,0);if((u&&!k||!u)&&Y===1){const $=r/P.length;P=P.map(q=>q-$)}return u?(k||(P[f]=r),x[f]=z.id):(P.splice(f,0,r),x.splice(f,0,z.id)),P});const s=U(()=>{const m=x.indexOf(z.id);return a()[m]});Q(()=>z.onResize?.(s()));const c={data:z,size:s,resize:(m,P)=>C(x.indexOf(z.id),m,P),collapse:m=>R(x.indexOf(z.id),m),expand:m=>L(x.indexOf(z.id),m)};return I(m=>{const P=[...m];return P.push(c),P.sort((Y,$)=>Ye(Y.data.element,$.data.element)),P}),c},b=z=>{I(f=>f.filter(u=>u.data.id!==z));const w=x.indexOf(z);x.splice(w,1),l(f=>{let u=[...f];u.splice(w,1);const s=(u.reduce((c,m)=>c+m,0)-1)/u.length;return u=u.map(c=>c+s),u})};Q(()=>{t.onSizesChange!==void 0&&t.onSizesChange(a())});const C=(z,w,f)=>{j(()=>{const u=d()[z];if(!u)return;const k=h(u.data.minSize,o()),r=h(u.data.maxSize,o()),s=h(w,o()),m=Math.max(k,Math.min(s,r))-a()[z];oe({deltaPercentage:m,strategy:f??"both",panel:u,panels:d(),initialSizes:d().map(P=>P.size()),collapsible:!1,resizableData:{rootSize:o(),orientation:t.orientation,setSizes:l}})})},R=(z,w)=>{j(()=>{const f=d()[z];if(!f)return;const u=a()[z],k=h(f.data.collapsedSize??0,o());if(!f.data.collapsible||u===k)return;const r=k-u;oe({deltaPercentage:r,strategy:w??"both",panel:f,panels:d(),initialSizes:d().map(s=>s.size()),collapsible:!0,resizableData:{rootSize:o(),orientation:t.orientation,setSizes:l}})})},L=(z,w)=>{j(()=>{const f=d()[z];if(!f)return;const u=a()[z],k=h(f.data.collapsedSize??0,o());if(!f.data.collapsible||u!==k)return;const s=h(f.data.minSize,o())-u;oe({deltaPercentage:s,strategy:w??"both",panel:f,panels:d(),initialSizes:d().map(c=>c.size()),collapsible:!0,resizableData:{rootSize:o(),orientation:t.orientation,setSizes:l}})})};let H=null,S=!1;const D=(z,w,f)=>{(H===null||S!==f)&&(H=d().map(u=>u.size()),S=f),Ce({deltaPercentage:w/o(),altKey:f,handle:z,panels:d(),initialSizes:H,resizableData:{rootSize:o(),handleCursorStyle:t.handleCursorStyle,orientation:t.orientation,setSizes:l}})},g=(z,w,f)=>{if(w.key==="Enter"){const[r,s]=ee({panels:d(),focusedElement:z});let c=r[r.length-1];if((!c||!c.data.collapsible)&&(c=s[0],!c||!c.data.collapsible))return;const m=c.size(),P=h(c.data.collapsedSize??0,o());m===P?c.expand("following"):c.collapse("following");return}let u=null;if(t.orientation==="horizontal"&&w.key==="ArrowLeft"||t.orientation==="vertical"&&w.key==="ArrowUp"||w.key==="Home"?w.shiftKey||w.key==="Home"?u=-1:u=-h(t.keyboardDelta,o()):(t.orientation==="horizontal"&&w.key==="ArrowRight"||t.orientation==="vertical"&&w.key==="ArrowDown"||w.key==="End")&&(w.shiftKey||w.key==="End"?u=1:u=h(t.keyboardDelta,o())),u===null)return;w.preventDefault();const k=d().map(r=>r.size());Ce({deltaPercentage:u,altKey:f,handle:z,panels:d(),initialSizes:k,resizableData:{rootSize:o(),handleCursorStyle:!1,orientation:t.orientation,setSizes:l}})},B={get sizes(){return a()},setSizes:l,get orientation(){return t.orientation},get keyboardDelta(){return t.keyboardDelta},get handleCursorStyle(){return t.handleCursorStyle},resize:C,collapse:R,expand:L},G=Ee(()=>t.children),we=()=>{const z=G()();return Ae(z)?z(B):z};return U(()=>{const z=et(t.contextId),w=nt(t.contextId);return p(z.Provider,{value:{sizes:a,setSizes:l,orientation:()=>t.orientation,keyboardDelta:()=>t.keyboardDelta,handleCursorStyle:()=>t.handleCursorStyle,resize:C,collapse:R,expand:L},get children(){return p(w.Provider,{value:{sizes:a,setSizes:l,orientation:()=>t.orientation,keyboardDelta:()=>t.keyboardDelta,handleCursorStyle:()=>t.handleCursorStyle,rootSize:o,panels:d,registerPanel:E,unregisterPanel:b,onDrag:D,onDragEnd:()=>H=null,onKeyDown:g,resize:C,collapse:R,expand:L},get children(){return p(Se,K({as:"div",ref(f){var u=me(y,t.ref);typeof u=="function"&&u(f)},get style(){return ve({display:"flex","flex-direction":t.orientation==="horizontal"?"row":"column"},t.style)},get"data-orientation"(){return t.orientation},"data-corvu-resizable-root":""},i,{get children(){return j(()=>we())}}))}})}})})},Fe=St;Object.assign(Fe,{Panel:$e,Handle:Ke,useContext:tt,usePanelContext:zt});var bt=ue('<div class="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">');function yt(e){const[n,t]=X(e,["class"]);return p(Fe,K({get class(){return Me(["flex size-full data-[orientation=vertical]:flex-col",n.class])},"data-slot":"resizable"},t,{"bool:n$":!1}))}function Dt(e){const[n,t]=X(e,[]);return p($e,K({"data-slot":"resizable-panel"},t,{"bool:n$":!1}))}function It(e){const[n,t]=X(e,["class","withHandle"]);return p(Ke,K({get class(){return Me([`relative flex w-px shrink-0 items-center justify-center\r
            bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1\r
            after:-translate-x-1/2 focus-visible:outline-none\r
            focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1\r
            data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full\r
            data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1\r
            data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2\r
            data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90`,n.class])},"data-slot":"resizable-handle"},t,{"bool:n$":!1,get children(){return p(se,{get when(){return n.withHandle},get children(){var i=bt();return je(i,p(Ze,{class:"size-2.5",strokeWidth:2})),i}})}}))}export{yt as R,Dt as a,It as b};
