import{s as p,e as R,c as s,m as i,S as z,b as I,P as Me,a as L,u as _e,g as Ke,y as Ve,h as Ee,d as v,f as ke,j as W}from"./iframe-Clet01EE.js";import{H as Be,L as $e,a as pe,b as j,c as G,d as fe,e as N}from"./2I3Q5YLM-DowSRlkb.js";import{P as ge,a as me}from"./2CTBMVJ4-DyOk4EnN.js";import{L as He}from"./N3GAC5SS-wWDK6RCs.js";import{d as ze,b as We,S as je}from"./QZDH5R5B-PBS_kkPt.js";import{c as Ge}from"./LR7LBJN3-qrjvAUg4.js";import{a as Ne,c as Ue}from"./FBCYWU27-CO4xBNMq.js";import{D as qe}from"./3VFJM5NZ-wQTIoC1l.js";import{c as Ze}from"./E53DB7BS-EmVpB0gT.js";import{B as Je}from"./UKTBL2JL-XTYDUvYT.js";import{F as Qe,c as Xe}from"./NGHEENNE-Dh3ZS6zm.js";import{u as Se,d as Ye,F as et,c as tt,a as ot,b as nt,e as U,f as q}from"./ZZYKR3VO-BgHOJ8It.js";import{c as H}from"./JNCCF6MP-4sxnBYeu.js";import{P as Z}from"./FLVHQV4A-BgLTf8G_.js";import{_ as rt}from"./5WXHJDCZ-DghNgBBa.js";import{m as T,a as C,c as st,x as be,f as he}from"./index-CNxaL1Ec.js";import{s as lt}from"./index-D60S8ox6.js";import{s as at}from"./index-CPkKRnTR.js";import{m as J}from"./index-BgurTJCO.js";import{a as O}from"./index-xPNqmJU7.js";import{c as it}from"./combineProps-Bn1VjxOg.js";import{I as ct}from"./Icon-Bfk8cl3A.js";import{L as P}from"./Utils-cFOJcEDI.js";import{c as ut}from"./check-CU5kgQI-.js";import{d as dt}from"./Option-BhX2R0kg.js";var pt={};rt(pt,{Arrow:()=>me,Content:()=>Q,Description:()=>q,ErrorMessage:()=>U,HiddenSelect:()=>X,Icon:()=>Y,Item:()=>N,ItemDescription:()=>fe,ItemIndicator:()=>G,ItemLabel:()=>j,Label:()=>ee,Listbox:()=>te,Portal:()=>oe,Root:()=>ne,Section:()=>pe,Select:()=>mt,Trigger:()=>re,Value:()=>se,useSelectContext:()=>y});var ye=Ke();function y(){const n=_e(ye);if(n===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return n}function Q(n){let t;const e=y(),[o,c]=p(n,["ref","style","onCloseAutoFocus","onFocusOutside"]),m=l=>{e.close()},u=l=>{o.onFocusOutside?.(l),e.isOpen()&&e.isModal()&&l.preventDefault()};return Ne({isDisabled:()=>!(e.isOpen()&&e.isModal()),targets:()=>t?[t]:[]}),lt({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),Ue({trapFocus:()=>e.isOpen()&&e.isModal(),onMountAutoFocus:l=>{l.preventDefault()},onUnmountAutoFocus:l=>{o.onCloseAutoFocus?.(l),l.defaultPrevented||(he(e.triggerRef()),l.preventDefault())}},()=>t),s(z,{get when(){return e.contentPresent()},get children(){return s(ge.Positioner,{get children(){return s(qe,i({ref(l){var f=J(h=>{e.setContentRef(h),t=h},o.ref);typeof f=="function"&&f(l)},get disableOutsidePointerEvents(){return I(()=>!!e.isModal())()&&e.isOpen()},get excludedElements(){return[e.triggerRef]},get style(){return it({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},o.style)},onEscapeKeyDown:m,onFocusOutside:u,get onDismiss(){return e.close}},()=>e.dataset(),c))}})}})}function X(n){const t=y();return s(Be,i({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>t.triggerRef()?.focus()},n))}function Y(n){const t=y(),e=T({children:"â–¼"},n);return s(Z,i({as:"span","aria-hidden":"true"},()=>t.dataset(),e))}function ee(n){const t=y(),[e,o]=p(n,["onClick"]);return s(Ye,i({as:"span",onClick:m=>{C(m,e.onClick),t.isDisabled()||t.triggerRef()?.focus()}},o))}function te(n){const t=y(),e=T({id:t.generateId("listbox")},n),[o,c]=p(e,["ref","id","onKeyDown"]);return R(()=>W(t.registerListboxId(o.id))),s($e,i({ref(u){var l=J(t.setListboxRef,o.ref);typeof l=="function"&&l(u)},get id(){return o.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:u=>{C(u,o.onKeyDown),u.key==="Escape"&&u.preventDefault()}},c))}function oe(n){const t=y();return s(z,{get when(){return t.contentPresent()},get children(){return s(Me,n)}})}function ft(n){const t=`select-${Ee()}`,e=T({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:n.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},n),[o,c,m,u]=p(e,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],et),[l,f]=v(),[h,S]=v(),[M,_]=v(),[w,K]=v(),[F,V]=v(),[E,a]=v(),[b,x]=v(),[ve,Ce]=v(!0),D=r=>{const d=o.optionValue;return d==null?String(r):String(be(d)?d(r):r[d])},ae=L(()=>{const r=o.optionGroupChildren;return r==null?o.options:o.options.flatMap(d=>d[r]??d)}),xe=L(()=>ae().map(r=>D(r))),ie=r=>[...r].map(d=>ae().find($=>D($)===d)).filter(d=>d!=null),A=Ze({open:()=>o.open,defaultOpen:()=>o.defaultOpen,onOpenChange:r=>o.onOpenChange?.(r)}),g=We({selectedKeys:()=>o.value!=null?o.value.map(D):o.value,defaultSelectedKeys:()=>o.defaultValue!=null?o.defaultValue.map(D):o.defaultValue,onSelectionChange:r=>{o.onChange?.(ie(r)),o.closeOnSelection&&k()},allowDuplicateSelectionEvents:()=>O(o.allowDuplicateSelectionEvents),disallowEmptySelection:()=>O(o.disallowEmptySelection),selectionBehavior:()=>O(o.selectionBehavior),selectionMode:()=>o.selectionMode,dataSource:()=>o.options??[],getKey:()=>o.optionValue,getTextValue:()=>o.optionTextValue,getDisabled:()=>o.optionDisabled,getSectionChildren:()=>o.optionGroupChildren}),Ae=L(()=>ie(g.selectionManager().selectedKeys())),Oe=r=>{g.selectionManager().toggleSelection(D(r))},{present:Le}=at({show:()=>o.forceMount||A.isOpen(),element:()=>F()??null}),De=()=>{const r=E();r&&he(r)},ce=r=>{if(o.options.length<=0)return;Ce(r),A.open();let d=g.selectionManager().firstSelectedKey();d==null&&(r==="first"?d=g.collection().getFirstKey():r==="last"&&(d=g.collection().getLastKey())),De(),g.selectionManager().setFocused(!0),g.selectionManager().setFocusedKey(d)},k=()=>{A.close(),g.selectionManager().setFocused(!1),g.selectionManager().setFocusedKey(void 0)},Pe=r=>{A.isOpen()?k():ce(r)},{formControlContext:B}=tt(m);ot(w,()=>{const r=o.defaultValue?[...o.defaultValue].map(D):new je;g.selectionManager().setSelectedKeys(r)});const we=Ge({usage:"search",sensitivity:"base"}),Re=L(()=>{const r=O(o.keyboardDelegate);return r||new He(g.collection,void 0,we)}),Te=r=>o.itemComponent?.({item:r}),Fe=r=>o.sectionComponent?.({section:r});R(ke([xe],([r])=>{const $=[...g.selectionManager().selectedKeys()].filter(Ie=>r.includes(Ie));g.selectionManager().setSelectedKeys($)},{defer:!0}));const ue=L(()=>({"data-expanded":A.isOpen()?"":void 0,"data-closed":A.isOpen()?void 0:""})),de={dataset:ue,isOpen:A.isOpen,isDisabled:()=>B.isDisabled()??!1,isMultiple:()=>O(o.selectionMode)==="multiple",isVirtualized:()=>o.virtualized??!1,isModal:()=>o.modal??!1,preventScroll:()=>o.preventScroll??de.isModal(),disallowTypeAhead:()=>o.disallowTypeAhead??!1,shouldFocusWrap:()=>o.shouldFocusWrap??!1,selectedOptions:Ae,contentPresent:Le,autoFocus:ve,triggerRef:w,listState:()=>g,keyboardDelegate:Re,triggerId:l,valueId:h,listboxId:M,listboxAriaLabelledBy:b,setListboxAriaLabelledBy:x,setTriggerRef:K,setContentRef:V,setListboxRef:a,open:ce,close:k,toggle:Pe,placeholder:()=>o.placeholder,renderItem:Te,renderSection:Fe,removeOptionFromSelection:Oe,generateId:st(()=>O(m.id)),registerTriggerId:H(f),registerValueId:H(S),registerListboxId:H(_)};return s(nt.Provider,{value:B,get children(){return s(ye.Provider,{value:de,get children(){return s(ge,i({anchorRef:w,contentRef:F},c,{get children(){return s(Z,i({as:"div",role:"group",get id(){return O(m.id)}},()=>B.dataset(),ue,u))}}))}})}})}function ne(n){const[t,e]=p(n,["value","defaultValue","onChange","multiple"]),o=L(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),c=L(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return s(ft,i({get value(){return o()},get defaultValue(){return c()},onChange:u=>{t.multiple?t.onChange?.(u??[]):t.onChange?.(u[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},e))}function re(n){const t=Se(),e=y(),o=T({id:e.generateId("trigger")},n),[c,m,u]=p(o,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],Qe),l=()=>e.listState().selectionManager(),f=()=>e.keyboardDelegate(),h=()=>c.disabled||e.isDisabled(),{fieldProps:S}=Xe(m),{typeSelectHandlers:M}=ze({keyboardDelegate:f,selectionManager:l,onTypeSelect:a=>l().select(a)}),_=()=>[e.listboxAriaLabelledBy(),e.valueId()].filter(Boolean).join(" ")||void 0,w=a=>{C(a,c.onPointerDown),a.currentTarget.dataset.pointerType=a.pointerType,!h()&&a.pointerType!=="touch"&&a.button===0&&(a.preventDefault(),e.toggle(!0))},K=a=>{C(a,c.onClick),!h()&&a.currentTarget.dataset.pointerType==="touch"&&e.toggle(!0)},F=a=>{if(C(a,c.onKeyDown),!h())switch(C(a,M.onKeyDown),a.key){case"Enter":case" ":case"ArrowDown":a.stopPropagation(),a.preventDefault(),e.toggle("first");break;case"ArrowUp":a.stopPropagation(),a.preventDefault(),e.toggle("last");break;case"ArrowLeft":{if(a.preventDefault(),e.isMultiple())return;const b=l().firstSelectedKey(),x=b!=null?f().getKeyAbove?.(b):f().getFirstKey?.();x!=null&&l().select(x);break}case"ArrowRight":{if(a.preventDefault(),e.isMultiple())return;const b=l().firstSelectedKey(),x=b!=null?f().getKeyBelow?.(b):f().getFirstKey?.();x!=null&&l().select(x);break}}},V=a=>{C(a,c.onFocus),!l().isFocused()&&l().setFocused(!0)},E=a=>{C(a,c.onBlur),!e.isOpen()&&l().setFocused(!1)};return R(()=>W(e.registerTriggerId(S.id()))),R(()=>{e.setListboxAriaLabelledBy([S.ariaLabelledBy(),S.ariaLabel()&&!S.ariaLabelledBy()?S.id():null].filter(Boolean).join(" ")||void 0)}),s(Je,i({ref(a){var b=J(e.setTriggerRef,c.ref);typeof b=="function"&&b(a)},get id(){return S.id()},get disabled(){return h()},"aria-haspopup":"listbox",get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return I(()=>!!e.isOpen())()?e.listboxId():void 0},get"aria-label"(){return S.ariaLabel()},get"aria-labelledby"(){return _()},get"aria-describedby"(){return S.ariaDescribedBy()},onPointerDown:w,onClick:K,onKeyDown:F,onFocus:V,onBlur:E},()=>e.dataset(),()=>t.dataset(),u))}function se(n){const t=Se(),e=y(),o=T({id:e.generateId("value")},n),[c,m]=p(o,["id","children"]),u=()=>e.listState().selectionManager(),l=()=>{const f=u().selectedKeys();return f.size===1&&f.has("")?!0:u().isEmpty()};return R(()=>W(e.registerValueId(c.id))),s(Z,i({as:"span",get id(){return c.id},get"data-placeholder-shown"(){return l()?"":void 0}},()=>t.dataset(),m,{get children(){return s(z,{get when(){return!l()},get fallback(){return e.placeholder()},get children(){return s(gt,{state:{selectedOption:()=>e.selectedOptions()[0],selectedOptions:()=>e.selectedOptions(),remove:f=>e.removeOptionFromSelection(f),clear:()=>u().clearSelection()},get children(){return c.children}})}})}}))}function gt(n){const t=Ve(()=>{const e=n.children;return be(e)?e(n.state):e});return I(t)}var mt=Object.assign(ne,{Arrow:me,Content:Q,Description:q,ErrorMessage:U,HiddenSelect:X,Icon:Y,Item:N,ItemDescription:fe,ItemIndicator:G,ItemLabel:j,Label:ee,Listbox:te,Portal:oe,Section:pe,Trigger:re,Value:se}),St=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],bt=n=>s(ct,i(n,{iconNode:St,name:"chevrons-up-down"})),ht=bt;function jt(n){const[t,e]=p(n,[]);return s(ne,i(e,{"bool:n$":!1}))}function Gt(n){const[t,e]=p(n,[]);return s(se,i(e,{"bool:n$":!1}))}function Nt(n){const[t,e]=p(n,[]);return s(X,i(e,{"bool:n$":!1}))}function Ut(n){const[t,e]=p(n,["class","children"]);return s(re,i({get class(){return P([`flex h-10 w-full items-center justify-between rounded-md\r
            border border-input bg-transparent px-3 py-2 text-sm\r
            ring-offset-background placeholder:text-muted-foreground\r
            focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\r
            disabled:cursor-not-allowed disabled:opacity-50`,t.class])}},e,{"bool:n$":!1,get children(){return[I(()=>t.children),s(Y,{as:o=>s(ht,i(o,{"on:n$":!1,class:"size-4 opacity-50"}))})]}}))}function qt(n){const[t,e]=p(n,["class"]);return s(oe,{get children(){return s(Q,i({get class(){return P([`relative z-50 min-w-32 overflow-hidden rounded-md border\r
                bg-popover text-popover-foreground shadow-md animate-in fade-in-80`,t.class])}},e,{"bool:n$":!1,get children(){return s(te,{class:"m-0 p-1"})}}))}})}function Zt(n){const[t,e]=p(n,["class","children"]);return s(N,i({get class(){return P([`relative mt-0 flex w-full cursor-default select-none items-center\r
            rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent\r
            focus:text-accent-foreground data-[disabled]:pointer-events-none\r
            data-[disabled]:opacity-50`,t.class])}},e,{"bool:n$":!1,get children(){return[s(G,{class:"absolute right-2 flex size-3.5 items-center justify-center",get children(){return s(ut,{class:"size-4",strokeWidth:2})}}),s(j,{get children(){return t.children}})]}}))}function le(n){const t=dt(n,"label");return`text-sm font-medium leading-none peer-disabled:cursor-not-allowed\r
        peer-disabled:opacity-70 `+(t==="description"?"font-normal text-muted-foreground":t==="error"?"text-xs text-destructive":"data-[invalid]:text-destructive")}function Jt(n){const[t,e]=p(n,["class"]);return s(ee,i({get class(){return P([le(),t.class])}},e,{"bool:n$":!1}))}function Qt(n){const[t,e]=p(n,["class"]);return s(q,i({get class(){return P([le("description"),t.class])}},e,{"bool:n$":!1}))}function Xt(n){const[t,e]=p(n,["class"]);return s(U,i({get class(){return P([le("error"),t.class])}},e,{"bool:n$":!1}))}export{jt as S,Ut as a,Gt as b,qt as c,Zt as d,Nt as e,Jt as f,Qt as g,Xt as h};
