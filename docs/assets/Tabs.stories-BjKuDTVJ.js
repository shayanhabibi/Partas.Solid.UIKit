import{s as y,d as w,e as C,c as a,g as Y,m as p,b as z,f as x,S as X,h as Z,a as H,u as G,o as J,j as Q}from"./iframe-CxGoIJAb.js";import{T as ee}from"./XTJD7L6B-CHFuNE8o.js";import{a as te,c as ne,b as oe}from"./QZDH5R5B-Qkec8v-Q.js";import{a as re,c as ae}from"./SOM3K36D-BIr0ZONT.js";import{u as j}from"./LR7LBJN3-kBELrHTO.js";import{b as se}from"./FN6EICGO-lOlungVQ.js";import{P}from"./FLVHQV4A-CBdIuREj.js";import{_ as ie}from"./5WXHJDCZ-DghNgBBa.js";import{m as V,e as T,B as le,h as ce,n as ue}from"./index-DQYZI0kA.js";import{s as de}from"./index-D2aTQ-Yz.js";import{c as ge}from"./index-FEeR2r_2.js";import{m as $}from"./index-Dg1yJhWd.js";import{a as U}from"./index-BmLeoKbC.js";import{c as fe}from"./combineProps-uLaRYQYT.js";import{L}from"./Utils-C5KSfAah.js";import"./preload-helper-PPVm8Dsz.js";import"./eventListener-kVsKM4ni.js";import"./U42ECMND-BDjyePcW.js";var be={};ie(be,{Content:()=>O,Indicator:()=>E,List:()=>k,Root:()=>F,Tabs:()=>pe,Trigger:()=>D,useTabsContext:()=>A});var B=Y();function A(){const o=G(B);if(o===void 0)throw new Error("[kobalte]: `useTabsContext` must be used within a `Tabs` component");return o}function O(o){const[e,t]=w(),s=A(),[n,v]=y(o,["ref","id","value","forceMount"]),[b,d]=w(0),c=()=>n.id??s.generateContentId(n.value),l=()=>s.listState().selectedKey()===n.value,{present:r}=de({show:()=>n.forceMount||l(),element:()=>e()??null});return C(x([()=>e(),()=>r()],([g,i])=>{if(g==null||!i)return;const u=()=>{const m=ue(g,{tabbable:!0});d(m.nextNode()?void 0:0)};u();const h=new MutationObserver(u);h.observe(g,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabindex","disabled"]}),Q(()=>{h.disconnect()})})),C(x([()=>n.value,c],([g,i])=>{s.contentIdsMap().set(g,i)})),a(X,{get when(){return r()},get children(){return a(P,p({as:"div",ref(g){var i=$(t,n.ref);typeof i=="function"&&i(g)},get id(){return c()},role:"tabpanel",get tabIndex(){return b()},get"aria-labelledby"(){return s.triggerIdsMap().get(n.value)},get"data-orientation"(){return s.orientation()},get"data-selected"(){return l()?"":void 0}},v))}})}function E(o){const e=A(),[t,s]=y(o,["style"]),[n,v]=w({width:void 0,height:void 0}),{direction:b}=j(),d=()=>{const i=e.selectedTab();if(i==null)return;const u={transform:void 0,width:void 0,height:void 0},h=b()==="rtl"?-1*(i.offsetParent?.offsetWidth-i.offsetWidth-i.offsetLeft):i.offsetLeft;u.transform=e.orientation()==="vertical"?`translateY(${i.offsetTop}px)`:`translateX(${h}px)`,e.orientation()==="horizontal"?u.width=`${i.offsetWidth}px`:u.height=`${i.offsetHeight}px`,v(u)};J(()=>{queueMicrotask(()=>{d()})}),C(x([e.selectedTab,e.orientation,b],()=>{d()},{defer:!0}));const[c,l]=w(!1);let r=null,g=null;return ge(e.selectedTab,(i,u)=>{if(g!==u){g=u;return}l(!0),r&&clearTimeout(r),r=setTimeout(()=>{r=null,l(!1)},1),d()}),a(P,p({as:"div",role:"presentation",get style(){return fe(n(),t.style)},get"data-orientation"(){return e.orientation()},get"data-resizing"(){return c()}},s))}function k(o){let e;const t=A(),[s,n]=y(o,["ref","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),{direction:v}=j(),b=new ee(()=>t.listState().collection(),v,t.orientation),d=ne({selectionManager:()=>t.listState().selectionManager(),keyboardDelegate:()=>b,selectOnFocus:()=>t.activationMode()==="automatic",shouldFocusWrap:!1,disallowEmptySelection:!0},()=>e);return C(()=>{if(e==null)return;const c=e.querySelector(`[data-key="${t.listState().selectedKey()}"]`);c!=null&&t.setSelectedTab(c)}),a(P,p({as:"div",ref(c){var l=$(r=>e=r,s.ref);typeof l=="function"&&l(c)},role:"tablist",get"aria-orientation"(){return t.orientation()},get"data-orientation"(){return t.orientation()},get onKeyDown(){return T([s.onKeyDown,d.onKeyDown])},get onMouseDown(){return T([s.onMouseDown,d.onMouseDown])},get onFocusIn(){return T([s.onFocusIn,d.onFocusIn])},get onFocusOut(){return T([s.onFocusOut,d.onFocusOut])}},n))}function me(o){const[e,t]=se({value:()=>U(o.selectedKey),defaultValue:()=>U(o.defaultSelectedKey),onChange:l=>o.onSelectionChange?.(l)}),s=H(()=>{const l=e();return l!=null?[l]:[]}),[,n]=y(o,["onSelectionChange"]),v=p(n,{selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:l=>{const r=l.values().next().value;r===e()&&o.onSelectionChange?.(r),t(r)}}),{collection:b,selectionManager:d}=oe(v),c=H(()=>{const l=e();return l!=null?b().getItem(l):void 0});return{collection:b,selectionManager:d,selectedKey:e,setSelectedKey:t,selectedItem:c}}function F(o){const e=`tabs-${Z()}`,t=V({id:e,orientation:"horizontal",activationMode:"automatic"},o),[s,n]=y(t,["value","defaultValue","onChange","orientation","activationMode","disabled"]),[v,b]=w([]),[d,c]=w(),{DomCollectionProvider:l}=re({items:v,onItemsChange:b}),r=me({selectedKey:()=>s.value,defaultSelectedKey:()=>s.defaultValue,onSelectionChange:m=>s.onChange?.(String(m)),dataSource:v});let g=r.selectedKey();C(x([()=>r.selectionManager(),()=>r.collection(),()=>r.selectedKey()],([m,S,N])=>{let f=N;if(m.isEmpty()||f==null||!S.getItem(f)){f=S.getFirstKey();let I=f!=null?S.getItem(f):void 0;for(;I?.disabled&&I.key!==S.getLastKey();)f=S.getKeyAfter(I.key),I=f!=null?S.getItem(f):void 0;I?.disabled&&f===S.getLastKey()&&(f=S.getFirstKey()),f!=null&&m.setSelectedKeys([f])}(m.focusedKey()==null||!m.isFocused()&&f!==g)&&m.setFocusedKey(f),g=f}));const i=new Map,u=new Map,h={isDisabled:()=>s.disabled??!1,orientation:()=>s.orientation,activationMode:()=>s.activationMode,triggerIdsMap:()=>i,contentIdsMap:()=>u,listState:()=>r,selectedTab:d,setSelectedTab:c,generateTriggerId:m=>`${n.id}-trigger-${m}`,generateContentId:m=>`${n.id}-content-${m}`};return a(l,{get children(){return a(B.Provider,{value:h,get children(){return a(P,p({as:"div",get"data-orientation"(){return h.orientation()}},n))}})}})}function D(o){let e;const t=A(),s=V({type:"button"},o),[n,v]=y(s,["ref","id","value","disabled","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),b=()=>n.id??t.generateTriggerId(n.value),d=()=>t.listState().selectionManager().focusedKey()===n.value,c=()=>n.disabled||t.isDisabled(),l=()=>t.contentIdsMap().get(n.value);ae({getItem:()=>({ref:()=>e,type:"item",key:n.value,textValue:"",disabled:c()})});const r=te({key:()=>n.value,selectionManager:()=>t.listState().selectionManager(),disabled:c},()=>e),g=i=>{le()&&ce(i.currentTarget)};return C(x([()=>n.value,b],([i,u])=>{t.triggerIdsMap().set(i,u)})),a(P,p({as:"button",ref(i){var u=$(h=>e=h,n.ref);typeof u=="function"&&u(i)},get id(){return b()},role:"tab",get tabIndex(){return z(()=>!c())()?r.tabIndex():void 0},get disabled(){return c()},get"aria-selected"(){return r.isSelected()},get"aria-disabled"(){return c()||void 0},get"aria-controls"(){return z(()=>!!r.isSelected())()?l():void 0},get"data-key"(){return r.dataKey()},get"data-orientation"(){return t.orientation()},get"data-selected"(){return r.isSelected()?"":void 0},get"data-highlighted"(){return d()?"":void 0},get"data-disabled"(){return c()?"":void 0},get onPointerDown(){return T([n.onPointerDown,r.onPointerDown])},get onPointerUp(){return T([n.onPointerUp,r.onPointerUp])},get onClick(){return T([n.onClick,r.onClick,g])},get onKeyDown(){return T([n.onKeyDown,r.onKeyDown])},get onMouseDown(){return T([n.onMouseDown,r.onMouseDown])},get onFocus(){return T([n.onFocus,r.onFocus])}},v))}var pe=Object.assign(F,{Content:O,Indicator:E,List:k,Trigger:D});function R(o){const[e,t]=y(o,[]);return a(F,p(t,{"bool:n$":!1}))}function q(o){const[e,t]=y(o,["class"]);return a(k,p({get class(){return L(["relative inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e.class])}},t,{"bool:n$":!1}))}function W(o){const[e,t]=y(o,["class"]);return a(D,p({get class(){return L([`inline-flex items-center justify-center whitespace-nowrap\r
            rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background\r
            transition-all focus-visible:outline-none focus-visible:ring-2\r
            focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none\r
            disabled:opacity-50 data-[selected]:bg-background\r
            data-[selected]:text-foreground data-[selected]:shadow-sm`,e.class])}},t,{"bool:n$":!1}))}function _(o){const[e,t]=y(o,["class"]);return a(O,p({get class(){return L([`mt-2 ring-offset-background focus-visible:outline-none\r
            focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2`,e.class])}},t,{"bool:n$":!1}))}function ve(o){const[e,t]=y(o,["class"]);return a(E,p({get class(){return L([`duration-250ms absolute transition-all data-[orientation=horizontal]:-bottom-px\r
            data-[orientation=vertical]:-right-px data-[orientation=horizontal]:h-[2px]\r
            data-[orientation=vertical]:w-[2px]`,e.class])}},t,{"bool:n$":!1}))}const{fn:ye}=__STORYBOOK_MODULE_TEST__,ke={args:{onChange:ye()},argTypes:{value:{control:{type:"text"},table:{type:{summary:"string"}}},defaultValue:{control:{type:"text"},table:{type:{summary:"string"}}},onChange:{control:{type:!1},table:{type:{summary:"function"}}},orientation:{control:{type:"radio"},options:["vertical","horizontal"],table:{type:{summary:"[<StringEnum>]"}}},activationMode:{control:{type:"radio"},options:["manual","automatic"],table:{type:{summary:"[<StringEnum>]"}}},disabled:{control:{type:"boolean"},table:{type:{summary:"bool"}}}},render:o=>a(R,p(o,{"bool:n$":!1,get children(){return[a(q,{class:"grid w-full grid-cols-2",get children(){return[a(W,{value:"account",children:"Account"}),a(W,{value:"password",children:"Password"})]}}),a(_,{value:"account",children:"Account Tab"}),a(_,{value:"password",children:"Password tab"})]}})),component:R},M={args:{}},K={render:o=>a(R,p(o,{"bool:n$":!1,get children(){return[a(q,{class:"grid w-full grid-cols-2",get children(){return[a(D,{value:"account",children:"Account"}),a(D,{value:"password",children:"Password"}),a(ve,{class:"bg-primary"})]}}),a(_,{value:"account",children:"Account Tab"}),a(_,{value:"password",children:"Password tab"})]}}))};M.parameters={...M.parameters,docs:{...M.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...M.parameters?.docs?.source}}};K.parameters={...K.parameters,docs:{...K.parameters?.docs,source:{originalSource:`{
  render: PARTAS_RENDER_BUILDER => <Tabs {...PARTAS_RENDER_BUILDER} bool:n$={false}>\r
            <TabsList class="grid w-full grid-cols-2">\r
                <Trigger value="account">\r
                    Account\r
                </Trigger>\r
                <Trigger value="password">\r
                    Password\r
                </Trigger>\r
                <TabsIndicator class="bg-primary" />\r
            </TabsList>\r
            <TabsContent value="account">\r
                Account Tab\r
            </TabsContent>\r
            <TabsContent value="password">\r
                Password tab\r
            </TabsContent>\r
        </Tabs>
}`,...K.parameters?.docs?.source}}};const Fe=["Default","Indicator"];export{M as Default,K as Indicator,Fe as __namedExportsOrder,ke as default};
