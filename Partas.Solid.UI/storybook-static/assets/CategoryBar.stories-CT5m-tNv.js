import{m as x,s as H,b as g,t as v,p as M,j as p,i as tt,c as h,v as P,l as S,F as U,S as R,n as j,w as C}from"./iframe-DpV9HfhM.js";import{v as f,s as F,d as T,m as Z,o as et}from"./Option-CYzlgCrd.js";import{f as rt,b as nt,d as ot,t as st,i as I,e as W,g as q}from"./Array-DWVpP4VG.js";import{t as z,j as y,e as lt,s as at,b as it,h as V,k as w}from"./Util-1esvhydp.js";import{R as ut,t as ct}from"./Types-B1RBmUUG.js";import{c as mt,j as ft,i as dt}from"./String-iMN6AwVU.js";import{L as b,C as ht,b as pt}from"./Utils-BwHSRaIp.js";import{T as yt,a as _t,b as gt}from"./Tooltip-C2Q4Jj8a.js";import"./preload-helper-D9Z9MdNV.js";import"./2CTBMVJ4-BPAaHBdL.js";import"./LR7LBJN3-omwtyS89.js";import"./index-72e4RiF_.js";import"./FLVHQV4A-DEl4WC3m.js";import"./index-CmLBBZhh.js";import"./floating-ui.dom-BNE0r0Ci.js";import"./index-Ffqm9YWZ.js";import"./combineProps-DJFXUCSD.js";import"./3VFJM5NZ-oco3exf0.js";import"./E53DB7BS-BEG_Abf7.js";import"./FN6EICGO-R98tchyQ.js";import"./JNCCF6MP-4sxnBYeu.js";import"./5WXHJDCZ-DghNgBBa.js";import"./index-CPNFGJdg.js";import"./U42ECMND-BDjyePcW.js";const J="Collection was empty.";function St(e,t){if(t==null)throw new Error(mt("Value cannot be null. (Parameter '",e,..."')"));return t}class L extends ut{constructor(t,r){super(),this.head=t,this.tail=r}toString(){return"["+ft("; ",this)+"]"}Equals(t){const r=this;return r===t?!0:t instanceof L?((o,a)=>{t:for(;;){const n=o,c=a,m=n.tail,u=c.tail;if(m!=null)if(u!=null){const i=f(m),d=f(u);if(lt(n.head,c.head)){o=i,a=d;continue t}else return!1}else return!1;else return u==null}})(r,t):!1}GetHashCode(){return((s,l,o)=>{t:for(;;){const a=s,n=l,c=o,m=c.tail;if(m!=null){const u=f(m);if(a>18)return n|0;s=a+1,l=(n<<1)+at(c.head)+631*a,o=u;continue t}else return n|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const r=this;return t instanceof L?((o,a)=>{t:for(;;){const n=o,c=a,m=n.tail,u=c.tail;if(m!=null)if(u!=null){const i=f(m),d=f(u),_=it(n.head,c.head)|0;if(_===0){o=i,a=d;continue t}else return _|0}else return 1;else return u!=null?-1:0}})(r,t)|0:1}GetEnumerator(){return Ct(this)}[Symbol.iterator](){return z(y(this))}"System.Collections.IEnumerable.GetEnumerator"(){return y(this)}}class vt{constructor(t){this.xs=t,this.it=this.xs,this.current=V()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,r=t.it.tail;if(r!=null){const s=f(r);return t.current=t.it.head,t.it=s,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=V()}Dispose(){}}function Ct(e){return new vt(e)}function bt(e){return e.tail==null}function xt(e){return((r,s)=>{t:for(;;){const l=r,a=s.tail;if(a!=null){r=l+1,s=f(a);continue t}else return l|0}})(0,e)|0}function wt(e){if(e.tail!=null)return e.head;throw new Error(J+"\\nParameter name: list")}function Et(e){const t=e.tail;if(t!=null)return f(t);throw new Error(J+"\\nParameter name: list")}function $t(e){const t=xt(e)|0,r=rt(new Array(t),0,t,null);return((l,o)=>{t:for(;;){const a=l,n=o;if(!bt(n)){nt(r,a,wt(n)),l=a+1,o=Et(n);continue t}break}})(0,e),r}const At="Enumeration already finished.",It="Enumeration has not started. Call MoveNext.",Lt="Reset is not supported on this enumerator.";function kt(){throw new Error(Lt)}function K(){throw new Error(It)}function N(){throw new Error(At)}class Pt{constructor(t){this.f=t}toString(){const t=this;let r=0,s="seq [";const l=y(t);try{for(;r<4&&l["System.Collections.IEnumerator.MoveNext"]();)r>0&&(s=s+"; "),s=s+ct(l["System.Collections.Generic.IEnumerator`1.get_Current"]()),r=r+1|0;return r===4&&(s=s+"; ..."),s+"]"}finally{w(l)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return z(y(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Rt(e){return new Pt(e)}class Vt{constructor(t,r,s){this.current=t,this.next=r,this.dispose=s}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){kt()}Dispose(){this.dispose()}}function Q(e,t,r){return new Vt(e,t,r)}function Nt(e){let t,r,s=!1,l=!1,o;const a=()=>{if(l=!0,r!=null){const n=f(r);try{w(n)}finally{r=void 0}}if(t!=null){const n=f(t);try{w(n)}finally{t=void 0}}};return Q(()=>(s?l&&N():K(),o!=null?f(o):N()),()=>{if(s||(s=!0),l)return!1;{let n;for(;n==null;){let c;const m=t,u=r;if(m!=null)if(u!=null){const i=f(u);if(i["System.Collections.IEnumerator.MoveNext"]())o=F(i["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=!0;else try{w(i)}finally{r=void 0}}else{const i=f(m);i["System.Collections.IEnumerator.MoveNext"]()?r=(c=i["System.Collections.Generic.IEnumerator`1.get_Current"](),y(c)):(a(),n=!1)}else t=y(e)}return f(n)}},()=>{l||a()})}function Ft(e,t,r){let s=!1,l,o=F(e());const a=()=>{if(o!=null){const c=f(o);try{r(c)}finally{o=void 0}}},n=()=>{try{a()}finally{l=void 0}};return Q(()=>(s||K(),l!=null?f(l):N()),()=>{if(s||(s=!0),o!=null){const c=f(o);let m;try{m=t(c)}catch(u){throw n(),u}return m!=null?(l=m,!0):(n(),!1)}else return!1},a)}function O(e){return Rt(e)}function Tt(e){return y(St("source",e))}function E(e){return O(()=>y(e()))}function X(e){return O(()=>Nt(e))}function D(){return E(()=>new Array(0))}function Ot(e){return E(()=>ot(e))}function Gt(e){return e instanceof L?$t(e):Array.from(e)}function Mt(e,t,r){return O(()=>Ft(e,t,r))}function jt(e,t){return X([e,t])}function qt(e,t){return Mt(()=>Tt(t),r=>r["System.Collections.IEnumerator.MoveNext"]()?F(e(r["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,r=>{w(r)})}function Dt(e,t){return E(()=>X(qt(e,t)))}var Bt=v('<div><div class="absolute bottom-0 left-0 flex items-center">0</div><div class="absolute right-0 bottom-0 flex items-center">'),Ht=v('<span class="block translate-x-1/2 text-sm tabular-nums">'),Ut=v('<div class="flex items-center justify-end pr-0.5">'),Zt=v('<div><div class="absolute size-7 -translate-x-[45%] -translate-y-[15%]">'),$=v("<div>"),Wt=v('<div arialabel="Category bar"><div class="relative flex h-2 w-full items-center"><div class="flex h-full flex-1 items-center gap-0.5 overflow-hidden rounded-full">');function zt(e,t,r){let s,l;return T(Z(o=>I(o,r).bg,e!=null?e===0?q(o=>0<o,t):(s=e,l=0,et(q(o=>(l=l+o,l>=s),t),r.length-1)):void 0),"")}function Y(e,t){return T(Z(r=>r/t*100,e),0)}function Jt(e){e=x({values:[]},e);const[t,r]=H(e,["values"]),s=g(()=>W(t.values,{GetZero:()=>0,Add:(o,a)=>o+a})),l=g(()=>{let o=0,a=0;return Gt(E(()=>Dt(n=>{o=o+n;const c=(n>=.1*s()?!0:a>=.09*s())&&s()-o>=.1*s()&&o>=.1*s()&&o<.9*s();return jt(c?(a=0,D()):(a=a+n,D()),E(()=>{const m=Y(n,s());return Ot({prefixSum:~~o,showLabel:c,widthPositionleft:m})}))},t.values)))});return(()=>{var o=Bt(),a=o.firstChild,n=a.nextSibling;return p(o,h(U,{get each(){return t.values},children:(c,m)=>(()=>{var u=Ut();return p(u,h(R,{get when(){return I(m(),l()).showLabel},get children(){var i=Ht();return p(i,()=>I(m(),l()).prefixSum),i}})),S(i=>P(u,"width",`${I(m(),l()).widthPositionleft}%`)),u})()}),n),p(n,()=>~~s()),S(()=>C(o,b(["relative mb-2 flex h-5 w-full text-sm font-medium text-primary"]))),o})()}function B(e){e=x({values:[],colors:ht,showLabels:!0,showAnimation:!1,tooltip:V()},e);const[t,r]=H(e,["marker","values","colors","showLabels","showAnimation","tooltip"]),s=g(()=>zt(t.marker,t.values,t.colors)),l=g(()=>W(t.values,{GetZero:()=>0,Add:(n,c)=>n+c})),o=g(()=>{const n=t.marker;return n!=null?n<0?0:n>l()?l():n:void 0}),a=g(()=>Y(o(),l()));return(()=>{var n=Wt(),c=n.firstChild,m=c.firstChild;return M(n,x({get ariaValueNow(){return t.marker}},r),!1,!0),p(n,(()=>{var u=tt(()=>!!t.showLabels);return()=>u()?h(Jt,{get values(){return t.values}}):void 0})(),c),p(m,h(U,{get each(){return t.values},children:(u,i)=>{let d;const _=T((d=t.colors,st(i(),d)),pt),G=u/l()*100;return(()=>{var k=$();return P(k,"width",`${G}%`),S(()=>C(k,b(["h-full",_.bg,G<=0?"hidden":null]))),k})()}})),p(c,h(R,{get when(){return t.marker},get children(){var u=$();return p(u,h(R,{get when(){return!dt(t.tooltip)},get fallback(){return(()=>{var i=$();return S(()=>C(i,b(["mx-auto h-4 w-1 rounded-full ring-2 ring-background",s()]))),i})()},get children(){return h(yt,{get children(){return[h(_t,{as:i=>(()=>{var d=$();return M(d,x(i,{"on:n$":!1}),!1,!1),d})(),get children(){var i=Zt(),d=i.firstChild;return j(i,"ariahidden",!0),j(d,"ariahidden",!0),S(()=>C(i,b(["relative mx-auto h-4 w-1 rounded-full ring-2 ring-background",s()]))),i}}),h(gt,{get children(){return t.tooltip}})]}})}})),S(i=>{var d=b(["absolute w-2 -translate-x-1/2",t.showAnimation&&"transform-gpu transition-all duration-300 ease-in-out"]),_=`${a()}%`;return d!==i.e&&C(u,i.e=d),_!==i.t&&P(u,"left",i.t=_),i},{e:void 0,t:void 0}),u}}),null),n})()}const ve={args:{},argTypes:{values:{control:{type:"object"},table:{type:{summary:"Array of Number (Float64, Empty)"}}},colors:{control:{type:"object"},table:{type:{summary:`Array of DeclaredType
  ({ FullName = "Partas.Solid.UI.Utils.Charts.ChartColor"
     Path =
      SourcePath
        "C:/Users/shaya/RiderProjects/Partas.Solid.UIKit/Partas.Solid.UI/Utils.fs" },
   [])`}}},marker:{control:{type:"number"},table:{type:{summary:"float64"}}},tooltip:{control:{type:"text"},table:{type:{summary:"string"}}},showAnimation:{control:{type:"boolean"},table:{type:{summary:"bool"}}},showLabels:{control:{type:"boolean"},table:{type:{summary:"bool"}}}},render:e=>h(B,x({class:"mx-auto max-w-sm"},e,{"bool:n$":!1})),component:B},A={args:{values:[10,10,20],marker:17,tooltip:"68",showAnimation:!0}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  args: {
    values: [10, 10, 20],
    marker: 17,
    tooltip: "68",
    showAnimation: true
  }
}`,...A.parameters?.docs?.source}}};const Ce=["Default"];export{A as Default,Ce as __namedExportsOrder,ve as default};
