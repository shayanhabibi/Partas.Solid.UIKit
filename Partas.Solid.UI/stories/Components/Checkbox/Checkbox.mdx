import { Meta, Controls, Title, Stories, Canvas } from '@storybook/addon-docs/blocks';
import * as CheckboxStories from './Checkbox.stories';

<Meta of={CheckboxStories} />
<Title />

A checkbox with two states by default, and a third state when controlled via 'indeterminate' (aka undefined).

```fsharp
Checkbox()
Label() { "Checkbox Label" }
```

<Canvas of={CheckboxStories.Default} withToolbar={true} sourceState={"none"} layout={"centered"} />
<Controls/>

### Labels

You can connect a label to the checkbox input by the following:

```fsharp
Checkbox(id="checkbox1")
Label(for'="checkbox1-input") { "Click me!" }
```

<Canvas of={CheckboxStories.ConnectedLabel} withToolbar={true} sourceState={"none"} layout={"centered"} />

#### Controlled State

However, simultaneously controlling the state can seemingly break that connection. *to be investigated*

```fsharp
render "Validation" (fun props ->
    let value,setValue = createSignal(false)
    div(class' = "flex flex-row place-items-center gap-2") {
        Checkbox(id = "checkbox2",
                 onChange = fun value -> value |> unbox |> setValue
                 ,checked' = value()
                 ,validationState =
                     if value() then ValidationState.Invalid
                     else ValidationState.Valid)
        Label(for' = "checkbox2-input") { "Don't want to be checked!" }
    }
    )
```

<Canvas of={CheckboxStories.Validation} sourceState="none" withToolbar={true} layout="centered" />

> This is possibly an issue related to the interaction between storybook and solidjs/kobalte, as the connection
> works when viewing the story in isolation.
